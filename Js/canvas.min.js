var _0x2ab462 = _0x5814; (function (_0x271d65, _0x310c69) { var _0xc02c0b = _0x5814, _0x1b887a = _0x271d65(); while (!![]) { try { var _0x1804ac = -parseInt(_0xc02c0b(0x113)) / 0x1 * (-parseInt(_0xc02c0b(0x104)) / 0x2) + -parseInt(_0xc02c0b(0x14e)) / 0x3 * (parseInt(_0xc02c0b(0x1cd)) / 0x4) + -parseInt(_0xc02c0b(0x11e)) / 0x5 * (parseInt(_0xc02c0b(0x2a7)) / 0x6) + parseInt(_0xc02c0b(0x114)) / 0x7 + parseInt(_0xc02c0b(0x185)) / 0x8 * (parseInt(_0xc02c0b(0x21d)) / 0x9) + -parseInt(_0xc02c0b(0x153)) / 0xa * (parseInt(_0xc02c0b(0x1b7)) / 0xb) + parseInt(_0xc02c0b(0x1cf)) / 0xc * (parseInt(_0xc02c0b(0x1d3)) / 0xd); if (_0x1804ac === _0x310c69) break; else _0x1b887a['push'](_0x1b887a['shift']()); } catch (_0x91dcc2) { _0x1b887a['push'](_0x1b887a['shift']()); } } }(_0x269a, 0x2862a)); let particles = [], snows = [], rains = [], camera, pathIndex = 0x0; get = function (_0x30dd04) { var _0x1944ff = _0x5814; return document[_0x1944ff(0x2b1)](_0x30dd04); }, getAll = function (_0x202592) { return document['querySelectorAll'](_0x202592); }; let reqA, imSet = ![], friction = 0.5, isCamera = ![], tileAnimation, objframe = 0x0, layerframe = 0x0, saveBg, frame = 0x0; const dpr = ~~window[_0x2ab462(0xfe)] || 0x1, MapScaleX = dpr + 1.5, MapScaleY = dpr + 0x1; let isFake = ![], isDrawable = ![]; const log = console['log']; let self, rotImage = ![], toJson = JSON['stringify'], ctx, buffer, buffer2, scaleX = 0x1, scaleY = 0x1, delta = 0.017, stage, stage2, stage3, stage4; function Stage() { var _0x215fc2 = _0x2ab462; self = { 'stage': document[_0x215fc2(0x1b1)](_0x215fc2(0x272)), 'stage2': document['createElement'](_0x215fc2(0x272)), 'stage3': document[_0x215fc2(0x1b1)]('canvas'), 'stage4': document['createElement']('canvas') }, self[_0x215fc2(0x22f)] = ![], this[_0x215fc2(0xe4)] = {}, this[_0x215fc2(0x2af)] = {}, self[_0x215fc2(0x240)] = ![], self['preload'] = (_0x2bcfe8, _0x191ba7) => { var _0x5011e4 = _0x215fc2; if (_0x191ba7[_0x5011e4(0x18e)](_0x5011e4(0x12f)) || _0x191ba7[_0x5011e4(0x18e)](_0x5011e4(0x1fd)) || _0x191ba7['endsWith'](_0x5011e4(0x1ff))) return this[_0x5011e4(0x253)] = new Image(), this[_0x5011e4(0x253)][_0x5011e4(0x23c)] = () => { this['images'][_0x2bcfe8] = this['img'], self['assetLoader'] = !![]; }, this[_0x5011e4(0x253)][_0x5011e4(0x171)] = _0x504a55 => { var _0x28706c = _0x5011e4; console['error'](_0x28706c(0x177) + _0x2bcfe8 + ':\x20' + _0x504a55['message']); }, this[_0x5011e4(0x253)]['src'] = _0x191ba7; else { if (_0x191ba7[_0x5011e4(0x18e)](_0x5011e4(0x206)) || _0x191ba7[_0x5011e4(0x18e)](_0x5011e4(0x101)) || _0x191ba7[_0x5011e4(0x18e)](_0x5011e4(0x176)) || _0x191ba7[_0x5011e4(0x18e)](_0x5011e4(0x184))) return this[_0x5011e4(0x102)] = new Audio(), this[_0x5011e4(0x102)][_0x5011e4(0x23c)] = () => { var _0x4e50e8 = _0x5011e4; this[_0x4e50e8(0x2af)][_0x2bcfe8] = this[_0x4e50e8(0x102)], self['assetLoader'] = !![]; }, this[_0x5011e4(0x102)]['onerror'] = _0xf72030 => { var _0x55961a = _0x5011e4; console['error'](_0x55961a(0x177) + _0x2bcfe8 + ':\x20' + _0xf72030[_0x55961a(0x1eb)]); }, this[_0x5011e4(0x102)][_0x5011e4(0x127)] = _0x191ba7; else log('Bad\x20file\x20extension\x20for\x20:\x20' + _0x2bcfe8); } }, Sprite['prototype'][_0x215fc2(0x1f5)] = function (_0x595363) { let _0x52122b = this, _0x28653c = setInterval(() => { var _0x510509 = _0x5814; if (self[_0x510509(0x22f)]) { if (Array['isArray'](_0x52122b)) for (let _0x1e5a24 of _0x52122b) { _0x1e5a24[_0x510509(0x255)][_0x510509(0x127)] = _0x595363; } else _0x52122b[_0x510509(0x255)][_0x510509(0x127)] = _0x595363; clearInterval(_0x28653c); } }, 0x64); return _0x52122b; }, SpriteSheet[_0x215fc2(0x28a)]['useImage'] = function (_0x218e9c) { let _0x12ce95 = this, _0x5d4548 = setInterval(() => { var _0x3c893b = _0x5814; if (self[_0x3c893b(0x22f)]) { if (Array['isArray'](_0x12ce95)) for (let _0x4f9532 of _0x12ce95) { _0x4f9532['image'][_0x3c893b(0x127)] = _0x218e9c; } else _0x12ce95[_0x3c893b(0x255)][_0x3c893b(0x127)] = _0x218e9c; clearInterval(_0x5d4548); } }, 0x64); return _0x12ce95; }, self[_0x215fc2(0x1d4)] = (_0x1e8e33, _0x219207, _0x28e3f8, _0x14975a, _0x3f4f80) => { var _0x2df0ab = _0x215fc2; if (self[_0x2df0ab(0x1c1)]) return this[_0x2df0ab(0xe4)] != undefined ? this['img'] = this[_0x2df0ab(0xe4)][_0x1e8e33] : console['error'](_0x1e8e33 + '\x20is\x20not\x20loaded.'), this[_0x2df0ab(0x255)]; }, self[_0x215fc2(0x218)] = function (_0x361c47, _0x1e113b, _0x522ca1) { var _0x4f41b2 = _0x215fc2; _0x361c47[_0x4f41b2(0x23b)] ? _0x1e113b['vx'] = -_0x522ca1 : _0x1e113b['vx'] = _0x522ca1, _0x1e113b['x'] += _0x1e113b['vx'], _0x1e113b['vx'] *= 0.6, Math[_0x4f41b2(0x20d)](_0x1e113b['vx']) < 0.1 && (_0x1e113b['vx'] = 0x0); }; const _0x5007b3 = new AudioContext(); self[_0x215fc2(0x2a1)] = function (_0x50946a = _0x215fc2(0x154), _0x44a8d7) { var _0x568e95 = _0x215fc2; try { const _0x52eb8a = _0x5007b3[_0x568e95(0x26f)](); _0x52eb8a[_0x568e95(0xf6)] = _0x50946a; var _0xc6d597 = _0x5007b3[_0x568e95(0x1c2)](); _0x52eb8a['frequency'][_0x568e95(0x15e)](_0x44a8d7, _0x5007b3['currentTime']), _0x52eb8a[_0x568e95(0x192)](_0xc6d597)[_0x568e95(0x192)](_0x5007b3[_0x568e95(0x139)]), _0x52eb8a[_0x568e95(0x173)](), _0x52eb8a[_0x568e95(0x25f)](_0x5007b3[_0x568e95(0x22c)] + 0.09); } catch (_0x3c8c42) { } this[_0x568e95(0x276)] = _0x4f7a42 => { _0xc6d597['gain']['value'] = _0x4f7a42; }; }, stage = self[_0x215fc2(0x16f)], stage2 = self['stage2'], stage3 = self[_0x215fc2(0x1c7)], stage4 = self['stage4']; self['scale'] == undefined && (self['scale'] = 0x1); self['stage'][_0x215fc2(0x133)][_0x215fc2(0x1fc)] = _0x215fc2(0x26a), self['stage4'][_0x215fc2(0x133)][_0x215fc2(0x1fc)] = _0x215fc2(0x26a), self[_0x215fc2(0x16f)][_0x215fc2(0x133)][_0x215fc2(0x23f)] = 0x1, self[_0x215fc2(0x195)]['style'][_0x215fc2(0x23f)] = 0x2, self['stage3'][_0x215fc2(0x133)][_0x215fc2(0x23f)] = 0x3, self[_0x215fc2(0x1c7)][_0x215fc2(0x133)][_0x215fc2(0x23f)] = 0x270f, self['stage'][_0x215fc2(0x133)][_0x215fc2(0x15b)] = _0x215fc2(0x247); screen['availWidth'] <= 0x2f8 && (self['stage'][_0x215fc2(0x133)][_0x215fc2(0x15b)] = '35%'); self[_0x215fc2(0x16f)][_0x215fc2(0x133)][_0x215fc2(0x122)] = _0x215fc2(0x146), self[_0x215fc2(0x16f)][_0x215fc2(0x133)]['background'] = _0x215fc2(0x15f); let _0x34ef91 = get(_0x215fc2(0x19f)); _0x34ef91['style'][_0x215fc2(0x24b)] = 0x0, _0x34ef91[_0x215fc2(0x133)][_0x215fc2(0x198)] = _0x215fc2(0xf5), _0x34ef91[_0x215fc2(0x133)][_0x215fc2(0x1ee)] = _0x215fc2(0x25d), _0x34ef91[_0x215fc2(0x133)][_0x215fc2(0x134)] = _0x215fc2(0x25d), _0x34ef91[_0x215fc2(0x133)]['overflow'] = _0x215fc2(0x1d5), _0x34ef91[_0x215fc2(0x133)][_0x215fc2(0x23e)] = _0x215fc2(0x13c), _0x34ef91[_0x215fc2(0x133)]['userSelect'] = _0x215fc2(0x197), self[_0x215fc2(0x230)] = function (_0x40b420) { var _0x52059d = _0x215fc2; stage[_0x52059d(0x133)]['zoom'] = _0x40b420; }, self[_0x215fc2(0x23a)] = (_0x384833, _0x5b69c3, _0x32d2ca) => { var _0x5f517a = _0x215fc2; let _0xbf4f74 = null, _0x587809 = Infinity; _0x5b69c3[_0x5f517a(0x193)](_0x208a19 => { var _0x7cd6af = _0x5f517a; const _0xb5e85a = self[_0x7cd6af(0x204)](_0x208a19, _0x384833); _0x208a19[_0x7cd6af(0x188)] = _0x208a19['radius'] || _0x208a19['r'] || _0x208a19['w'], _0xb5e85a < _0x587809 && (_0x587809 = _0xb5e85a, _0xbf4f74 = _0x208a19), _0x208a19['w'] ? _0xbf4f74['radius'] = Math[_0x7cd6af(0x174)]((_0x208a19['w'] / 0x2) ** 0x2 + (_0x208a19['h'] / 0x2) ** 0x2) : _0xbf4f74[_0x7cd6af(0x188)] = _0x208a19['radius']; }); if (_0xbf4f74 && _0x587809 - _0xbf4f74[_0x5f517a(0x188)] <= _0x32d2ca) { if (_0x384833[_0x5f517a(0xf6)] == _0x5f517a(0x227)) _0x384833['angle'] = self[_0x5f517a(0xec)](_0xbf4f74, _0x384833); else _0x384833[_0x5f517a(0x1d9)] = self[_0x5f517a(0xec)](_0x384833, _0xbf4f74); } else _0x384833[_0x5f517a(0x1d9)] = 0x0; }, self['setAutoScale'] = function () { var _0x259ea4 = _0x215fc2; const _0x123962 = window[_0x259ea4(0x1e9)], _0x51d6fc = window[_0x259ea4(0x141)]; let _0xb0ffc6 = stage[_0x259ea4(0x270)] / stage[_0x259ea4(0x25c)], _0x2138a6 = _0x123962, _0x1d5702 = _0x51d6fc; const _0xba1ae = _0x123962 / _0x51d6fc; _0xba1ae > _0xb0ffc6 ? _0x2138a6 = _0x51d6fc * _0xb0ffc6 : _0x1d5702 = _0x123962 / _0xb0ffc6; let _0xcb0443 = 1.9, _0x4e92d7 = 1.9; screen[_0x259ea4(0x270)] <= 0x338 && (_0xcb0443 = 1.4, _0x4e92d7 = 1.15); let _0x46f84a = Math[_0x259ea4(0x1c0)](_0x2138a6 / stage['width'], _0xcb0443), _0x533eee = Math[_0x259ea4(0x1c0)](_0x1d5702 / stage[_0x259ea4(0x25c)], _0x4e92d7); stage[_0x259ea4(0x133)]['width'] = stage[_0x259ea4(0x270)] * _0x46f84a + 'px', stage[_0x259ea4(0x133)][_0x259ea4(0x25c)] = stage['height'] * _0x533eee + 'px', _0x34ef91[_0x259ea4(0x133)][_0x259ea4(0x24b)] = '0', _0x34ef91['style'][_0x259ea4(0x198)] = _0x259ea4(0xf5), _0x34ef91[_0x259ea4(0x133)][_0x259ea4(0x1ee)] = _0x259ea4(0x25d), _0x34ef91[_0x259ea4(0x133)][_0x259ea4(0x134)] = _0x259ea4(0x25d), _0x34ef91[_0x259ea4(0x133)][_0x259ea4(0x11f)] = _0x259ea4(0x197), _0x34ef91['style']['overflow'] = _0x259ea4(0x1d5), _0x34ef91[_0x259ea4(0x133)][_0x259ea4(0x23e)] = _0x259ea4(0x13c); }; screen['width'] > 0x3de && window[_0x215fc2(0x172)](_0x215fc2(0x14d), self[_0x215fc2(0x1b4)]); self[_0x215fc2(0x285)] = function (_0x26697b) { var _0x5b5d5b = _0x215fc2; _0x26697b[_0x5b5d5b(0xe3)] = 0.3, _0x26697b[_0x5b5d5b(0x286)] = ![], _0x26697b[_0x5b5d5b(0x26b)] = setTimeout(() => { var _0x843b10 = _0x5b5d5b; _0x26697b[_0x843b10(0xe3)] = 0x1, clearTimeout(_0x26697b['flashId']); }, 0x46); }, self[_0x215fc2(0x27d)] = function (_0x476c45, _0x322a93) { var _0x3ce439 = _0x215fc2; _0x476c45['w'] = _0x322a93 - 0x3, _0x476c45[_0x3ce439(0x1dc)] = setTimeout(() => { var _0x2e954f = _0x3ce439; _0x476c45['w'] = _0x322a93, clearTimeout(_0x476c45[_0x2e954f(0x1dc)]); }, 0x10e); }, self[_0x215fc2(0xea)] = function (_0x3ff745, _0x27f833) { var _0x4d438d = _0x215fc2; this['b'] = _0x27f833, _0x27f833 == undefined && document[_0x4d438d(0x19f)]['appendChild'](_0x3ff745), _0x27f833 !== undefined && _0x27f833 == _0x4d438d(0xfc) && document['body'][_0x4d438d(0xfc)](_0x3ff745); }, self['delete'] = function (_0x35feef) { var _0x2d01cf = _0x215fc2; document['body'][_0x2d01cf(0x106)](_0x35feef); }, self[_0x215fc2(0x2a5)] = function (_0x1d08a9, _0xaf5bec) { return this['src'] = _0xaf5bec, this['id'] = _0x1d08a9, this; }, self['setSpriteImage'] = function (_0x1c179e) { var _0x476c59 = _0x215fc2; try { if (!Array['isArray'](sprite) && sprite['id'] == _0x1c179e['id']) return sprite[_0x476c59(0x255)][_0x476c59(0x127)] = _0x1c179e[_0x476c59(0x127)]; for (let _0x576448 of sprite) { _0x576448['id'] == _0x1c179e['id'] && (_0x576448[_0x476c59(0x255)][_0x476c59(0x127)] = _0x1c179e[_0x476c59(0x127)]); } } catch (_0x1145e3) { } }; var _0x296d22; self[_0x215fc2(0x16f)]['setBg'] = function (_0x3dc535) { var _0x151851 = _0x215fc2; this['c'] = _0x3dc535; isFake && (_0x296d22 = this['c'] || _0x151851(0x1cb)); if (this['c'] == undefined || _0x3dc535 == undefined || this['c'] == '') self['stage'][_0x151851(0x133)][_0x151851(0x23e)] = _0x296d22, self[_0x151851(0x195)][_0x151851(0x133)][_0x151851(0x23e)] = _0x151851(0x1cb), self[_0x151851(0x1c7)][_0x151851(0x133)][_0x151851(0x23e)] = 'transparent', self[_0x151851(0x236)][_0x151851(0x133)][_0x151851(0x23e)] = _0x151851(0x1cb); else { if (isFake && this['c'] == undefined || _0x3dc535 == undefined || this['c'] == '') self[_0x151851(0x16f)][_0x151851(0x133)][_0x151851(0x23e)] = 'transparent', self[_0x151851(0x195)]['style'][_0x151851(0x23e)] = _0x151851(0x1cb), self[_0x151851(0x1c7)][_0x151851(0x133)][_0x151851(0x23e)] = _0x151851(0x1cb), self['stage4'][_0x151851(0x133)][_0x151851(0x23e)] = _0x151851(0x1cb); else this['c'] && !isFake && (_0x296d22 = this['c'], self['stage'][_0x151851(0x133)][_0x151851(0x23e)] = _0x296d22, self[_0x151851(0x195)][_0x151851(0x133)]['background'] = _0x151851(0x1cb), self[_0x151851(0x1c7)]['style']['background'] = _0x151851(0x1cb), self[_0x151851(0x236)]['style'][_0x151851(0x23e)] = _0x151851(0x1cb)); } this['c'] == undefined && !isFake && (_0x296d22 = 'rgba(17,34,51,0.8)', self[_0x151851(0x16f)]['style'][_0x151851(0x23e)] = _0x296d22, self['stage2'][_0x151851(0x133)][_0x151851(0x23e)] = _0x151851(0x1cb), self[_0x151851(0x1c7)][_0x151851(0x133)]['background'] = _0x151851(0x1cb), self[_0x151851(0x236)][_0x151851(0x133)][_0x151851(0x23e)] = _0x151851(0x1cb)); }, self[_0x215fc2(0x244)] = function (_0x48bf59, _0x5c06e2, _0x410bb7, _0x365c22) { var _0x3c96c1 = _0x215fc2; return { 'x': Math[_0x3c96c1(0x27a)](_0x48bf59 / _0x410bb7), 'y': Math[_0x3c96c1(0x27a)](_0x5c06e2 / _0x365c22) }; }, self[_0x215fc2(0x164)] = function (_0x17a4c9) { var _0x28bff3 = _0x215fc2; if (loader) { const _0x51deb8 = []; for (let _0x2033bc = 0x0; _0x2033bc < _0x17a4c9[_0x28bff3(0x25c)]; _0x2033bc++) { _0x51deb8[_0x2033bc] = []; for (let _0x5e1eca = 0x0; _0x5e1eca < _0x17a4c9[_0x28bff3(0x270)]; _0x5e1eca++) { const _0x4e8c88 = _0x2033bc * _0x17a4c9[_0x28bff3(0x270)] + _0x5e1eca; _0x51deb8[_0x2033bc][_0x5e1eca] = _0x17a4c9[_0x28bff3(0x1da)][_0x4e8c88]; } } return _0x51deb8; } }, self['pageLoad'] = ![], document['addEventListener'](_0x215fc2(0x11b), function () { var _0x2d6951 = _0x215fc2; try { self[_0x2d6951(0x178)](), self[_0x2d6951(0x254)] = !![]; } catch (_0x37255c) { log(); } }), self[_0x215fc2(0x19c)] = function (_0x3eddd3, _0x177f46) { var _0x572930 = _0x215fc2; this['a'] = _0x3eddd3 * self[_0x572930(0x293)], this['b'] = _0x177f46 * self[_0x572930(0x293)]; if (this['a'] && this['b']) { gW = self[_0x572930(0x16f)][_0x572930(0x270)] = self[_0x572930(0x195)]['width'] = self[_0x572930(0x1c7)]['width'] = self[_0x572930(0x236)][_0x572930(0x270)] = this['a'], gH = self[_0x572930(0x16f)][_0x572930(0x25c)] = self[_0x572930(0x195)]['height'] = self[_0x572930(0x1c7)][_0x572930(0x25c)] = self[_0x572930(0x236)][_0x572930(0x25c)] = this['b']; if (screen[_0x572930(0x270)] >= 0x3e8 && self[_0x572930(0x240)]) { const _0x1ff7b7 = _0x177f46 / _0x3eddd3; self[_0x572930(0x16f)][_0x572930(0x133)][_0x572930(0x15b)] = _0x572930(0x1b2), self[_0x572930(0x16f)][_0x572930(0x133)][_0x572930(0x270)] = _0x572930(0x15c), self[_0x572930(0x16f)][_0x572930(0x133)][_0x572930(0x25c)] = _0x572930(0x145) + _0x1ff7b7 + ')', self[_0x572930(0x230)](0.3); } else { if (screen['width'] < 0x3e8) { const _0x3f8eca = _0x177f46 / _0x3eddd3; self[_0x572930(0x16f)][_0x572930(0x133)][_0x572930(0x15b)] = _0x572930(0x215), self['stage']['style'][_0x572930(0x270)] = _0x572930(0x162), self[_0x572930(0x16f)][_0x572930(0x133)]['height'] = _0x572930(0x275) + _0x3f8eca + ')', self[_0x572930(0x230)](0.3); } } } }; this['a'] == undefined && this['b'] == undefined && (gW = self[_0x215fc2(0x16f)]['width'] = self[_0x215fc2(0x195)][_0x215fc2(0x270)] = self[_0x215fc2(0x1c7)][_0x215fc2(0x270)] = innerWidth, gH = self[_0x215fc2(0x16f)][_0x215fc2(0x25c)] = self[_0x215fc2(0x195)][_0x215fc2(0x25c)] = self[_0x215fc2(0x1c7)][_0x215fc2(0x25c)] = innerHeight); camera = { 'x': 0x1, 'y': 0x1, 'width': gW, 'height': gH }, self[_0x215fc2(0x16f)][_0x215fc2(0x1a0)] = function (_0x3233be) { }, self[_0x215fc2(0x16f)][_0x215fc2(0x133)]['imageRendering'] = _0x215fc2(0x146), self[_0x215fc2(0x195)][_0x215fc2(0x133)][_0x215fc2(0x122)] = _0x215fc2(0x146), self['stage3'][_0x215fc2(0x133)][_0x215fc2(0x122)] = 'pixelated', ctx = self[_0x215fc2(0x16f)][_0x215fc2(0x24a)]('2d', { 'willReadFrequently': ![] }), buffer = self[_0x215fc2(0x195)][_0x215fc2(0x24a)]('2d', { 'willReadFrequently': ![] }), buffer2 = self[_0x215fc2(0x1c7)][_0x215fc2(0x24a)]('2d'), buffer3 = self['stage4'][_0x215fc2(0x24a)]('2d'), rectColor = function (_0x9bad90) { var _0x2b89f2 = _0x215fc2; buffer[_0x2b89f2(0xe9)] = _0x9bad90; }, strokeColor = function (_0x3e9514) { var _0x2fdefc = _0x215fc2; buffer[_0x2fdefc(0x19d)] = _0x3e9514; }, Rect = function (_0x47ee3f, _0xba19a7 = _0x47ee3f[_0x215fc2(0x2a0)]) { var _0x3969f5 = _0x215fc2; buffer[_0x3969f5(0xe9)] = _0xba19a7, buffer[_0x3969f5(0x228)](_0x47ee3f['x'], _0x47ee3f['y'], _0x47ee3f['w'], _0x47ee3f['h']); }, Stroke = function (_0x57c45c, _0xca0fd2 = _0x57c45c[_0x215fc2(0x2a0)]) { var _0x346fa6 = _0x215fc2; buffer[_0x346fa6(0x19d)] = _0xca0fd2, buffer[_0x346fa6(0x1b6)](_0x57c45c['x'], _0x57c45c['y'], _0x57c45c['w'], _0x57c45c['h']); }; let _0x42ecba = []; self[_0x215fc2(0x1b3)] = function (_0x14d43f, _0x21477f, _0x43cbd1, _0x230ffa, _0x2a8ce7, _0xb22e2f = ![]) { var _0x186be6 = _0x215fc2; return this[_0x186be6(0xf9)] = _0x2a8ce7, this[_0x186be6(0x127)] = _0x21477f, this[_0x186be6(0x233)] = _0x230ffa, this[_0x186be6(0x28f)] = _0x43cbd1, this[_0x186be6(0xe6)] = _0x14d43f, this['startIndex'] > 0x0 ? this['index'] = frame % this[_0x186be6(0x28f)] + 0x1 : this[_0x186be6(0x105)] = frame % this[_0x186be6(0x28f)], this[_0x186be6(0xe8)] = _0xb22e2f, this[_0x186be6(0xe8)] ? this[_0x186be6(0x261)] = '\x20' + this[_0x186be6(0x127)] + '(' + this[_0x186be6(0x105)] + _0x186be6(0x279) : this[_0x186be6(0x261)] = '\x20' + this[_0x186be6(0x127)] + this[_0x186be6(0x105)] + _0x186be6(0x12f), frame % this[_0x186be6(0xf9)] == 0x0 && (this[_0x186be6(0xe6)]['image']['src'] = this[_0x186be6(0x261)]), this['index']; }, self[_0x215fc2(0x246)] = function (_0x558805) { var _0x2213ce = _0x215fc2; const _0x45bec6 = data['layers'][_0x2213ce(0x18d)](_0x35a8a5 => _0x35a8a5[_0x2213ce(0x28d)] == _0x558805 && _0x35a8a5[_0x2213ce(0xf6)] == 'objectgroup'); return _0x45bec6 ? _0x45bec6['objects'] : null; }, self[_0x215fc2(0x239)] = function (_0xfe5163) { var _0x3e3726 = _0x215fc2; let _0x8e0ddb = Math[_0x3e3726(0x174)](_0xfe5163['vx'] * _0xfe5163['vx'] + _0xfe5163['vy'] * _0xfe5163['vy']); _0x8e0ddb > 0x0 && (_0xfe5163['vx'] = _0xfe5163['vx'] / _0x8e0ddb, _0xfe5163['vy'] = _0xfe5163['vy'] / _0x8e0ddb); }, window[_0x215fc2(0x23c)] = function () { var _0x42a3db = _0x215fc2; !self[_0x42a3db(0x173)] ? self[_0x42a3db(0x173)] = function () { } : self[_0x42a3db(0x173)](); }, self['setDetector'] = function (_0x27c0fc, _0x9847d1 = ![]) { var _0x121ceb = _0x215fc2; _0x27c0fc[_0x121ceb(0xfd)] = _0x9847d1; if (!_0x27c0fc[_0x121ceb(0x249)] && typeof _0x9847d1 != 'boolean') return; _0x27c0fc[_0x121ceb(0x1c5)] = { 'x': _0x27c0fc[_0x121ceb(0x249)]['x'], 'y': _0x27c0fc[_0x121ceb(0x249)]['y'] + _0x27c0fc[_0x121ceb(0x249)]['h'] + 0x2, 'w': 0xf, 'h': 0x4, 'color': _0x121ceb(0x2ac) }, _0x27c0fc['left'] ? _0x27c0fc[_0x121ceb(0x1c5)]['x'] = _0x27c0fc['x'] - 0x2 : _0x27c0fc[_0x121ceb(0x1c5)]['x'] = _0x27c0fc[_0x121ceb(0x1c5)]['x'] + 0x4; }, self[_0x215fc2(0x1e3)] = (_0x1797ff, _0x1bb161) => { var _0x3f9f41 = _0x215fc2; let _0x1a148b = Math[_0x3f9f41(0x20d)](_0x1797ff['y'] + _0x1797ff['h'] - (_0x1bb161['y'] + _0x1bb161['height'])); if (_0x1797ff['x'] < _0x1bb161['x'] + _0x1bb161[_0x3f9f41(0x270)] && _0x1797ff['x'] + _0x1797ff['w'] > _0x1bb161['x'] && _0x1797ff['y'] + _0x1797ff['h'] > _0x1a148b) return ![]; return !![]; }, self[_0x215fc2(0x107)] = function (_0x37f331, _0x29797b) { var _0x233f8c = _0x215fc2; if (isCollide(_0x37f331, _0x29797b)) { let _0x5a34bc = Math[_0x233f8c(0x20d)](_0x37f331['y'] - _0x29797b['y']); if (_0x37f331['x'] + _0x37f331['w'] / 0x2 <= _0x29797b['x'] || _0x37f331['x'] + _0x37f331['w'] >= _0x29797b['x'] + _0x29797b['width']) return !![]; return isCollide(_0x37f331, _0x29797b) && _0x37f331['x'] + _0x37f331['w'] / 0x2 <= _0x29797b['x'] || _0x37f331['x'] + _0x37f331['w'] >= _0x29797b['x'] + _0x29797b[_0x233f8c(0x270)] ? !![] : ![]; } }, self[_0x215fc2(0x23d)] = function (_0x47ab1d) { var _0x488c0c = _0x215fc2; buffer['save'](), buffer3[_0x488c0c(0x125)](0x0, 0x0, gW, gH), buffer3[_0x488c0c(0xe9)] = _0x488c0c(0x163) + _0x47ab1d + ')', buffer3[_0x488c0c(0x228)](0x0, 0x0, gW, gH), buffer['restore'](); }, self[_0x215fc2(0x226)] = function () { var _0x5f15f = _0x215fc2; opacity = 0x1, self[_0x5f15f(0x195)][_0x5f15f(0x133)][_0x5f15f(0x23f)] = -0x3e7; var _0xd646 = document[_0x5f15f(0x1b1)](_0x5f15f(0x1c9)); _0x34ef91[_0x5f15f(0xf3)](_0xd646), _0xd646[_0x5f15f(0x270)] = _0x5f15f(0xef), _0xd646['height'] = '2500px', _0xd646[_0x5f15f(0x133)]['position'] = _0x5f15f(0x223), _0xd646[_0x5f15f(0x133)][_0x5f15f(0x23f)] = 0x1869f, _0xd646['style'][_0x5f15f(0x23e)] = _0x5f15f(0x165) + opacity + ')', _0xd646[_0x5f15f(0x133)][_0x5f15f(0x23b)] = '0%', _0xd646[_0x5f15f(0x133)][_0x5f15f(0x15b)] = '0%', setTimeout(function () { var _0x5cb708 = _0x5f15f; opacity -= 0.02, _0xd646[_0x5cb708(0x133)][_0x5cb708(0x23e)] = _0x5cb708(0x165) + opacity + ')'; }, 0x12c), setTimeout(function () { var _0x10f26d = _0x5f15f; opacity -= 0.04, _0xd646[_0x10f26d(0x133)][_0x10f26d(0x23e)] = _0x10f26d(0x165) + opacity + ')'; }, 0x258), setTimeout(function () { var _0xe7a1cc = _0x5f15f; opacity -= 0.06, _0xd646[_0xe7a1cc(0x133)][_0xe7a1cc(0x23e)] = _0xe7a1cc(0x165) + opacity + ')'; }, 0x384), setTimeout(function () { var _0x370900 = _0x5f15f; opacity -= 0.08, _0xd646[_0x370900(0x133)][_0x370900(0x23e)] = _0x370900(0x165) + opacity + ')'; }, 0x3e8), setTimeout(function () { var _0x4a5eb1 = _0x5f15f; opacity -= 0.2, _0xd646[_0x4a5eb1(0x133)][_0x4a5eb1(0x23e)] = _0x4a5eb1(0x165) + opacity + ')'; }, 0x4b0), setTimeout(function () { opacity -= 0.4, _0xd646['style']['background'] = 'rgba(0,\x200,\x200,\x20' + opacity + ')'; }, 0x578), setTimeout(function () { var _0x1d434f = _0x5f15f; opacity = 0x0, _0xd646[_0x1d434f(0x133)][_0x1d434f(0x23e)] = _0x1d434f(0x165) + opacity + ')', document[_0x1d434f(0x19f)][_0x1d434f(0x106)](_0xd646); }, 0x5dc); }, Text = function (_0x572653, _0x5007bc, _0x4616bc, _0x3a118e, _0x5dac66, _0x540d88, _0x281065) { var _0x449973 = _0x215fc2; this['x'] = _0x540d88, this['y'] = _0x281065, this[_0x449973(0x2a0)] = _0x572653 || _0x449973(0x1ef), this[_0x449973(0x24c)] = _0x4616bc, this['fontstyle'] = _0x5007bc, this[_0x449973(0x20b)] = _0x3a118e, this['t'] = _0x5dac66, this[_0x449973(0x22e)] == undefined && (this['fontweight'] = 'bold'), this[_0x449973(0x212)] == undefined && (this[_0x449973(0x212)] = _0x449973(0x1bd)), (this[_0x449973(0x20b)] == undefined || this[_0x449973(0x20b)] == null) && (this[_0x449973(0x20b)] = _0x449973(0x100)), buffer[_0x449973(0xe9)] = this['color'], buffer[_0x449973(0x260)] = this[_0x449973(0x212)] + '\x20' + this[_0x449973(0x24c)] + '\x20' + this['fontfamily'], buffer['fillText'](this['t'], this['x'], this['y']); }, clear = function (_0x5a3e76, _0x1880a2, _0x468ead, _0xcff04a) { var _0x27a791 = _0x215fc2; buffer[_0x27a791(0x125)](_0x5a3e76, _0x1880a2, _0x468ead, _0xcff04a); }, self['getDistance'] = function (_0x4c6aa1, _0x529302) { var _0x2e39c9 = _0x215fc2; this['a'] = _0x4c6aa1, this['b'] = _0x529302; if (this['a'][_0x2e39c9(0x10e)] && this['a']['type'] == 'polygon') { var _0x40a8d7 = Math[_0x2e39c9(0x20d)](this['a'][_0x2e39c9(0x10e)] - this['b']['startX']), _0x4a8c1b = Math['abs'](this['a'][_0x2e39c9(0xf2)] - this['b']['startY']), _0x45d9c1 = Math[_0x2e39c9(0x1fb)](_0x40a8d7, _0x4a8c1b); return _0x45d9c1; } if (_0x529302[_0x2e39c9(0xf6)] == _0x2e39c9(0x295) || _0x529302['x1']) { var _0x40a8d7 = this['a']['x'] - this['b']['x1'], _0x4a8c1b = this['a']['y'] - this['b']['y1'], _0x45d9c1 = Math[_0x2e39c9(0x1fb)](_0x40a8d7, _0x4a8c1b); return _0x45d9c1; } if (this['a'][_0x2e39c9(0x249)] != undefined && this['b']['collider'] != undefined) { var _0x40a8d7 = this['a'][_0x2e39c9(0x249)]['x'] - this['b'][_0x2e39c9(0x249)]['x'], _0x4a8c1b = this['a'][_0x2e39c9(0x249)]['y'] - this['b'][_0x2e39c9(0x249)]['y'], _0x45d9c1 = Math[_0x2e39c9(0x1fb)](_0x40a8d7, _0x4a8c1b); return _0x45d9c1; } else { if (!this['a']['collider'] && !this['b'][_0x2e39c9(0x249)]) { var _0x40a8d7 = this['a']['x'] - this['b']['x'], _0x4a8c1b = this['a']['y'] - this['b']['y'], _0x45d9c1 = Math[_0x2e39c9(0x1fb)](_0x40a8d7, _0x4a8c1b); return _0x45d9c1; } else { if (this['a'][_0x2e39c9(0x249)] && !this['b']['collider']) { var _0x40a8d7 = this['a']['collider']['x'] - this['b']['x'], _0x4a8c1b = this['a'][_0x2e39c9(0x249)]['y'] - this['b']['y'], _0x45d9c1 = Math[_0x2e39c9(0x1fb)](_0x40a8d7, _0x4a8c1b); return _0x45d9c1; } else { if (!this['a']['collider'] && this['b'][_0x2e39c9(0x249)]) { var _0x40a8d7 = Math['abs'](this['a']['x'] - this['b'][_0x2e39c9(0x249)]['x']), _0x4a8c1b = Math['abs'](this['a']['y'] - this['b'][_0x2e39c9(0x249)]['y']), _0x45d9c1 = Math['hypot'](_0x40a8d7, _0x4a8c1b); return _0x45d9c1; } } } } }, self['getAngle'] = function (_0x173990, _0x57303b) { var _0x27dcfa = _0x215fc2; try { this['a'] = _0x173990, this['b'] = _0x57303b; if (!this['a'][_0x27dcfa(0x10e)] && !this['b'][_0x27dcfa(0x10e)]) { var _0x1c4701 = Math[_0x27dcfa(0xfb)](this['a']['y'] - this['b']['y'], this['a']['x'] - this['b']['x']); return _0x1c4701 + 0x5a * Deg2Rad; } if (this['a'][_0x27dcfa(0x10e)] && this['b'][_0x27dcfa(0x10e)]) { var _0x1c4701 = Math[_0x27dcfa(0xfb)](this['a'][_0x27dcfa(0xf2)] - this['b'][_0x27dcfa(0xf2)], this['a'][_0x27dcfa(0x10e)] - this['b']['startX']); return _0x1c4701; } if (!this['a'][_0x27dcfa(0x10e)] && this['b'][_0x27dcfa(0x10e)]) { var _0x1c4701 = Math[_0x27dcfa(0xfb)](Math[_0x27dcfa(0x20d)](this['a']['y'] - this['b']['startY']), Math[_0x27dcfa(0x20d)](this['a']['x'] - this['b'][_0x27dcfa(0x10e)])); return _0x1c4701 + 0x5a * Deg2Rad; } return _0x1c4701 + 0x5a * Deg2Rad; } catch (_0xa31bb2) { log(_0xa31bb2); } return _0x1c4701; }, self[_0x215fc2(0x167)] = function (_0x1eba7d, _0x1ec953) { var _0x66ad8c = _0x215fc2; return distance = self[_0x66ad8c(0x204)](_0x1eba7d, _0x1ec953); }, self['hasLineOfSight'] = function (_0x1c132d, _0xea4820, _0x1e3961) { var _0x3bd68f = _0x215fc2; let _0x27f72f = _0xea4820['x'] - _0x1c132d['x'], _0x42c937 = _0xea4820['y'] - _0x1c132d['y'], _0x11d9cb = Math['sqrt'](_0x27f72f * _0x27f72f + _0x42c937 * _0x42c937), _0x5c7de5 = _0x1c132d['x'] - _0x1e3961['x'], _0x1bd2fa = _0x1c132d['y'] - _0x1e3961['y'], _0x233004 = Math['sqrt'](_0x5c7de5 * _0x5c7de5 + _0x1bd2fa * _0x1bd2fa), _0x1ae402 = { 'x': _0xea4820['x'] + _0xea4820['w'] / 0x2, 'y': _0xea4820['y'] + _0xea4820['h'] / 0x2, 'w': _0x1c132d['x'] + _0x1c132d['w'] / 0x2, 'h': _0x1c132d['y'] + _0x1c132d['h'] / 0x2, 'color': _0x3bd68f(0x151) }; return buffer[_0x3bd68f(0x19d)] = _0x1ae402[_0x3bd68f(0x2a0)], !isCollide(_0x1ae402, _0x1e3961) && (buffer[_0x3bd68f(0x280)](_0x1ae402['x'], _0x1ae402['y']), buffer[_0x3bd68f(0x166)](_0x1ae402['w'], _0x1ae402['h'])), buffer[_0x3bd68f(0x112)](), isCollide(_0x1ae402, _0x1e3961) ? (_0x1ae402[_0x3bd68f(0x2a0)] = 'red', ![]) : (_0x1ae402[_0x3bd68f(0x2a0)] = _0x3bd68f(0x151), !![]); }, self[_0x215fc2(0x21b)] = function (_0x416cc5) { var _0x4a57e1 = _0x215fc2; for (let _0x456a94 = 0x0; _0x456a94 < _0x416cc5[_0x4a57e1(0x29d)]; _0x456a94++) { for (let _0x393cb3 = _0x456a94 + 0x1; _0x393cb3 < _0x416cc5[_0x4a57e1(0x29d)]; _0x393cb3++) { const _0x517432 = 0x10 * delta, _0xe86917 = 0x10 * delta; isCollide(_0x416cc5[_0x456a94], _0x416cc5[_0x393cb3]) && (_0x416cc5[_0x456a94]['x'] = _0x416cc5[_0x456a94]['x'] + _0x517432, _0x416cc5[_0x456a94]['y'] = _0x416cc5[_0x456a94]['y'] + _0xe86917), _0x416cc5[_0x456a94]['type'] == _0x4a57e1(0x227) && _0x416cc5[_0x393cb3]['type'] == _0x4a57e1(0x227) && (_0x416cc5[_0x456a94][_0x4a57e1(0x175)](_0x416cc5[_0x393cb3]) && (_0x416cc5[_0x456a94]['startX'] = _0x416cc5[_0x456a94][_0x4a57e1(0x10e)] + _0x517432 + _0x416cc5[_0x456a94][_0x4a57e1(0x188)] * 0x6, _0x416cc5[_0x456a94][_0x4a57e1(0xf2)] = _0x416cc5[_0x456a94]['startY'] + _0xe86917 + _0x416cc5[_0x456a94]['radius'] * 0x6)); } } }, self[_0x215fc2(0x1a6)] = function (_0x50268d, _0xa16409) { var _0x5a2d7e = _0x215fc2; return _0x50268d[_0x5a2d7e(0x249)]['x'] + _0x50268d[_0x5a2d7e(0x249)]['w'] >= _0xa16409['x'] && _0x50268d[_0x5a2d7e(0x249)]['x'] <= _0xa16409['x'] + _0xa16409[_0x5a2d7e(0x270)] && _0x50268d['collider']['y'] + _0x50268d[_0x5a2d7e(0x249)]['h'] > _0xa16409['y'] - _0xa16409[_0x5a2d7e(0x25c)] && _0x50268d[_0x5a2d7e(0x249)]['y'] < _0xa16409['y'] + _0xa16409[_0x5a2d7e(0x25c)] ? !![] : ![]; }, self[_0x215fc2(0x13b)] = (_0x4da52f, _0x2dbc6b) => { var _0x30629f = _0x215fc2; !_0x2dbc6b && (_0x2dbc6b = ![]), _0x4da52f[_0x30629f(0x25b)] = _0x2dbc6b, typeof _0x2dbc6b != _0x30629f(0x21a) && (_0x4da52f[_0x30629f(0x25b)] = ![], console[_0x30629f(0x282)](_0x30629f(0x103))), _0x4da52f['sw'] > 0x64 || _0x4da52f['sh'] > 0x64 ? _0x4da52f[_0x30629f(0x249)] = { 'x': _0x4da52f['x'] + _0x4da52f['w'] / 2.14, 'y': _0x4da52f['y'] + _0x4da52f['h'] / 0x3, 'w': _0x4da52f['w'] / 0x8, 'h': _0x4da52f['h'] / 0x3, 'vx': _0x4da52f['vx'], 'vy': _0x4da52f['vy'], 'color': _0x30629f(0x13a) } : (_0x4da52f[_0x30629f(0x249)] = { 'x': _0x4da52f['x'] + _0x4da52f['w'] / 1.7, 'y': _0x4da52f['y'] + _0x4da52f['h'] / 4.5, 'w': _0x4da52f['w'] / 0x4, 'h': _0x4da52f['h'] - 0x7, 'color': _0x30629f(0x13a) }, _0x4da52f['sh'] != _0x4da52f['sw'] && (_0x4da52f['collider'] = { 'x': _0x4da52f['x'] + _0x4da52f['w'] / 0x3, 'y': _0x4da52f['y'] + _0x4da52f['h'] / 3.5, 'w': _0x4da52f['w'] / 3.5, 'h': _0x4da52f['h'] / 1.35, 'color': _0x30629f(0x13a) }), !_0x4da52f['image'] && (_0x4da52f['collider'] = { 'x': _0x4da52f['x'], 'y': _0x4da52f['y'], 'w': _0x4da52f['w'], 'h': _0x4da52f['h'], 'color': _0x30629f(0x13a) })); }, self[_0x215fc2(0xe7)] = function (_0x58ffcb, _0x59c788) { var _0x331ca2 = _0x215fc2; _0x58ffcb[_0x331ca2(0x286)] = ![], _0x58ffcb[_0x331ca2(0x256)] = _0x59c788, _0x58ffcb['collider'] = undefined; }, self[_0x215fc2(0x135)] = (_0x17408a, _0x3bde79) => { var _0x3cdab3 = _0x215fc2; if (_0x17408a == location[_0x3cdab3(0x190)]) { let _0x46a77d = setTimeout(function () { return clearTimeout(_0x46a77d), _0x17408a; }, _0x3bde79); } else { if (typeof _0x17408a == _0x3cdab3(0x15d)) { let _0x1e5e8d = setTimeout(function () { return clearTimeout(_0x1e5e8d), _0x17408a(); }, _0x3bde79); } } }, self[_0x215fc2(0x24d)] = function (_0x3b4fa8) { var _0x347461 = _0x215fc2; this['area'] = _0x3b4fa8; if (loader || isLoading && !this[_0x347461(0x1ce)]) return { 'x': 0x0, 'y': 0x0, 'width': data[_0x347461(0x270)] * data[_0x347461(0x118)], 'height': data[_0x347461(0x25c)] * data['tileheight'] }; if (!loader || !isLoading && this[_0x347461(0x1ce)]) return { 'x': this[_0x347461(0x1ce)]['x'], 'y': this[_0x347461(0x1ce)]['y'], 'width': this[_0x347461(0x1ce)]['w'], 'height': this[_0x347461(0x1ce)]['h'] }; }; function _0xa9e467(_0x1fa6e1, _0x2485d5, _0x12973b) { return _0x1fa6e1 + (_0x2485d5 - _0x1fa6e1) * _0x12973b; } var _0x40a19c = ![]; self[_0x215fc2(0x2aa)] = ![], self[_0x215fc2(0xf6)] = null, stage[_0x215fc2(0x133)][_0x215fc2(0x2ad)] = 'scale(' + MapScaleX + ',' + MapScaleY + ')', self['setCam'] = function (_0x4c3706, _0x7e35d4, _0x414357) { var _0x1e964d = _0x215fc2; _0x414357 = _0x414357 || ![], camera = { 'x': 0x0, 'y': 0x0, 'width': Math[_0x1e964d(0x27a)](gW / self[_0x1e964d(0x293)]), 'height': Math['floor'](gH / self[_0x1e964d(0x293)]), 'color': _0x1e964d(0x2a8) }, x = Math[_0x1e964d(0x27a)](camera[_0x1e964d(0x270)] / 0x2 + _0x4c3706['w'] / 2.5), y = Math[_0x1e964d(0x27a)](camera[_0x1e964d(0x25c)] / 0x2 + _0x4c3706['h'] / 2.5); if (_0x7e35d4 == undefined) { buffer[_0x1e964d(0x25a)](gW / 0x2 - (_0x4c3706['x'] - 0x5) >> 0x0, gH / 0x2 - (_0x4c3706['y'] - 0x5) >> 0x0); return; } typeof _0x414357 == _0x1e964d(0x21a) && _0x414357 && (_0x40a19c = _0x414357); camera['x'] = Math[_0x1e964d(0xf8)](_0xa9e467(camera['x'], Math[_0x1e964d(0x27a)](_0x4c3706['x'] + _0x4c3706['w'] + 0xa) - x, 0x1)), camera['y'] = Math[_0x1e964d(0xf8)](_0xa9e467(camera['y'], Math['floor'](_0x4c3706['y'] + _0x4c3706['h'] + 0xa) - y, 0x1)); camera['x'] <= 0x0 && (camera['x'] = 0x0); camera['y'] <= 0x0 && (camera['y'] = 0x0); camera['x'] >= _0x7e35d4[_0x1e964d(0x270)] - camera['width'] && (camera['x'] = _0x7e35d4[_0x1e964d(0x270)] - camera[_0x1e964d(0x270)]); camera['y'] > _0x7e35d4['height'] - camera[_0x1e964d(0x25c)] && (camera['y'] = _0x7e35d4[_0x1e964d(0x25c)] - camera[_0x1e964d(0x25c)]); Math[_0x1e964d(0xf8)](_0x4c3706['x'] + camera[_0x1e964d(0x270)] * self[_0x1e964d(0x293)]) >= x && (buffer[_0x1e964d(0x25a)](Math[_0x1e964d(0x27a)](-camera['x'] * self['scale']), 0x0), isCamera = !![]); _0x4c3706['y'] + camera[_0x1e964d(0x25c)] * self[_0x1e964d(0x293)] >= y && (buffer[_0x1e964d(0x25a)](0x0, Math[_0x1e964d(0x27a)](-camera['y'] * self[_0x1e964d(0x293)])), isCamera = !![]); _0x4c3706['x'] < x && (isCamera = ![]); _0x4c3706['y'] < y && (isCamera = ![]); camera['x'] >= _0x7e35d4[_0x1e964d(0x270)] - camera[_0x1e964d(0x270)] || camera['x'] <= 0x0 ? self[_0x1e964d(0x2aa)] = !![] : self[_0x1e964d(0x2aa)] = ![]; if (camera['y'] >= _0x7e35d4[_0x1e964d(0x25c)] - camera[_0x1e964d(0x25c)] || camera['y'] <= 0x0) { if (self[_0x1e964d(0xf6)] == 'topdown') self[_0x1e964d(0x2aa)] = !![]; } else self[_0x1e964d(0x2aa)] = ![]; return this; }; let _0x86b7ac = 0x6; self[_0x215fc2(0x262)] = function (_0x4f3cf7, _0x18a306) { var _0x4c4daf = _0x215fc2; this[_0x4c4daf(0x1c3)] = _0x4f3cf7, _0x18a306 = _0x18a306, _0x86b7ac--; if (_0x86b7ac <= 0x0) _0x86b7ac = 0x0; var _0x4396ae = setInterval(() => { var _0x1af1e6 = _0x4c4daf; _0x86b7ac > 0x0 && (dx = this['intensity'] * (Math[_0x1af1e6(0x109)]() - 0.5) >> 0x0, dy = this['intensity'] * (Math[_0x1af1e6(0x109)]() - 0.5) >> 0x0, buffer[_0x1af1e6(0x182)](0x1, 0x0, 0x0, 0x1, dx, dy)); }, 0x32); setTimeout(() => { clearInterval(_0x4396ae), _0x86b7ac = 0x6, buffer['setTransform'](0x1, 0x0, 0x0, 0x1, 0x0, 0x0); }, _0x18a306); }, self['renderBatch'] = function (_0x3342e7, _0x22ff4f) { var _0x4e62d2 = _0x215fc2; try { if (Array['isArray'](_0x3342e7)) for (let _0x1fed4c of _0x3342e7) { _0x1fed4c[_0x4e62d2(0xf6)] = _0x22ff4f; if (_0x1fed4c[_0x4e62d2(0xf6)] == _0x4e62d2(0xf0)) { if (_0x3342e7[_0x4e62d2(0x249)]) { if (canDraw(_0x1fed4c['collider'], camera)) self[_0x4e62d2(0x277)](_0x1fed4c, _0x1fed4c[_0x4e62d2(0xf6)]); } if (canDraw(_0x1fed4c, camera)) self['renderObjects'](_0x1fed4c, _0x1fed4c['type']); } if (_0x1fed4c[_0x4e62d2(0xf6)] == _0x4e62d2(0x117)) { if (_0x1fed4c['collider']) { if (canDraw(_0x1fed4c[_0x4e62d2(0x249)], camera)) self[_0x4e62d2(0x277)](_0x1fed4c, _0x1fed4c[_0x4e62d2(0xf6)]); } if (canDraw(_0x1fed4c, camera)) self[_0x4e62d2(0x277)](_0x1fed4c, _0x1fed4c[_0x4e62d2(0xf6)]); } _0x1fed4c[_0x4e62d2(0xf6)] == _0x4e62d2(0x186) && self[_0x4e62d2(0x277)](_0x1fed4c, _0x1fed4c['type']); if (_0x1fed4c[_0x4e62d2(0xf6)] == 'circle') { if (canDraw(_0x1fed4c, camera)) self['renderObjects'](_0x1fed4c, _0x1fed4c[_0x4e62d2(0xf6)]); } if (!_0x1fed4c[_0x4e62d2(0xf6)]) { if (canDraw(_0x1fed4c, camera)) self[_0x4e62d2(0x277)](_0x1fed4c); } } else { _0x3342e7[_0x4e62d2(0xf6)] = _0x22ff4f; if (_0x3342e7[_0x4e62d2(0xf6)] == _0x4e62d2(0xf0)) { if (_0x3342e7[_0x4e62d2(0x249)]) { if (canDraw(_0x3342e7[_0x4e62d2(0x249)], camera)) self[_0x4e62d2(0x277)](_0x3342e7, _0x3342e7['type']); } if (canDraw(_0x3342e7, camera)) self[_0x4e62d2(0x277)](_0x3342e7, _0x3342e7[_0x4e62d2(0xf6)]); } if (_0x3342e7[_0x4e62d2(0xf6)] == _0x4e62d2(0x117)) { if (_0x3342e7[_0x4e62d2(0x249)]) { if (canDraw(_0x3342e7[_0x4e62d2(0x249)], camera)) self[_0x4e62d2(0x277)](_0x3342e7, _0x3342e7[_0x4e62d2(0xf6)]); } if (canDraw(_0x3342e7, camera)) self['renderObjects'](_0x3342e7, _0x3342e7[_0x4e62d2(0xf6)]); } _0x3342e7[_0x4e62d2(0xf6)] == _0x4e62d2(0x23e) && self[_0x4e62d2(0x277)](_0x3342e7, _0x3342e7[_0x4e62d2(0xf6)]); _0x3342e7[_0x4e62d2(0xf6)] == _0x4e62d2(0x186) && self['renderObjects'](_0x3342e7, _0x3342e7['type']); if (_0x3342e7[_0x4e62d2(0xf6)] == _0x4e62d2(0x169)) { if (canDraw(_0x3342e7, camera)) self['renderObjects'](_0x3342e7, _0x3342e7[_0x4e62d2(0xf6)]); } !_0x3342e7['type'] && (canDraw(_0x3342e7, camera) && self['renderObjects'](_0x3342e7), !canDraw(_0x3342e7, camera) && _0x3342e7['w'] >= camera['x'] + camera[_0x4e62d2(0x270)] && self['renderObjects'](_0x3342e7)); } } catch (_0x56e924) { } }, self[_0x215fc2(0x277)] = function (_0x3e37a4, _0x5167d4) { var _0x32bb81 = _0x215fc2; this[_0x32bb81(0xf6)] = _0x5167d4, this[_0x32bb81(0xf6)] === _0x32bb81(0xf0) && _0x3e37a4[_0x32bb81(0x14c)](), this[_0x32bb81(0xf6)] === 'single' && _0x3e37a4[_0x32bb81(0x138)](), this[_0x32bb81(0xf6)] === _0x32bb81(0x23e) && _0x3e37a4[_0x32bb81(0x138)](), this[_0x32bb81(0xf6)] === _0x32bb81(0x169) && _0x3e37a4[_0x32bb81(0xf7)](), this[_0x32bb81(0xf6)] === _0x32bb81(0x186) && _0x3e37a4[_0x32bb81(0x28b)](), !this[_0x32bb81(0xf6)] && _0x3e37a4[_0x32bb81(0x1fa)](); }; let _0x4db03d, _0x487ac2, _0x5066b1 = ![], _0x1559b8 = 0x0; const _0x5d8aac = 0x3e8; let _0x3e4f9c, _0x5e389a = ![]; const _0x48bcc8 = { 'width': 0x1, 'height': 0x1 }; self[_0x215fc2(0x250)] = 0x1, self[_0x215fc2(0x290)] = ![], self[_0x215fc2(0x108)] = function (_0x1606f1, _0x36a35c) { var _0x463a91 = _0x215fc2; self[_0x463a91(0x290)] = !![]; const _0x219275 = performance[_0x463a91(0x17b)](); _0x487ac2 = 0x3e8 / (self[_0x463a91(0xf9)] / _0x36a35c), self[_0x463a91(0x250)] = self['speed'] / _0x36a35c; const _0x4222eb = () => { var _0xc67838 = _0x463a91; performance[_0xc67838(0x17b)]() - _0x219275 < _0x1606f1 ? setTimeout(_0x4222eb, 0x3e8 / self['speed']) : (self[_0xc67838(0x290)] = ![], _0x487ac2 = 0x3e8 / self['speed'], self[_0xc67838(0x250)] = self[_0xc67838(0xf9)]); }; _0x4222eb(); }, self[_0x215fc2(0x18f)] = function (_0xcaf07e) { var _0x111a6b = _0x215fc2; return this[_0x111a6b(0x13f)] = _0xcaf07e, !_0x5066b1 && (self['speed'] = this['fps'], _0x5066b1 = !![]), _0x4db03d = performance[_0x111a6b(0x17b)](), _0x487ac2 = 0x3e8 / self['speed'], _0x5e389a = ![], _0x3e4f9c = requestAnimationFrame(_0x560b8f), this[_0x111a6b(0x13f)]; }, self['stopAnimation'] = function () { _0x5e389a = !![]; if (_0x5e389a) cancelAnimationFrame(_0x3e4f9c); }; function _0x560b8f(_0x5aee3f) { var _0x21bd36 = _0x215fc2; _0x3e4f9c = requestAnimationFrame(_0x560b8f), clear(0x0, 0x0, gW, gH); let _0x5dedbc = _0x5aee3f - _0x4db03d; _0x4db03d = _0x5aee3f, _0x5dedbc = Math[_0x21bd36(0x1c0)](_0x5dedbc, _0x5d8aac); self['isFrozen'] && (_0x487ac2 = 0x3e8 / self['freezeVal']); delta = (_0x487ac2 % _0x5dedbc / 0x3e8)[_0x21bd36(0x1a4)](0x3), _0x1559b8 += _0x5dedbc, frame++; frame % 0x8 === 0x0 && isLayer && layerframe++; frame % 0x8 === 0x0 && isObject && objframe++; while (_0x1559b8 >= _0x487ac2) { self[_0x21bd36(0x12d)](delta), _0x1559b8 -= _0x5dedbc; } ctx[_0x21bd36(0x18a)] = ![], ctx[_0x21bd36(0x1b0)] = 'high', buffer[_0x21bd36(0x18a)] = ![], self[_0x21bd36(0x16f)]['setBg'](_0x296d22), ctx[_0x21bd36(0x27c)](), buffer[_0x21bd36(0x27c)](), !self[_0x21bd36(0x220)] ? self[_0x21bd36(0x1c6)]() : self[_0x21bd36(0x220)](), particlePool[_0x21bd36(0x20c)][_0x21bd36(0x29d)] > 0x0 && _0x441316(), snows[_0x21bd36(0x29d)] > 0x0 && _0xebd850(), rains[_0x21bd36(0x29d)] > 0x0 && _0x216be9(), _0x40a19c && (buffer[_0x21bd36(0x19d)] = camera[_0x21bd36(0x2a0)], buffer[_0x21bd36(0x189)] = self[_0x21bd36(0x293)] * 0x2, buffer[_0x21bd36(0x1b6)](camera['x'] * self[_0x21bd36(0x293)], camera['y'] * self[_0x21bd36(0x293)], camera['width'] * self[_0x21bd36(0x293)], camera[_0x21bd36(0x25c)] * self[_0x21bd36(0x293)])), buffer['restore'](), _0x5e617d(), ctx['restore'](); } function _0x441316() { var _0x18ea74 = _0x215fc2; for (const _0x240ae7 of particlePool['pool']) { _0x240ae7[_0x18ea74(0x12d)](), _0x240ae7[_0x18ea74(0x28b)](); } } function _0xebd850() { snows['forEach'](function (_0x4be5c3, _0x3bb70b) { var _0x15aff6 = _0x5814; canDraw(_0x4be5c3, camera) ? (buffer[_0x15aff6(0x291)](), buffer[_0x15aff6(0xe9)] = _0x4be5c3['color'], buffer[_0x15aff6(0x28e)](_0x4be5c3['x'], _0x4be5c3['y'] += _0x4be5c3['vy'], _0x4be5c3['r'], 1.8, Math['PI'] * 1.7), buffer[_0x15aff6(0x273)](), buffer[_0x15aff6(0x205)]()) : kill(snows, _0x3bb70b); }); } function _0x216be9() { var _0xf9e869 = _0x215fc2; for (rain of rains) { var _0x4e9ac8 = rains['indexOf'](rain); buffer[_0xf9e869(0x27c)](), canDraw(rain, camera) ? rain['drawSprite']() : kill(rains, _0x4e9ac8), buffer[_0xf9e869(0x27f)](); } } function _0x5e617d() { var _0x4240ae = _0x215fc2; ctx[_0x4240ae(0x125)](0x0, 0x0, gW, gH), ctx[_0x4240ae(0x27c)](), ctx[_0x4240ae(0x180)](stage2, 0x0, 0x0), ctx[_0x4240ae(0x180)](stage3, 0x0, 0x0), ctx[_0x4240ae(0x180)](stage4, 0x0, 0x0), ctx[_0x4240ae(0x27f)](); } return setInterval(function () { if (_0x5e389a) return; self['complexUpdate'](delta); }, 0x1e), kill = function (_0x847258, _0x51482d) { var _0x466120 = _0x215fc2; return _0x847258[_0x466120(0x16c)](_0x51482d, 0x1); }, self['isHoriBorder'] = function (_0xef9147, _0x2a5408) { var _0x57e59f = _0x215fc2; if (_0xef9147['r'] == null && _0x2a5408['x'] == null && camera) { if (_0xef9147['x'] <= 0x0 || _0xef9147['x'] >= _0x2a5408['width'] - _0xef9147['w']) return !![]; } else { if (_0xef9147['r'] == null && _0x2a5408['x'] == null) { if (_0xef9147['x'] <= 0x0 || _0xef9147['x'] + _0xef9147['w'] >= _0x2a5408['width']) return !![]; } else { if (_0xef9147['r'] == undefined && _0x2a5408['x'] !== undefined) { if (_0xef9147['x'] <= _0x2a5408['x'] + 0x2 || _0xef9147['x'] + _0xef9147['w'] >= _0x2a5408[_0x57e59f(0x270)]) return !![]; } else { if (_0xef9147['r'] != undefined && _0x2a5408['x'] != undefined) { if (_0xef9147['x'] <= _0x2a5408['x'] || _0xef9147['x'] + _0xef9147['r'] >= _0x2a5408[_0x57e59f(0x270)] - _0xef9147['r'] || _0xef9147['x'] + _0xef9147['r'] >= _0x2a5408['w'] - _0xef9147['r']) return !![]; } else { if (_0xef9147['r'] != undefined && _0x2a5408['x'] == undefined) { if (_0xef9147['x'] - _0xef9147['r'] <= 0x0 || _0xef9147['x'] + (_0xef9147['r'] + _0xef9147['r'] * 0x2) >= _0x2a5408[_0x57e59f(0x270)] - _0xef9147['r']) return !![]; } } } } } if (_0xef9147['r'] == undefined && _0xef9147['w'] == undefined && _0xef9147[_0x57e59f(0x10e)] && _0x2a5408['x'] == undefined) { if (_0xef9147[_0x57e59f(0x10e)] <= _0xef9147[_0x57e59f(0x188)] - 0x4 || _0xef9147[_0x57e59f(0x10e)] + _0xef9147[_0x57e59f(0x188)] - 0x2 >= _0x2a5408['width']) return !![]; } if (_0xef9147['r'] == undefined && _0xef9147['h'] == undefined && _0xef9147[_0x57e59f(0x10e)] && _0x2a5408['x'] != undefined) { if (_0xef9147['startX'] <= _0xef9147['radius'] - 0x4 || _0xef9147['startX'] + _0xef9147['radius'] - 0x2 >= _0x2a5408['w']) return !![]; } }, self[_0x215fc2(0xe2)] = function (_0xeb1a6f, _0x169b05) { var _0x581ab3 = _0x215fc2; if (_0xeb1a6f['r'] == undefined && _0x169b05['y'] !== undefined) { if (_0xeb1a6f['y'] <= _0x169b05['y'] || _0xeb1a6f['y'] + _0xeb1a6f['h'] >= _0x169b05[_0x581ab3(0x25c)] - _0xeb1a6f['h'] || _0xeb1a6f['y'] + _0xeb1a6f['h'] >= _0x169b05['h']) return !![]; } else { if (_0xeb1a6f['r'] != undefined && _0x169b05['y'] !== undefined) { if (_0xeb1a6f['y'] - _0xeb1a6f['r'] <= _0x169b05['y'] || _0xeb1a6f['y'] + _0xeb1a6f['r'] >= _0x169b05[_0x581ab3(0x25c)] - _0xeb1a6f['r'] || _0xeb1a6f['x'] + _0xeb1a6f['r'] >= _0x169b05['h']) return !![]; } } if (_0xeb1a6f['r'] == undefined && _0x169b05['y'] == undefined) { if (_0xeb1a6f['y'] <= 0x0 || _0xeb1a6f['y'] + _0xeb1a6f['h'] >= _0x169b05[_0x581ab3(0x25c)]) return !![]; } else { if (_0xeb1a6f['r'] != undefined && _0x169b05['y'] == undefined) { if (_0xeb1a6f['y'] - _0xeb1a6f['r'] <= 0x0 || _0xeb1a6f['y'] + (_0xeb1a6f['r'] + _0xeb1a6f['r']) >= _0x169b05[_0x581ab3(0x25c)]) return !![]; } } if (_0xeb1a6f['r'] == undefined && _0xeb1a6f['h'] == undefined && _0xeb1a6f[_0x581ab3(0xf2)] && _0x169b05['y'] == undefined) { if (_0xeb1a6f[_0x581ab3(0xf2)] <= _0xeb1a6f[_0x581ab3(0x188)] - 0x3 || _0xeb1a6f[_0x581ab3(0xf2)] + _0xeb1a6f[_0x581ab3(0x188)] - 0x2 >= _0x169b05[_0x581ab3(0x25c)]) return !![]; } if (_0xeb1a6f['r'] == undefined && _0xeb1a6f['h'] == undefined && _0xeb1a6f[_0x581ab3(0xf2)] && _0x169b05['y'] != undefined) { if (_0xeb1a6f[_0x581ab3(0xf2)] <= _0xeb1a6f[_0x581ab3(0x188)] - 0x3 || _0xeb1a6f[_0x581ab3(0xf2)] + _0xeb1a6f[_0x581ab3(0x188)] - 0x2 >= _0x169b05['h']) return !![]; } }, self[_0x215fc2(0x10f)] = function (_0x3fb359, _0x5ec21f, _0x286928, _0x246d63, _0x1852a5) { var _0x53a57e = _0x215fc2; let _0x2d69c4 = new Astar(); return grid2d = new self['parse2D'](_0x5ec21f), _0x2d69c4['setGrid'](grid2d), _0x2d69c4['setAcceptableTiles'](_0x286928), _0x2d69c4[_0x53a57e(0x232)](_0x246d63), _0x1852a5 && _0x2d69c4['setDiagonal'](_0x1852a5), _0x2d69c4; }, self[_0x215fc2(0x2a9)] = function (_0x41ce64) { var _0x400fb8 = _0x215fc2; for (let _0x53ff7e = 0x0; _0x53ff7e < _0x41ce64['length']; _0x53ff7e++) { const _0x375a25 = _0x41ce64[_0x53ff7e]; for (let _0x3173bb = 0x0; _0x3173bb < _0x41ce64[_0x400fb8(0x29d)]; _0x3173bb++) { const _0x55ed80 = _0x41ce64[_0x3173bb]; if (_0x375a25[_0x400fb8(0x175)](_0x55ed80)) { kill(_0x41ce64, _0x53ff7e), kill(_0x41ce64, _0x3173bb); _0x3173bb > _0x53ff7e && _0x3173bb--; return; } } } }, self; } var Deg2Rad = Math['PI'] / 0xb4; class Line { constructor(_0x3eacfc, _0x11f5ac, _0x4f0c4a, _0x3367b3, _0x258a6b, _0x5c857b) { var _0x347be1 = _0x2ab462; this['x1'] = _0x3eacfc, this['x2'] = _0x11f5ac, this['y1'] = _0x4f0c4a, this['y2'] = _0x3367b3, this[_0x347be1(0x2a0)] = _0x258a6b, this['width'] = _0x5c857b, this['vx'] = 0x0, this['vy'] = 0x0, this['round'] = ![], this[_0x347be1(0xf6)] = _0x347be1(0x295); } [_0x2ab462(0x1e2)]() { var _0x259dbd = _0x2ab462; buffer[_0x259dbd(0x291)](), buffer[_0x259dbd(0x19d)] = this[_0x259dbd(0x2a0)], this[_0x259dbd(0xf8)] ? (buffer[_0x259dbd(0x29e)] = _0x259dbd(0xf8), buffer[_0x259dbd(0x196)] = _0x259dbd(0xf8)) : (buffer[_0x259dbd(0x29e)] = _0x259dbd(0x129), buffer[_0x259dbd(0x196)] = _0x259dbd(0x201)), buffer[_0x259dbd(0x280)](this['x1'], this['y1']), buffer['lineTo'](this['x2'], this['y2']), buffer['lineWidth'] = this['width'], buffer['stroke'](), buffer[_0x259dbd(0x205)](); } [_0x2ab462(0x121)]() { this['x2'] += this['vx'] * delta, this['y2'] += this['vy'] * delta; } [_0x2ab462(0x222)] = function (_0x4e26c) { var _0x33328b = _0x2ab462, _0x499d0a = Game[_0x33328b(0x204)](this, _0x4e26c); _0x4e26c['r'] ? _0x499d0a <= this['y1'] && _0x4e26c['y'] + _0x4e26c['r'] >= this['y1'] - 0x5 && (_0x4e26c['y'] = this['y1'] - 0x5 - _0x4e26c['r'], _0x4e26c['vy'] = 0x0) : _0x499d0a <= this['y1'] && _0x4e26c['y'] + _0x4e26c['h'] >= this['y1'] - 0x5 && (_0x4e26c['y'] = this['y1'] - 0x5 - _0x4e26c['h'], _0x4e26c['vy'] = 0x0); }; } function PolyGons(_0x3b3346, _0x31dbe3, _0x274591, _0x53c8d4, _0x2b46e9, _0x35d028, _0x35ed0b, _0x2f029f, _0x4378b3, _0x1ec645) { var _0x2c9c9a = _0x2ab462; this[_0x2c9c9a(0x10e)] = _0x3b3346, this[_0x2c9c9a(0xf2)] = _0x31dbe3, this['sides'] = _0x274591, this[_0x2c9c9a(0x188)] = _0x53c8d4, this[_0x2c9c9a(0x1d9)] = _0x35d028, this['color'] = _0x2b46e9, this['speedX'] = _0x35ed0b, this[_0x2c9c9a(0x10a)] = _0x2f029f, this[_0x2c9c9a(0x1e5)] = ![], this[_0x2c9c9a(0x273)] = _0x4378b3 || ![], this[_0x2c9c9a(0x131)] = _0x1ec645 || ![], this[_0x2c9c9a(0x1b9)] = ![], this['type'] = _0x2c9c9a(0x227), this[_0x2c9c9a(0xe3)] = 0x1; if (typeof this[_0x2c9c9a(0x273)] != _0x2c9c9a(0x21a)) { _0x2c9c9a(0x28c); return; } this[_0x2c9c9a(0x10c)] = [], this[_0x2c9c9a(0x28b)] = function () { var _0x126c02 = _0x2c9c9a; drawPolyBullet(this), buffer['save'](), buffer[_0x126c02(0x291)](), buffer[_0x126c02(0x280)](this[_0x126c02(0x10e)] + this[_0x126c02(0x188)] * Math['cos'](0x0 + this['angle']), this[_0x126c02(0xf2)] + this[_0x126c02(0x188)] * Math[_0x126c02(0x1f1)](0x0 + this[_0x126c02(0x1d9)])); for (var _0x3d5b23 = 0x1; _0x3d5b23 <= this[_0x126c02(0x266)]; _0x3d5b23++) { this[_0x126c02(0x266)] == 0x3 && this[_0x126c02(0x256)] ? this['currentAngle'] = 0x1 - _0x3d5b23 * (Math['PI'] * 0x2) / this['sides'] + this['angle'] : this[_0x126c02(0x29b)] = _0x3d5b23 * (Math['PI'] * 0x2) / this[_0x126c02(0x266)] + this[_0x126c02(0x1d9)]; if (!this['fill']) this['x'] = this[_0x126c02(0x10e)] + this['radius'] * Math['cos'](this[_0x126c02(0x29b)]), this['y'] = this[_0x126c02(0xf2)] + this['radius'] * Math[_0x126c02(0x1f1)](this[_0x126c02(0x29b)]), buffer[_0x126c02(0x19d)] = this[_0x126c02(0x2a0)], buffer['lineWidth'] = 0x1, buffer[_0x126c02(0x166)](this['x'], this['y']), buffer[_0x126c02(0x112)](); else this['fill'] && (this['x'] = this['startX'] + this[_0x126c02(0x188)] * Math[_0x126c02(0x19e)](this[_0x126c02(0x29b)]), this['y'] = this[_0x126c02(0xf2)] + this['radius'] * Math[_0x126c02(0x1f1)](this['currentAngle']), this[_0x126c02(0xe3)] != 0x1 ? buffer[_0x126c02(0x235)] = this['alpha'] : buffer[_0x126c02(0x235)] = this[_0x126c02(0xe3)], buffer[_0x126c02(0x189)] = 0x1, buffer['fillStyle'] = this['color'], buffer[_0x126c02(0x166)](this['x'], this['y']), buffer[_0x126c02(0x273)]()); } buffer[_0x126c02(0x166)](this[_0x126c02(0x10e)] + this[_0x126c02(0x188)] * Math[_0x126c02(0x19e)](0x0 + this['angle']), this[_0x126c02(0xf2)] + this[_0x126c02(0x188)] * Math[_0x126c02(0x1f1)](0x0 + this[_0x126c02(0x1d9)])); if (!this[_0x126c02(0x273)]) this['alpha'] != 0x1 ? buffer['globalAlpha'] = this[_0x126c02(0xe3)] : buffer[_0x126c02(0x235)] = this['alpha'], buffer[_0x126c02(0x19d)] = this['color'], buffer['lineWidth'] = 0x2, buffer[_0x126c02(0x112)](); else this[_0x126c02(0x273)] && (buffer[_0x126c02(0xe9)] = this['color'], buffer['fill']()); buffer[_0x126c02(0x205)](), buffer[_0x126c02(0x27f)](); }, this[_0x2c9c9a(0x12d)] = function () { var _0x553434 = _0x2c9c9a; buffer['save'](), this['startX'] += this[_0x553434(0x265)], this[_0x553434(0xf2)] += this[_0x553434(0x10a)]; if (this[_0x553434(0x1d9)] != null) this[_0x553434(0x1d9)] += 0.05; buffer[_0x553434(0x27f)](); }, this[_0x2c9c9a(0x175)] = function (_0x1ad982) { var _0x115c09 = _0x2c9c9a, _0x346d26 = this[_0x115c09(0x10e)] - _0x1ad982[_0x115c09(0x10e)], _0x1300a3 = this[_0x115c09(0xf2)] - _0x1ad982[_0x115c09(0xf2)], _0x49c5de = Math[_0x115c09(0x174)](_0x346d26 * _0x346d26 + _0x1300a3 * _0x1300a3); if (_0x49c5de < this['radius'] + _0x1ad982[_0x115c09(0x188)]) return !![]; return ![]; }, this[_0x2c9c9a(0x1f0)] = function (_0x564c51) { var _0x40e8ee = _0x2c9c9a; for (let _0x219a09 = 0x0; _0x219a09 < _0x564c51[_0x40e8ee(0x29d)]; _0x219a09++) { let _0x2ec2b5 = _0x564c51[_0x219a09]; for (let _0x29e2c3 = _0x219a09 + 0x1; _0x29e2c3 < _0x564c51[_0x40e8ee(0x29d)]; _0x29e2c3++) { let _0x5144ac = _0x564c51[_0x29e2c3]; _0x2ec2b5[_0x40e8ee(0x175)](_0x5144ac) && kill(_0x564c51, _0x29e2c3); } } }, this[_0x2c9c9a(0xee)] = function (_0x374fbc, _0x491498, _0x428483, _0x157c2b, _0x451c1f, _0x55adb3, _0x489227, _0x5c47d0) { var _0x43cf3d = _0x2c9c9a; this[_0x43cf3d(0xe6)] = { 'x': _0x374fbc, 'y': _0x491498, 'w': _0x428483, 'h': _0x157c2b, 'color': _0x451c1f, 'r': _0x55adb3, 'angle': _0x489227 || null, 'direction': this[_0x43cf3d(0x1f9)](), 'fired': ![], 'speed': _0x5c47d0 }, (this[_0x43cf3d(0xe6)]['direction'] != null || this[_0x43cf3d(0xe6)][_0x43cf3d(0x1d9)] != null) && this[_0x43cf3d(0x10c)][_0x43cf3d(0x251)](this['obj']); }, this[_0x2c9c9a(0x1f9)] = function () { var _0x1e56d1 = _0x2c9c9a; if (this['angle'] != null) return; if (this[_0x1e56d1(0x265)] > 0x0) return 0x1; if (this[_0x1e56d1(0x265)] < 0x0) return -0x1; if (this[_0x1e56d1(0x10a)] > 0x0) return 0x2; if (this['speedY'] < 0x0) return -0x2; }; } function drawPolyBullet(_0x200157) { var _0x26688f = _0x2ab462; this['bullet'] = _0x200157[_0x26688f(0x10c)]; for (let _0x8ff4e7 = 0x0; _0x8ff4e7 < this[_0x26688f(0x10c)][_0x26688f(0x29d)]; _0x8ff4e7++) { var _0x4c99b8 = bul = this[_0x26688f(0x10c)][_0x8ff4e7]; _0x200157[_0x26688f(0x1e5)] && particlePool['createParticle'](bul, 0.00001, _0x26688f(0x225)), !bul['image'] && (buffer[_0x26688f(0xe9)] = bul[_0x26688f(0x2a0)], !this[_0x26688f(0x1b9)] && (buffer[_0x26688f(0x228)](bul['x'] * self[_0x26688f(0x293)], bul['y'] * self['scale'], bul['w'] * self[_0x26688f(0x293)], bul['h'] * self[_0x26688f(0x293)]), this[_0x26688f(0x1b9)] = ![]), (bul['w'] == 0x0 && bul['h'] == 0x0 && bul[_0x26688f(0x1d9)] == null && bul[_0x26688f(0x1f9)] == -0x1 || bul[_0x26688f(0x1f9)] == 0x1 || bul[_0x26688f(0x1f9)] == -0x2 || bul[_0x26688f(0x1f9)] == 0x2) && (buffer[_0x26688f(0x291)](), buffer[_0x26688f(0x28e)](this[_0x26688f(0x10c)][_0x8ff4e7]['x'] * self[_0x26688f(0x293)], this[_0x26688f(0x10c)][_0x8ff4e7]['y'] * self[_0x26688f(0x293)], this[_0x26688f(0x10c)][_0x8ff4e7]['r'] * self[_0x26688f(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x26688f(0x273)](), buffer[_0x26688f(0x205)]()), bul['w'] == 0x0 && bul['h'] == 0x0 && bul['angle'] !== null && (buffer[_0x26688f(0x291)](), buffer[_0x26688f(0x28e)](bul['x'] * self[_0x26688f(0x293)], bul['y'] * self['scale'], bul['r'] * self['scale'], 0x0, Math['PI'] * 0x2), buffer[_0x26688f(0x273)](), buffer[_0x26688f(0x205)](), bul['x'] += Math['cos'](bul[_0x26688f(0x1d9)] + 0x5a * Deg2Rad) * bul['speed'], bul['y'] += Math[_0x26688f(0x1f1)](bul[_0x26688f(0x1d9)] + 0x5a * Deg2Rad) * bul['speed'], this['isRot'] = !![]), bul['w'] != 0x0 && bul['h'] != 0x0 && bul[_0x26688f(0x1d9)] != null && (buffer['save'](), buffer[_0x26688f(0x25a)]((bul['x'] + bul['w'] / 0x2) * self[_0x26688f(0x293)], (bul['y'] + bul['h'] / 0x2) * self[_0x26688f(0x293)]), buffer[_0x26688f(0x21e)](bul[_0x26688f(0x1d9)] + 0x5a * Deg2Rad), buffer['fillRect'](-this[_0x26688f(0x10c)][_0x8ff4e7]['w'] / 0x2 * self[_0x26688f(0x293)], -this[_0x26688f(0x10c)][_0x8ff4e7]['h'] / 0x2 * self[_0x26688f(0x293)], this[_0x26688f(0x10c)][_0x8ff4e7]['w'] * self[_0x26688f(0x293)], this[_0x26688f(0x10c)][_0x8ff4e7]['h'] * self[_0x26688f(0x293)]), buffer[_0x26688f(0x27f)](), bul['x'] += Math[_0x26688f(0x19e)](bul[_0x26688f(0x1d9)] + 0x5a * Deg2Rad) * bul[_0x26688f(0xf9)], bul['y'] += Math[_0x26688f(0x1f1)](bul[_0x26688f(0x1d9)] + 0x5a * Deg2Rad) * bul[_0x26688f(0xf9)], this[_0x26688f(0x1b9)] = !![])); } } function isCollideBoxPolygon(_0x3b8296, _0xd8c03c) { var _0x40ea91 = _0x2ab462, _0x517838 = _0x3b8296[_0x40ea91(0x10e)] - _0x3b8296[_0x40ea91(0x188)], _0x2cadbb = _0x3b8296[_0x40ea91(0x10e)] + _0x3b8296[_0x40ea91(0x188)], _0x3b1407 = _0x3b8296[_0x40ea91(0xf2)] - _0x3b8296[_0x40ea91(0x188)], _0x54e5fd = _0x3b8296[_0x40ea91(0xf2)] + _0x3b8296[_0x40ea91(0x188)]; if (_0xd8c03c['w'] == undefined) { var _0x3707f5 = _0x3b8296[_0x40ea91(0x10e)] - _0xd8c03c['x'], _0x83750f = _0x3b8296[_0x40ea91(0xf2)] - _0xd8c03c['y'], _0x5d3e01 = Math[_0x40ea91(0x174)](_0x3707f5 * _0x3707f5 + _0x83750f * _0x83750f); if (_0x5d3e01 <= _0xd8c03c['r'] + _0x3b8296[_0x40ea91(0x188)] / 0x2 + _0xd8c03c['r']) return !![]; } else var _0x43f6a1 = _0xd8c03c['x']; var _0x2a72ad = _0xd8c03c['x'] + _0xd8c03c['w'], _0x4a7db4 = _0xd8c03c['y'], _0x360e59 = _0xd8c03c['y'] + _0xd8c03c['h']; if (_0x2cadbb >= _0x43f6a1 && _0x517838 <= _0x2a72ad && _0x54e5fd >= _0x4a7db4 && _0x3b1407 <= _0x360e59) return !![]; return ![]; } Sprite = function (_0x496d6f, _0x383f92, _0x16a994, _0x32b321, _0x58e264, _0x5ed3fc, _0x3345cb, _0x3d1a6f, _0x53673d) { var _0x13f8e0 = _0x2ab462; this['x'] = _0x496d6f, this['y'] = _0x383f92, this['w'] = _0x16a994, this['h'] = _0x32b321, this['vx'] = _0x58e264, this['vy'] = _0x5ed3fc, this['id'] = _0x3d1a6f, this[_0x13f8e0(0x297)] = _0x53673d || 0x0, this[_0x13f8e0(0x1d9)], this[_0x13f8e0(0x1b9)] = ![], this[_0x13f8e0(0x256)] = ![], this[_0x13f8e0(0x1ab)] = ![], this['left'] = ![], this[_0x13f8e0(0xe3)] = 0x1, this[_0x13f8e0(0x17e)] = ![], this[_0x13f8e0(0x286)] = ![], this[_0x13f8e0(0x2ab)] = ![], this[_0x13f8e0(0x1d0)] = function (_0x5b6aec) { var _0x5de6a7 = _0x13f8e0; this[_0x5de6a7(0x281)] = _0x5b6aec, this[_0x5de6a7(0x207)]; }, this['jumpTime'] = 0x0, this[_0x13f8e0(0x120)] = ![], this[_0x13f8e0(0x2a0)] = _0x3345cb, this[_0x13f8e0(0x243)] = _0x34aa99 => { var _0x4a8c74 = _0x13f8e0; if (camera) { if (!canDraw(this, camera)) return; } this['gv'] = _0x34aa99; if (this['gv'] == undefined) { this[_0x4a8c74(0x2ab)] = !![], this['setGravity'](0x32); if (!this[_0x4a8c74(0x2ab)]) return; this['vy'] += this['gravity'] * 0.017, this['y'] += Math[_0x4a8c74(0x27a)](this['vy']), this['hasShadow'] = ![]; } else { this[_0x4a8c74(0x1d0)](this['gv']), this[_0x4a8c74(0x2ab)] = !![], this[_0x4a8c74(0x1d0)](this['gv']); if (!this[_0x4a8c74(0x2ab)]) return; this['vy'] += this['gravity'] * 0.017, this['y'] += Math[_0x4a8c74(0x27a)](this['vy']), this['hasShadow'] = ![]; } }, this[_0x13f8e0(0x156)] = () => { var _0x4f17b4 = _0x13f8e0; this['vy'] = 0x0, this[_0x4f17b4(0x2ab)] = ![], this['onFloor'] = !![]; }, this['createShadow'] = function (_0x3b4d06) { var _0x2f48b9 = _0x13f8e0; this[_0x2f48b9(0x149)] = _0x3b4d06, this[_0x2f48b9(0x286)] = !![], this['r'] = 0x8, this['onFloor'] && (this[_0x2f48b9(0x1bb)] = this[_0x2f48b9(0x249)]['y'] + this['collider']['h'] - 0x2), !this[_0x2f48b9(0x296)] && (this[_0x2f48b9(0x1bb)] = this[_0x2f48b9(0x249)]['y'] + this[_0x2f48b9(0x249)]['h'] * 0x2); }; !this[_0x13f8e0(0x2a0)] && (this['image'] = new Image()); this['bullet'] = [], this[_0x13f8e0(0x10c)][_0x13f8e0(0x255)] = new Image(), this[_0x13f8e0(0x1fa)] = function () { var _0x4bccdf = _0x13f8e0; if (this['hasShadow']) { buffer['save'](); this[_0x4bccdf(0x149)] == _0x4bccdf(0x169) && (buffer[_0x4bccdf(0x291)](), buffer['scale'](0x1, 0.5), buffer[_0x4bccdf(0xe9)] = 'rgba(0,0,0,0.5)', buffer[_0x4bccdf(0x28e)]((this['x'] + this['w'] / 0x2) * self['scale'], this[_0x4bccdf(0x1bb)] * self[_0x4bccdf(0x293)] * 0x2, this['r'] * self[_0x4bccdf(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x4bccdf(0x273)](), buffer[_0x4bccdf(0x205)]()); if (this[_0x4bccdf(0x149)] == _0x4bccdf(0xed)) { buffer[_0x4bccdf(0xe9)] = 'rgba(0,0,0,0.5)'; if (!this['collider']) buffer[_0x4bccdf(0x228)](this['x'] * self['scale'], this['shadowY'] * self[_0x4bccdf(0x293)], this['w'] * self[_0x4bccdf(0x293)], this['h'] * self[_0x4bccdf(0x293)]); else buffer[_0x4bccdf(0x228)](this['collider']['x'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x1bb)] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x249)]['w'] * self[_0x4bccdf(0x293)], this['collider']['h'] * self[_0x4bccdf(0x293)]); } buffer[_0x4bccdf(0x27f)](); } if (this['vx'] > 0x0) this[_0x4bccdf(0x23b)] = ![]; else this['vx'] < 0x0 && (this[_0x4bccdf(0x23b)] = !![]); if (typeof this[_0x4bccdf(0x1d9)] == 'number') this[_0x4bccdf(0x1b9)] = !![]; for (var _0x1ed631 = 0x0; _0x1ed631 < this[_0x4bccdf(0x10c)][_0x4bccdf(0x29d)]; _0x1ed631++) { var _0x2a5bee = this[_0x4bccdf(0x10c)][_0x1ed631]; !_0x2a5bee[_0x4bccdf(0x255)] && (buffer[_0x4bccdf(0xe9)] = _0x2a5bee[_0x4bccdf(0x2a0)], (!this[_0x4bccdf(0x1b9)] || _0x2a5bee['angle'] == null && _0x2a5bee[_0x4bccdf(0x1f9)] == -0x1 || _0x2a5bee[_0x4bccdf(0x1f9)] == 0x1 || _0x2a5bee[_0x4bccdf(0x1f9)] == -0x2 || _0x2a5bee[_0x4bccdf(0x1f9)] == 0x2) && (_0x2a5bee['w'] == 0x0 && _0x2a5bee['h'] == 0x0 && _0x2a5bee['r'] > 0x0 ? (buffer[_0x4bccdf(0x291)](), buffer['arc'](this[_0x4bccdf(0x10c)][_0x1ed631]['x'] * self['scale'], this[_0x4bccdf(0x10c)][_0x1ed631]['y'] * self['scale'], this['bullet'][_0x1ed631]['r'] * self[_0x4bccdf(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x4bccdf(0x273)](), buffer[_0x4bccdf(0x205)]()) : buffer[_0x4bccdf(0x228)](_0x2a5bee['x'] * self[_0x4bccdf(0x293)], _0x2a5bee['y'] * self[_0x4bccdf(0x293)], _0x2a5bee['w'] * self['scale'], _0x2a5bee['h'] * self['scale'])), _0x2a5bee['r'] > 0x0 && _0x2a5bee['w'] == 0x0 && _0x2a5bee['h'] == 0x0 && _0x2a5bee[_0x4bccdf(0x1d9)] != null && !_0x2a5bee[_0x4bccdf(0x1f9)] && (buffer[_0x4bccdf(0x27c)](), buffer[_0x4bccdf(0x291)](), buffer[_0x4bccdf(0x28e)](_0x2a5bee['x'] * self[_0x4bccdf(0x293)], _0x2a5bee['y'] * self['scale'], _0x2a5bee['r'] * self['scale'], 0x0, Math['PI'] * 0x2), buffer['fill'](), buffer[_0x4bccdf(0x205)](), _0x2a5bee['x'] += Math[_0x4bccdf(0x19e)](_0x2a5bee[_0x4bccdf(0x1d9)] + 0x5a * Deg2Rad) * _0x2a5bee[_0x4bccdf(0xf9)], _0x2a5bee['y'] += Math[_0x4bccdf(0x1f1)](_0x2a5bee['angle'] + 0x5a * Deg2Rad) * _0x2a5bee[_0x4bccdf(0xf9)], this[_0x4bccdf(0x1b9)] = !![], buffer[_0x4bccdf(0x27f)]()), _0x2a5bee['w'] > 0x0 && _0x2a5bee['h'] > 0x0 && _0x2a5bee['r'] == 0x0 && _0x2a5bee[_0x4bccdf(0x1d9)] != null && !_0x2a5bee[_0x4bccdf(0x1f9)] && (buffer['save'](), buffer['translate']((_0x2a5bee['x'] + _0x2a5bee['w'] / 0x2) * self[_0x4bccdf(0x293)], (_0x2a5bee['y'] + _0x2a5bee['h'] / 0x2) * self[_0x4bccdf(0x293)]), buffer[_0x4bccdf(0x21e)](_0x2a5bee['angle'] + 0x5a * Deg2Rad), buffer[_0x4bccdf(0x228)](-this[_0x4bccdf(0x10c)][_0x1ed631]['w'] / 0x2 * self['scale'], -this[_0x4bccdf(0x10c)][_0x1ed631]['h'] / 0x2 * self['scale'], this[_0x4bccdf(0x10c)][_0x1ed631]['w'] * self['scale'], this[_0x4bccdf(0x10c)][_0x1ed631]['h'] * self[_0x4bccdf(0x293)]), buffer[_0x4bccdf(0x27f)](), _0x2a5bee['x'] += Math['cos'](_0x2a5bee['angle'] + 0x5a * Deg2Rad) * _0x2a5bee[_0x4bccdf(0xf9)], _0x2a5bee['y'] += Math[_0x4bccdf(0x1f1)](_0x2a5bee['angle'] + 0x5a * Deg2Rad) * _0x2a5bee[_0x4bccdf(0xf9)], this['isRot'] = !![], buffer[_0x4bccdf(0x27f)]())), _0x2a5bee[_0x4bccdf(0x255)] && (!this[_0x4bccdf(0x1b9)] && buffer[_0x4bccdf(0x180)](this[_0x4bccdf(0x10c)][_0x1ed631][_0x4bccdf(0x255)], this[_0x4bccdf(0x10c)][_0x1ed631]['x'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x10c)][_0x1ed631]['y'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x10c)][_0x1ed631]['w'] * self[_0x4bccdf(0x293)], this['bullet'][_0x1ed631]['h'] * self[_0x4bccdf(0x293)]), _0x2a5bee[_0x4bccdf(0x1d9)] && (buffer['save'](), buffer[_0x4bccdf(0x25a)]((_0x2a5bee['x'] + _0x2a5bee['w'] / 0x2) * self['scale'], (_0x2a5bee['y'] + _0x2a5bee['h'] / 0x2) * self[_0x4bccdf(0x293)]), buffer['rotate'](_0x2a5bee['angle']), buffer['drawImage'](this[_0x4bccdf(0x10c)][_0x1ed631]['image'], -(this[_0x4bccdf(0x10c)][_0x1ed631]['w'] / 0x2) * self['scale'], -(this[_0x4bccdf(0x10c)][_0x1ed631]['h'] / 0x2) * self[_0x4bccdf(0x293)], this['bullet'][_0x1ed631]['w'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x10c)][_0x1ed631]['h'] * self['scale']), buffer[_0x4bccdf(0x27f)](), _0x2a5bee['x'] += Math[_0x4bccdf(0x19e)](_0x2a5bee['angle'] + 0x5a * Deg2Rad) * _0x2a5bee['speed'], _0x2a5bee['y'] += Math['sin'](_0x2a5bee['angle'] + 0x5a * Deg2Rad) * _0x2a5bee[_0x4bccdf(0xf9)], this['isRot'] = !![], buffer[_0x4bccdf(0x27f)]())); } if (this[_0x4bccdf(0x256)] && !this[_0x4bccdf(0x297)]) for (var _0x1ed631 = 0x0; _0x1ed631 < this['bullet'][_0x4bccdf(0x29d)]; _0x1ed631++) { if (this[_0x4bccdf(0x10c)][_0x1ed631]['image']) { buffer[_0x4bccdf(0x27c)](), buffer[_0x4bccdf(0x293)](-0x1, 0x1), buffer['drawImage'](this[_0x4bccdf(0x10c)][_0x1ed631][_0x4bccdf(0x255)], -this['bullet'][_0x1ed631]['x'] * self['scale'], this[_0x4bccdf(0x10c)][_0x1ed631]['y'] * self[_0x4bccdf(0x293)], -this[_0x4bccdf(0x10c)][_0x1ed631]['w'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x10c)][_0x1ed631]['h'] * self['scale']), buffer[_0x4bccdf(0x27f)](); return; } else { if (this['bullet'][_0x1ed631]['w'] > 0x0 && this[_0x4bccdf(0x10c)][_0x1ed631]['h'] > 0x0) { buffer[_0x4bccdf(0x27c)](), buffer[_0x4bccdf(0x293)](-0x1, 0x1), buffer[_0x4bccdf(0xe9)] = this[_0x4bccdf(0x10c)][_0x1ed631][_0x4bccdf(0x2a0)], buffer['fillRect'](-this[_0x4bccdf(0x10c)][_0x1ed631]['x'] * self['scale'], this[_0x4bccdf(0x10c)][_0x1ed631]['y'] * self[_0x4bccdf(0x293)], -this[_0x4bccdf(0x10c)][_0x1ed631]['w'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x10c)][_0x1ed631]['h'] * self[_0x4bccdf(0x293)]), buffer['restore'](); return; } if (this[_0x4bccdf(0x10c)][_0x1ed631]['w'] == 0x0 && this[_0x4bccdf(0x10c)][_0x1ed631]['h'] == 0x0) { buffer[_0x4bccdf(0x291)](), buffer[_0x4bccdf(0x27c)](), buffer[_0x4bccdf(0x293)](-0x1, 0x1), buffer['arc'](-this[_0x4bccdf(0x10c)][_0x1ed631]['x'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x10c)][_0x1ed631]['y'] * self[_0x4bccdf(0x293)], -this[_0x4bccdf(0x10c)][_0x1ed631]['r'] * self[_0x4bccdf(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x4bccdf(0x273)](), buffer['closePath'](), buffer[_0x4bccdf(0x27f)](); return; } } } if (this['rotation'] && !this['flipX'] && !rotImage) { buffer[_0x4bccdf(0x27c)](), buffer[_0x4bccdf(0x25a)](this['x'] + this['w'] / 0x2 * self[_0x4bccdf(0x293)], this['y'] + this['h'] / 0x2 * self[_0x4bccdf(0x293)]), buffer[_0x4bccdf(0x21e)](this[_0x4bccdf(0x297)]), buffer['fillStyle'] = this[_0x4bccdf(0x2a0)], buffer[_0x4bccdf(0x228)](-this['w'] / 0x2 * self['scale'], -this['h'] / 0x2 * self[_0x4bccdf(0x293)], this['w'] * self[_0x4bccdf(0x293)], this['h'] * self[_0x4bccdf(0x293)]), buffer['translate'](-this['x'] * self[_0x4bccdf(0x293)], -this['y'] * self[_0x4bccdf(0x293)]), buffer[_0x4bccdf(0x27f)](); return; } if (this[_0x4bccdf(0x297)] && this[_0x4bccdf(0x256)] && !rotImage) { buffer['save'](), buffer[_0x4bccdf(0x25a)](this['x'] - this['w'] / 0x2, (this['y'] - this['h'] / 0x2) * self[_0x4bccdf(0x293)]), buffer[_0x4bccdf(0x293)](-0x1, 0x1), buffer[_0x4bccdf(0x21e)](this[_0x4bccdf(0x297)]), buffer[_0x4bccdf(0xe9)] = this[_0x4bccdf(0x2a0)], buffer['fillRect'](-this['w'] / 0x2 * self[_0x4bccdf(0x293)], -this['h'] / 0x2 * self['scale'], this['w'] * self[_0x4bccdf(0x293)], this['h'] * self['scale']), buffer['restore'](); return; } buffer[_0x4bccdf(0x235)] = this[_0x4bccdf(0xe3)], buffer[_0x4bccdf(0xe9)] = this[_0x4bccdf(0x2a0)], buffer['fillRect'](this['x'] * self['scale'], this['y'] * self[_0x4bccdf(0x293)], this['w'] * self['scale'], this['h'] * self[_0x4bccdf(0x293)]), this['isVisible'] && (buffer[_0x4bccdf(0xe9)] = this[_0x4bccdf(0x249)][_0x4bccdf(0x2a0)], buffer[_0x4bccdf(0x228)](this[_0x4bccdf(0x249)]['x'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x249)]['y'] * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x249)]['w'] * self['scale'], this[_0x4bccdf(0x249)]['h'] * self[_0x4bccdf(0x293)]), this['flipX'] && (buffer[_0x4bccdf(0x27c)](), buffer[_0x4bccdf(0x293)](-0x1, 0x1), buffer[_0x4bccdf(0x228)](-(this[_0x4bccdf(0x249)]['x'] + 4.2) * self['scale'], this[_0x4bccdf(0x249)]['y'] * self['scale'], -this['w'] / 0x2 * self[_0x4bccdf(0x293)], this[_0x4bccdf(0x249)]['h'] * self['scale']), buffer[_0x4bccdf(0x27f)]())); }, this[_0x13f8e0(0x21c)] = ![], this[_0x13f8e0(0x138)] = function () { var _0x3060f5 = _0x13f8e0; if (this[_0x3060f5(0x286)]) { buffer['save'](); this['shape'] == _0x3060f5(0x169) && (buffer[_0x3060f5(0x291)](), buffer[_0x3060f5(0xe9)] = _0x3060f5(0x1d1), buffer['arc']((this['x'] + this['w'] / 0x2) * self[_0x3060f5(0x293)], this['shadowY'] * self[_0x3060f5(0x293)], this['r'] * self[_0x3060f5(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x3060f5(0x273)](), buffer[_0x3060f5(0x205)]()); if (this[_0x3060f5(0x149)] == _0x3060f5(0xed)) { buffer[_0x3060f5(0xe9)] = _0x3060f5(0x1d1); if (!this['collider']) buffer[_0x3060f5(0x228)](this['x'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x1bb)] * self['scale'], this['w'] * self['scale'], this['h'] * self['scale']); else buffer[_0x3060f5(0x228)](this[_0x3060f5(0x249)]['x'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x1bb)] * self[_0x3060f5(0x293)], this[_0x3060f5(0x249)]['w'] * self['scale'], this[_0x3060f5(0x249)]['h'] * self[_0x3060f5(0x293)]); } buffer[_0x3060f5(0x27f)](); } if (this['vx'] > 0x0) this['left'] = ![]; else this['vx'] < 0x0 && (this[_0x3060f5(0x23b)] = !![]); this[_0x3060f5(0x25b)] && (buffer['save'](), buffer[_0x3060f5(0xe9)] = this[_0x3060f5(0x249)][_0x3060f5(0x2a0)], buffer[_0x3060f5(0x228)](this['collider']['x'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x249)]['y'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x249)]['w'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x249)]['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x27f)]()); this['show'] && (buffer[_0x3060f5(0x27c)](), buffer[_0x3060f5(0xe9)] = this[_0x3060f5(0x1c5)][_0x3060f5(0x2a0)], buffer[_0x3060f5(0x228)](this[_0x3060f5(0x1c5)]['x'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x1c5)]['y'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x1c5)]['w'] * self[_0x3060f5(0x293)], this['detector']['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x27f)]()); if (this[_0x3060f5(0x256)] && !rotImage) for (var _0x252510 = 0x0; _0x252510 < this[_0x3060f5(0x10c)][_0x3060f5(0x29d)]; _0x252510++) { if (imSet) { buffer[_0x3060f5(0x27c)](), buffer[_0x3060f5(0x293)](-0x1, 0x1), buffer[_0x3060f5(0x235)] = this['alpha'], buffer[_0x3060f5(0x180)](this[_0x3060f5(0x10c)][_0x252510]['image'], -this['bullet'][_0x252510]['x'] * self['scale'], this[_0x3060f5(0x10c)][_0x252510]['y'] * self[_0x3060f5(0x293)], -this[_0x3060f5(0x10c)][_0x252510]['w'] * self['scale'], this['bullet'][_0x252510]['h'] * self['scale']), buffer[_0x3060f5(0x27f)](); return; } else for (var _0x5d7620 = 0x0; _0x5d7620 < this[_0x3060f5(0x10c)][_0x3060f5(0x29d)]; _0x5d7620++) { buffer[_0x3060f5(0x27c)](), buffer[_0x3060f5(0x293)](-0x1, 0x1), buffer[_0x3060f5(0xe9)] = this[_0x3060f5(0x10c)][_0x5d7620][_0x3060f5(0x2a0)], buffer['fillRect']((-this[_0x3060f5(0x10c)][_0x5d7620]['x'] - this['bullet'][_0x5d7620]['w']) * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x5d7620]['y'] * self['scale'], this['bullet'][_0x5d7620]['w'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x5d7620]['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x235)] = 0x1, buffer[_0x3060f5(0x27f)](); return; } } this['isRot'] = ![]; this[_0x3060f5(0x1d9)] != 0x0 ? this[_0x3060f5(0x1b9)] = !![] : this[_0x3060f5(0x1b9)] = ![]; for (var _0x252510 = 0x0; _0x252510 < this[_0x3060f5(0x10c)][_0x3060f5(0x29d)]; _0x252510++) { var _0x4c84ba = this[_0x3060f5(0x10c)][_0x252510]; if (!_0x4c84ba[_0x3060f5(0x255)]) { buffer['fillStyle'] = this['bullet'][_0x252510][_0x3060f5(0x2a0)]; if (!this[_0x3060f5(0x1d9)]) (!this[_0x3060f5(0x1b9)] || !this[_0x3060f5(0x1d9)] && _0x4c84ba[_0x3060f5(0x1f9)] == -0x1 || _0x4c84ba[_0x3060f5(0x1f9)] == 0x1 || _0x4c84ba[_0x3060f5(0x1f9)] == -0x2 || _0x4c84ba[_0x3060f5(0x1f9)] == 0x2) && buffer[_0x3060f5(0x228)](this['bullet'][_0x252510]['x'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['y'] * self[_0x3060f5(0x293)], this['bullet'][_0x252510]['w'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['h'] * self[_0x3060f5(0x293)]), (this['bullet'][_0x252510]['r'] >= 0x0 && _0x4c84ba[_0x3060f5(0x1f9)] == -0x1 || _0x4c84ba[_0x3060f5(0x1f9)] == 0x1 || _0x4c84ba[_0x3060f5(0x1f9)] == -0x2 || _0x4c84ba[_0x3060f5(0x1f9)] == 0x2) && (buffer[_0x3060f5(0x291)](), buffer[_0x3060f5(0x28e)](this[_0x3060f5(0x10c)][_0x252510]['x'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['y'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['r'] * self['scale'], 0x0, Math['PI'] * 0x2), buffer['fill'](), buffer[_0x3060f5(0x205)]()); else this['bullet'][_0x252510]['w'] == 0x0 && this[_0x3060f5(0x10c)][_0x252510]['h'] == 0x0 && _0x4c84ba[_0x3060f5(0x1d9)] != undefined && (buffer['beginPath'](), buffer[_0x3060f5(0x28e)](this['bullet'][_0x252510]['x'] + _0x4c84ba['r'] / 0x2 * self['scale'], this[_0x3060f5(0x10c)][_0x252510]['y'] + _0x4c84ba['r'] / 0x2 * self['scale'], this[_0x3060f5(0x10c)][_0x252510]['r'] * self[_0x3060f5(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x3060f5(0x273)](), buffer[_0x3060f5(0x205)](), _0x4c84ba['x'] += Math[_0x3060f5(0x19e)](_0x4c84ba['angle'] - 0x5a * Deg2Rad) * _0x4c84ba[_0x3060f5(0xf9)], _0x4c84ba['y'] += Math[_0x3060f5(0x1f1)](_0x4c84ba[_0x3060f5(0x1d9)] - 0x5a * Deg2Rad) * _0x4c84ba[_0x3060f5(0xf9)], this['isRot'] = !![]); _0x4c84ba['r'] == 0x0 && _0x4c84ba['angle'] != undefined && (buffer['save'](), buffer['translate']((_0x4c84ba['x'] + _0x4c84ba['w'] / 0x2) * self['scale'], (_0x4c84ba['y'] + _0x4c84ba['h'] / 0x2) * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x21e)](_0x4c84ba[_0x3060f5(0x1d9)]), buffer['fillRect'](-this[_0x3060f5(0x10c)][_0x252510]['w'] / 0x2 * self[_0x3060f5(0x293)], -this[_0x3060f5(0x10c)][_0x252510]['h'] / 0x2 * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['w'] * self['scale'], this[_0x3060f5(0x10c)][_0x252510]['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x27f)](), _0x4c84ba['x'] += Math[_0x3060f5(0x19e)](_0x4c84ba[_0x3060f5(0x1d9)] - 0x5a * Deg2Rad) * _0x4c84ba['speed'], _0x4c84ba['y'] += Math[_0x3060f5(0x1f1)](_0x4c84ba[_0x3060f5(0x1d9)] - 0x5a * Deg2Rad) * _0x4c84ba[_0x3060f5(0xf9)], this[_0x3060f5(0x1b9)] = !![]); } if (_0x4c84ba[_0x3060f5(0x255)]) { if (!isRot && _0x4c84ba[_0x3060f5(0x1f9)] == -0x1 || _0x4c84ba[_0x3060f5(0x1f9)] == 0x1 || _0x4c84ba[_0x3060f5(0x1f9)] == -0x2 || _0x4c84ba[_0x3060f5(0x1f9)] == 0x2) { if (!_0x4c84ba['flipX']) buffer[_0x3060f5(0x180)](this[_0x3060f5(0x10c)][_0x252510][_0x3060f5(0x255)], this[_0x3060f5(0x10c)][_0x252510]['x'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['y'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['w'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['h'] * self['scale']); } _0x4c84ba[_0x3060f5(0x1d9)] != undefined && (buffer[_0x3060f5(0x27c)](), buffer['translate']((_0x4c84ba['x'] + _0x4c84ba['w'] / 0x2) * self[_0x3060f5(0x293)], (_0x4c84ba['y'] + _0x4c84ba['h'] / 0x2) * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x21e)](_0x4c84ba['angle']), buffer['drawImage'](this[_0x3060f5(0x10c)][_0x252510]['image'], -this[_0x3060f5(0x10c)][_0x252510]['w'] / 0x2 * self[_0x3060f5(0x293)], -this[_0x3060f5(0x10c)][_0x252510]['h'] / 0x2 * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['w'] * self['scale'], this['bullet'][_0x252510]['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x27f)](), _0x4c84ba['x'] += Math[_0x3060f5(0x19e)](_0x4c84ba[_0x3060f5(0x1d9)] + 0x5a * Deg2Rad) * _0x4c84ba['speed'], _0x4c84ba['y'] += Math['sin'](_0x4c84ba['angle'] + 0x5a * Deg2Rad) * _0x4c84ba[_0x3060f5(0xf9)], isRot = !![]); } if (this[_0x3060f5(0x10c)][_0x252510]['image'] && this['bullet'][_0x252510]['flipX']) { buffer[_0x3060f5(0x27c)](), buffer['scale'](-0x1, 0x1), buffer[_0x3060f5(0x180)](this[_0x3060f5(0x10c)][_0x252510]['image'], -this[_0x3060f5(0x10c)][_0x252510]['x'] * self[_0x3060f5(0x293)], this['bullet'][_0x252510]['y'] * self[_0x3060f5(0x293)], -this[_0x3060f5(0x10c)][_0x252510]['w'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['h'] * self['scale']), buffer[_0x3060f5(0x27f)](); return; } else { if (this['bullet'][_0x252510][_0x3060f5(0x255)] && this['bullet'][_0x252510][_0x3060f5(0x1ab)]) { buffer[_0x3060f5(0x27c)](), buffer[_0x3060f5(0x293)](0x1, -0x1), buffer['drawImage'](this[_0x3060f5(0x10c)][_0x252510][_0x3060f5(0x255)], this[_0x3060f5(0x10c)][_0x252510]['x'] * self[_0x3060f5(0x293)], -this[_0x3060f5(0x10c)][_0x252510]['y'] * self['scale'], this['bullet'][_0x252510]['w'] * self[_0x3060f5(0x293)], -this[_0x3060f5(0x10c)][_0x252510]['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x27f)](); return; } } } if (this[_0x3060f5(0x1d9)] && this['look'] == 'up' || this['angle'] && this[_0x3060f5(0x128)] == _0x3060f5(0x248)) { buffer['save'](), centerX = this['x'] * self[_0x3060f5(0x293)], centerY = this['y'] * self['scale'], buffer['translate'](centerX, centerY), buffer[_0x3060f5(0x21e)](this[_0x3060f5(0x1d9)] + 0x5a * Deg2Rad); this[_0x3060f5(0x1d9)] <= 0x3 && this[_0x3060f5(0x21c)] && buffer[_0x3060f5(0x293)](0x1, -0x1); this[_0x3060f5(0x1d9)] <= -0x0 && this[_0x3060f5(0x21c)] && buffer[_0x3060f5(0x293)](0x1, -0x1); buffer['globalAlpha'] = this[_0x3060f5(0xe3)], buffer['drawImage'](this[_0x3060f5(0x255)], -this['w'] / 0x8 * self['scale'], -this['h'] / 0x2 * self[_0x3060f5(0x293)], this['w'] * self[_0x3060f5(0x293)], this['h'] * self[_0x3060f5(0x293)]), buffer['restore'](); return; } else { if (this[_0x3060f5(0x1d9)] && this[_0x3060f5(0x128)] == 'left' || this[_0x3060f5(0x128)] == _0x3060f5(0x183)) { buffer[_0x3060f5(0x27c)](), centerX = (this['x'] + this['w'] / 0x2) * self[_0x3060f5(0x293)], centerY = (this['y'] + this['h'] / 0x2) * self[_0x3060f5(0x293)], buffer['translate'](centerX, centerY), buffer[_0x3060f5(0x21e)](this['angle'] + 0x5a * Deg2Rad); this[_0x3060f5(0x1d9)] <= 0x3 && this[_0x3060f5(0x21c)] && buffer[_0x3060f5(0x293)](0x1, -0x1); this[_0x3060f5(0x1d9)] <= -0x0 && this[_0x3060f5(0x21c)] && buffer['scale'](0x1, -0x1); buffer[_0x3060f5(0x235)] = this['alpha'], buffer[_0x3060f5(0x180)](this[_0x3060f5(0x255)], -this['w'] / 0x8 * self[_0x3060f5(0x293)], -this['h'] / 0x2 * self['scale'], this['w'] * self[_0x3060f5(0x293)], this['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x27f)](); return; } } this[_0x3060f5(0x297)] && (rotImage = !![]); if (this[_0x3060f5(0x256)] && !this['rotation']) for (var _0x252510 = 0x0; _0x252510 < this['bullet'][_0x3060f5(0x29d)]; _0x252510++) { if (this[_0x3060f5(0x10c)][_0x252510]['image']) buffer[_0x3060f5(0x180)](this[_0x3060f5(0x10c)][_0x252510]['image'], -this[_0x3060f5(0x10c)][_0x252510]['x'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['y'] * self[_0x3060f5(0x293)], -this[_0x3060f5(0x10c)][_0x252510]['w'] * self[_0x3060f5(0x293)], this['bullet'][_0x252510]['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x235)] = 0x1; else { if (this[_0x3060f5(0x10c)][_0x252510]['w'] > 0x0 && this[_0x3060f5(0x10c)][_0x252510]['h'] > 0x0) { buffer[_0x3060f5(0x27c)](), buffer['scale'](-0x1, 0x1), buffer['fillStyle'] = this[_0x3060f5(0x10c)][_0x252510][_0x3060f5(0x2a0)], buffer[_0x3060f5(0x228)](-this['bullet'][_0x252510]['x'] * self[_0x3060f5(0x293)], this['bullet'][_0x252510]['y'] * self['scale'], -this[_0x3060f5(0x10c)][_0x252510]['w'] * self[_0x3060f5(0x293)], this[_0x3060f5(0x10c)][_0x252510]['h'] * self[_0x3060f5(0x293)]), buffer['restore'](); return; } if (this[_0x3060f5(0x10c)][_0x252510]['w'] == 0x0 && this[_0x3060f5(0x10c)][_0x252510]['h'] == 0x0) { buffer[_0x3060f5(0x291)](), buffer['save'](), buffer['scale'](-0x1, 0x1), buffer[_0x3060f5(0x28e)](-this[_0x3060f5(0x10c)][_0x252510]['x'] * self['scale'], this[_0x3060f5(0x10c)][_0x252510]['y'] * self[_0x3060f5(0x293)], -this[_0x3060f5(0x10c)][_0x252510]['r'] * self[_0x3060f5(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x3060f5(0x273)](), buffer[_0x3060f5(0x205)](), buffer[_0x3060f5(0x27f)](); return; } } } if (this[_0x3060f5(0x256)] && !rotImage) { if (rotImage) return; buffer[_0x3060f5(0x27c)](), buffer[_0x3060f5(0x293)](-0x1, 0x1), buffer[_0x3060f5(0x235)] = this[_0x3060f5(0xe3)], buffer[_0x3060f5(0x180)](this[_0x3060f5(0x255)], -this['x'] * self['scale'], this['y'] * self['scale'], -this['w'] * self[_0x3060f5(0x293)], this['h'] * self[_0x3060f5(0x293)]), buffer[_0x3060f5(0x235)] = 0x0, buffer[_0x3060f5(0x27f)](); return; } if (this[_0x3060f5(0x1ab)] && !rotImage) { if (rotImage) return; buffer[_0x3060f5(0x27c)](), buffer[_0x3060f5(0x293)](0x1, -0x1), buffer[_0x3060f5(0x235)] = this[_0x3060f5(0xe3)], buffer[_0x3060f5(0x180)](this[_0x3060f5(0x255)], this['x'] * self[_0x3060f5(0x293)], -this['y'] * self['scale'], this['w'] * self[_0x3060f5(0x293)], -this['h'] * self['scale']), buffer[_0x3060f5(0x27f)](); return; } if (!this[_0x3060f5(0x256)] && imSet && !rotImage) { if (rotImage) return; buffer['globalAlpha'] = this[_0x3060f5(0xe3)], buffer[_0x3060f5(0x180)](this[_0x3060f5(0x255)], this['x'] * self[_0x3060f5(0x293)], this['y'] * self['scale'], this['w'] * self[_0x3060f5(0x293)], this['h'] * self['scale']); } if (!this[_0x3060f5(0x1ab)] && !this[_0x3060f5(0x297)]) { if (rotImage) return; buffer[_0x3060f5(0x235)] = this[_0x3060f5(0xe3)], buffer[_0x3060f5(0x180)](this['image'], this['x'] * self[_0x3060f5(0x293)], this['y'] * self[_0x3060f5(0x293)], this['w'] * self[_0x3060f5(0x293)], this['h'] * self[_0x3060f5(0x293)]); return; } if (this['rotation'] && this[_0x3060f5(0x256)] && rotImage) { buffer[_0x3060f5(0x27c)](), centerX = this['x'] * self[_0x3060f5(0x293)], centerY = this['y'] * self[_0x3060f5(0x293)], buffer[_0x3060f5(0x25a)](centerX, centerY), buffer['scale'](-0x1, 0x1), buffer[_0x3060f5(0x21e)](this[_0x3060f5(0x297)]), buffer[_0x3060f5(0x235)] = this['alpha'], buffer[_0x3060f5(0x180)](this[_0x3060f5(0x255)], -this['w'] / 0x8, -this['h'] / 0x2, this['w'], this['h']), buffer[_0x3060f5(0x27f)](); return; } if (this[_0x3060f5(0x297)] && !this['flipX'] && rotImage) { buffer[_0x3060f5(0x27c)](), centerX = this['x'] * self[_0x3060f5(0x293)], centerY = this['y'] * self[_0x3060f5(0x293)], buffer[_0x3060f5(0x25a)](centerX, centerY), buffer[_0x3060f5(0x21e)](this[_0x3060f5(0x297)] + 0x5a * Deg2Rad), buffer[_0x3060f5(0x235)] = this[_0x3060f5(0xe3)], buffer[_0x3060f5(0x180)](this[_0x3060f5(0x255)], -this['w'] / 0x8, -this['h'] / 0x2, this['w'], this['h']), buffer[_0x3060f5(0x27f)](); return; } }, this[_0x13f8e0(0xee)] = function (_0x23a539, _0x3cacbc, _0x9e7607, _0x2a50ce, _0x229ed5, _0x12c69b, _0x2196ae, _0x1dbeb5) { var _0x4fe04d = _0x13f8e0; this[_0x4fe04d(0xe6)] = { 'x': _0x23a539, 'y': _0x3cacbc, 'w': _0x9e7607, 'h': _0x2a50ce, 'color': _0x229ed5, 'r': _0x12c69b, 'angle': _0x2196ae, 'direction': this[_0x4fe04d(0x1f9)](), 'fired': ![], 'speed': _0x1dbeb5 }, (this[_0x4fe04d(0xe6)][_0x4fe04d(0x1f9)] != null || this[_0x4fe04d(0xe6)]['angle'] != null) && this[_0x4fe04d(0x10c)][_0x4fe04d(0x251)](this[_0x4fe04d(0xe6)]); }, this['addBulletIm'] = function (_0xdc3dfb, _0x284ad0, _0x4ec997, _0x1f2cef, _0x5f5c1b, _0x286a8f, _0x57dce7) { var _0x2cf478 = _0x13f8e0; this[_0x2cf478(0xe6)] = { 'x': _0xdc3dfb, 'y': _0x284ad0, 'w': _0x4ec997, 'h': _0x1f2cef, 'flipX': ![], 'flipY': ![], 'angle': _0x286a8f, 'direction': this[_0x2cf478(0x1f9)](), 'fired': ![], 'speed': _0x57dce7 }, imSet = !![], this[_0x2cf478(0xe6)]['image'] = new Image(), this[_0x2cf478(0xe6)][_0x2cf478(0x255)]['src'] = _0x5f5c1b, (this[_0x2cf478(0xe6)][_0x2cf478(0x1f9)] || this[_0x2cf478(0xe6)]['angle']) && this[_0x2cf478(0x10c)][_0x2cf478(0x251)](this[_0x2cf478(0xe6)]); }, this[_0x13f8e0(0x1f9)] = () => { var _0x4c321c = _0x13f8e0; if (this[_0x4c321c(0x1d9)] != null) return; if (this['vx'] > 0x0) return 0x1; if (this['vx'] < 0x0) return -0x1; if (this['vy'] > 0x0) return 0x2; if (this['vy'] < 0x0) return -0x2; }; var _0x5f0abe = 0x0; this[_0x13f8e0(0x1f6)] = function () { var _0x56f3c1 = _0x13f8e0; _0x5f0abe += 0x8, this[_0x56f3c1(0x157)](_0x5f0abe); }, this[_0x13f8e0(0x157)] = function (_0x5f0b06) { var _0x5de066 = _0x13f8e0; buffer[_0x5de066(0x27c)](), buffer['translate'](_0x496d6f, _0x383f92), buffer['rotate'](_0x5f0b06 * Deg2Rad), buffer[_0x5de066(0xe9)] = this[_0x5de066(0x2a0)], buffer[_0x5de066(0x228)](-this['w'] / 0x2 * self['scale'], -this['h'] / 0x2 * self['scale'], this['w'] * self[_0x5de066(0x293)], this['h'] * self[_0x5de066(0x293)]), buffer['restore'](); }; var _0x5f0abe = 0x0; this[_0x13f8e0(0x1f6)] = function () { var _0x17723f = _0x13f8e0; _0x5f0abe += 0x8, this[_0x17723f(0x157)](_0x5f0abe); }, this[_0x13f8e0(0x238)] = function (_0x4e7d5e) { var _0x107da1 = _0x13f8e0; return buffer[_0x107da1(0x27c)](), buffer[_0x107da1(0x25a)](_0x496d6f, _0x383f92), buffer['rotate'](_0x4e7d5e * Deg2Rad), buffer['fillRect'](-this['w'] / 0x2 * self['scale'], -this['h'] / 0x2 * self[_0x107da1(0x293)], this['w'] * self['scale'], this['h'] * self[_0x107da1(0x293)]), buffer[_0x107da1(0x27f)](), this; }; }, Circle = function (_0x14d714, _0x2c6959, _0xe52855, _0x2d6464, _0x241d75, _0x1fffaf, _0x2f5671) { var _0x45a8ea = _0x2ab462; this['x'] = _0x14d714, this['y'] = _0x2c6959, this['r'] = _0xe52855, this['vx'] = _0x2d6464, this['vy'] = _0x241d75, this['id'] = _0x2f5671, this[_0x45a8ea(0x23b)] = ![], this[_0x45a8ea(0x1d0)] = function (_0x285da7) { var _0x1dd32a = _0x45a8ea; this[_0x1dd32a(0x281)] = _0x285da7, this[_0x1dd32a(0x1e8)] = ![], this[_0x1dd32a(0x286)] = ![]; }, this[_0x45a8ea(0x13d)] = 0x0, this[_0x45a8ea(0x2a0)] = _0x1fffaf, this[_0x45a8ea(0x10c)] = [], this[_0x45a8ea(0x10c)][_0x45a8ea(0x255)] = new Image(), this[_0x45a8ea(0x207)] = function (_0x445def) { var _0x5a1bae = _0x45a8ea; this[_0x5a1bae(0x149)] = _0x445def, this[_0x5a1bae(0x286)] = !![], this['r'] = 0x8, this[_0x5a1bae(0x296)] && (this['shadowY'] = this[_0x5a1bae(0x249)]['y'] + this['collider']['h'] - 0x2), !this[_0x5a1bae(0x296)] && (this[_0x5a1bae(0x1bb)] = this[_0x5a1bae(0x249)]['y'] + this[_0x5a1bae(0x249)]['h'] * 0x2); }, this[_0x45a8ea(0x243)] = _0x424888 => { var _0x5953de = _0x45a8ea; if (camera) { if (!canDraw(this, camera)) return; } this['gv'] = _0x424888, this['gv'] == undefined ? (this['setGravity'](0x32), this['vy'] += this[_0x5953de(0x281)] * 0.017, this['y'] += Math['floor'](this['vy']), this[_0x5953de(0x286)] = ![]) : (this['setGravity'](this['gv']), this['setGravity'](this['gv']), this['vy'] += this['gravity'] * 0.017, this['y'] += Math[_0x5953de(0x27a)](this['vy']), this[_0x5953de(0x286)] = ![]); }, this[_0x45a8ea(0xf7)] = function () { var _0x4e6a91 = _0x45a8ea; if (this['hasShadow']) { buffer[_0x4e6a91(0x27c)](); this['shape'] == _0x4e6a91(0x169) && (buffer[_0x4e6a91(0x291)](), buffer[_0x4e6a91(0x293)](0x1, 0.5), buffer['fillStyle'] = 'rgba(0,0,0,0.5)', buffer[_0x4e6a91(0x28e)]((this['x'] + this['w'] / 0x2) * self[_0x4e6a91(0x293)], this[_0x4e6a91(0x1bb)] * self[_0x4e6a91(0x293)] * 0x2, this['r'] * self[_0x4e6a91(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x4e6a91(0x273)](), buffer[_0x4e6a91(0x205)]()); if (this[_0x4e6a91(0x149)] == 'rect') { buffer[_0x4e6a91(0xe9)] = _0x4e6a91(0x1d1); if (!this[_0x4e6a91(0x249)]) buffer['fillRect'](this['x'] * self[_0x4e6a91(0x293)], this[_0x4e6a91(0x1bb)] * self[_0x4e6a91(0x293)], this['w'] * self[_0x4e6a91(0x293)], this['h'] * self['scale']); else buffer[_0x4e6a91(0x228)](this['collider']['x'] * self[_0x4e6a91(0x293)], this[_0x4e6a91(0x1bb)] * self[_0x4e6a91(0x293)], this[_0x4e6a91(0x249)]['w'] * self[_0x4e6a91(0x293)], this[_0x4e6a91(0x249)]['h'] * self[_0x4e6a91(0x293)]); } buffer[_0x4e6a91(0x27f)](); } if (this['vx'] > 0x0) this[_0x4e6a91(0x23b)] = ![]; else this['vx'] < 0x0 && (this[_0x4e6a91(0x23b)] = !![]); buffer[_0x4e6a91(0x291)](), buffer['fillStyle'] = this[_0x4e6a91(0x2a0)], buffer[_0x4e6a91(0x28e)](this['x'] * self[_0x4e6a91(0x293)], this['y'] * self[_0x4e6a91(0x293)], this['r'] * self['scale'], 0x0, Math['PI'] * 0x2), buffer[_0x4e6a91(0x273)](), buffer[_0x4e6a91(0x205)](), this[_0x4e6a91(0x1e8)] = !![]; for (b of this['bullet']) { buffer[_0x4e6a91(0xe9)] = b[_0x4e6a91(0x2a0)], b['w'] > 0x0 && b['h'] > 0x0 && (buffer[_0x4e6a91(0xe9)] = buffer[_0x4e6a91(0x228)](b['x'] * self['scale'], b['y'] * self[_0x4e6a91(0x293)], b['w'] * self[_0x4e6a91(0x293)], b['h'] * self[_0x4e6a91(0x293)])), b['w'] == 0x0 && b['h'] == 0x0 && (buffer['beginPath'](), buffer[_0x4e6a91(0x28e)](b['x'] * self[_0x4e6a91(0x293)], b['y'] * self[_0x4e6a91(0x293)], b['r'] * self['scale'], 0x0, Math['PI'] * 0x2), buffer[_0x4e6a91(0x273)](), buffer[_0x4e6a91(0x205)]()); } }, this['addBullet'] = function (_0x17a545, _0x3264c5, _0x4693dd, _0xe57645, _0x3e5089, _0x45752a, _0x431888) { var _0x169420 = _0x45a8ea; this[_0x169420(0xe6)] = { 'x': _0x17a545, 'y': _0x3264c5, 'w': _0x4693dd, 'h': _0xe57645, 'color': _0x3e5089, 'r': _0x45752a, 'direction': this['direction'](), 'fired': ![], 'speed': _0x431888 }, (this[_0x169420(0xe6)][_0x169420(0x1f9)] || this[_0x169420(0xe6)][_0x169420(0x1d9)]) && this['bullet'][_0x169420(0x251)](this[_0x169420(0xe6)]); }, this[_0x45a8ea(0x159)] = function (_0x4a9947, _0x145ad1, _0x35617f, _0x21ffdf, _0x158bbd, _0x4b18d5) { var _0x3bfb37 = _0x45a8ea; this[_0x3bfb37(0xe6)] = { 'x': _0x4a9947, 'y': _0x145ad1, 'w': _0x35617f, 'h': _0x21ffdf, 'flipX': ![], 'flipY': ![], 'direction': this[_0x3bfb37(0x1f9)](), 'fired': ![], 'speed': _0x4b18d5 }, imSet = !![], this['obj'][_0x3bfb37(0x255)] = new Image(), this[_0x3bfb37(0xe6)][_0x3bfb37(0x255)][_0x3bfb37(0x127)] = _0x158bbd, (this[_0x3bfb37(0xe6)][_0x3bfb37(0x1f9)] || this['obj'][_0x3bfb37(0x1d9)]) && this[_0x3bfb37(0x10c)][_0x3bfb37(0x251)](this[_0x3bfb37(0xe6)]); }; }, this[_0x2ab462(0x1f9)] = function () { if (this['vx'] < 0x0) return -0x1; else { if (this['vx'] > 0x0) return 0x1; else { if (this['vy'] < 0x0) return -0x2; else { if (this['vy'] > 0x0) return 0x2; } } } }, SpriteSheet = function (_0x4e1641, _0x21bbbe, _0x487894, _0x49e957, _0x5bd7f9, _0x4e08b1, _0x56d0dc, _0x48b7e6, _0x46f50d, _0x595ad1, _0x52399f) { var _0xbb0ae8 = _0x2ab462; this[_0xbb0ae8(0x191)] = _0x21bbbe, this['col'] = _0x4e1641, this['sw'] = _0x487894, this['sh'] = _0x49e957, this['x'] = _0x5bd7f9, this['y'] = _0x4e08b1, this['w'] = _0x56d0dc, this['h'] = _0x48b7e6, this['vx'] = _0x46f50d, this['vy'] = _0x595ad1, this['id'] = _0x52399f, this[_0xbb0ae8(0x1d9)], this[_0xbb0ae8(0x17e)] = ![], this[_0xbb0ae8(0x256)] = ![], this['flipY'] = ![], this[_0xbb0ae8(0x23b)] = ![], this['isRot'] = ![], this['isFalling'] = ![], this[_0xbb0ae8(0x286)] = ![], this[_0xbb0ae8(0x1d0)] = function (_0x4c7f86) { var _0x5c5f31 = _0xbb0ae8; this[_0x5c5f31(0x281)] = _0x4c7f86, this[_0x5c5f31(0x1e8)] = ![], this['hasShadow'] = ![]; }, this[_0xbb0ae8(0xe3)] = 0x1, this[_0xbb0ae8(0x13d)] = 0x0, this[_0xbb0ae8(0x21c)] = ![], this[_0xbb0ae8(0x207)] = function (_0x4ff07f) { var _0x120e55 = _0xbb0ae8; this[_0x120e55(0x149)] = _0x4ff07f, this['hasShadow'] = !![], this['r'] = 0x8, this[_0x120e55(0x296)] && (this[_0x120e55(0x1bb)] = this[_0x120e55(0x249)]['y'] + this[_0x120e55(0x249)]['h'] - 0x2), !this[_0x120e55(0x296)] && (this[_0x120e55(0x1bb)] = this[_0x120e55(0x249)]['y'] + this['collider']['h'] * 0x2); }, this[_0xbb0ae8(0x243)] = _0x1acbc7 => { var _0x195187 = _0xbb0ae8; if (camera) { if (!canDraw(this, camera)) return; } this['gv'] = _0x1acbc7, this['gv'] == undefined ? (this['setGravity'](0x32), this['vy'] += this[_0x195187(0x281)] * 0.017, this['y'] += Math['floor'](this['vy']), this[_0x195187(0x286)] = ![]) : (this[_0x195187(0x1d0)](this['gv']), this[_0x195187(0x1d0)](this['gv']), this['vy'] += this[_0x195187(0x281)] * 0.017, this['y'] += Math[_0x195187(0x27a)](this['vy']), this[_0x195187(0x286)] = ![]); }, this[_0xbb0ae8(0x25b)] = ![], this[_0xbb0ae8(0xfd)] = ![], imSet = !![], this['image'] = new Image(), this[_0xbb0ae8(0x10c)] = [], this[_0xbb0ae8(0x10c)][_0xbb0ae8(0x255)] = new Image(), this['drawSpriteSheet'] = function () { var _0x48d85b = _0xbb0ae8; if (this[_0x48d85b(0x286)]) { buffer[_0x48d85b(0x27c)](); this[_0x48d85b(0x149)] == 'circle' && (buffer[_0x48d85b(0x291)](), buffer[_0x48d85b(0x293)](0x1, 0.5), buffer[_0x48d85b(0xe9)] = _0x48d85b(0x20e), this[_0x48d85b(0x256)] ? this['collider'] ? (buffer[_0x48d85b(0x28e)]((this['x'] + this['w'] / 0x2) * self[_0x48d85b(0x293)], this[_0x48d85b(0x1bb)] * self['scale'] * 0x2, this['r'] * self[_0x48d85b(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x48d85b(0x273)]()) : (buffer['arc']((this['x'] + 0x6 + this['w'] / 0x2) * self[_0x48d85b(0x293)], this['shadowY'] * self[_0x48d85b(0x293)] * 0x2, this['r'] * self['scale'], 0x0, Math['PI'] * 0x2), buffer[_0x48d85b(0x273)]()) : (buffer[_0x48d85b(0x28e)]((this['x'] + this['w'] / 0x2) * self[_0x48d85b(0x293)], this[_0x48d85b(0x1bb)] * self[_0x48d85b(0x293)] * 0x2, this['r'] * self['scale'], 0x0, Math['PI'] * 0x2), buffer['fill'](), buffer[_0x48d85b(0x205)]())); if (this[_0x48d85b(0x149)] == _0x48d85b(0xed)) { buffer[_0x48d85b(0xe9)] = _0x48d85b(0x20e); if (!this[_0x48d85b(0x249)]) buffer[_0x48d85b(0x228)](this['x'] * self['scale'], this['shadowY'] * self[_0x48d85b(0x293)], this['w'] * self['scale'], this['h'] * self[_0x48d85b(0x293)]); else this[_0x48d85b(0x256)] ? buffer[_0x48d85b(0x228)]((this['x'] + this['w'] / 3.5) * self['scale'], (this['shadowY'] - 0x4) * self[_0x48d85b(0x293)], this['r'] * self[_0x48d85b(0x293)], this['r'] * self[_0x48d85b(0x293)]) : buffer[_0x48d85b(0x228)](this['x'] + this['w'] / 3.5 * self[_0x48d85b(0x293)], (this['shadowY'] - 0x4) * self[_0x48d85b(0x293)], this['r'] * self[_0x48d85b(0x293)], this['r'] * self['scale']); } buffer[_0x48d85b(0x27f)](); } this['vx'] > 0x0 && (this[_0x48d85b(0x23b)] = ![]); this['vx'] < 0x0 && (this[_0x48d85b(0x23b)] = !![]); this['vy'] > 0x0 && !this[_0x48d85b(0x296)] && (this['isFalling'] = !![]); !this[_0x48d85b(0x1d9)] ? this[_0x48d85b(0x1b9)] = !![] : this['isRot'] = ![]; for (var _0x58e41f = 0x0; _0x58e41f < this['bullet'][_0x48d85b(0x29d)]; _0x58e41f++) { var _0x4a822b = this['bullet'][_0x58e41f]; this[_0x48d85b(0x17c)](_0x4a822b), this[_0x48d85b(0x13e)](_0x4a822b), this['drawImageBullet'](_0x4a822b); } if (this['angle'] && this['look'] == 'up' || this[_0x48d85b(0x1d9)] && this[_0x48d85b(0x128)] == _0x48d85b(0x248)) buffer[_0x48d85b(0x27c)](), centerX = this['x'] * self['scale'], centerY = this['y'] * self[_0x48d85b(0x293)], buffer[_0x48d85b(0x25a)](centerX, centerY), buffer['rotate'](this[_0x48d85b(0x1d9)] + 0x5a * Deg2Rad), this[_0x48d85b(0x1d9)] <= 0x3 && this[_0x48d85b(0x21c)] && buffer['scale'](0x1, -0x1), this[_0x48d85b(0x1ab)] && buffer[_0x48d85b(0x293)](0x1, -0x1), this['angle'] <= -0x0 && this['reverse'] && buffer[_0x48d85b(0x293)](0x1, -0x1), buffer[_0x48d85b(0x180)](this[_0x48d85b(0x255)], this[_0x48d85b(0x158)] * this['sw'], this[_0x48d85b(0x191)] * this['sh'], this['sw'], this['sh'], -this['w'] / 0x8 * self[_0x48d85b(0x293)], -this['h'] / 0x2 * self[_0x48d85b(0x293)], this['w'] * self[_0x48d85b(0x293)], this['h'] * self['scale']), buffer['restore'](); else (this[_0x48d85b(0x1d9)] && this[_0x48d85b(0x128)] == _0x48d85b(0x23b) || this['angle'] && this['look'] == _0x48d85b(0x183)) && (buffer[_0x48d85b(0x27c)](), centerX = this['x'] * self[_0x48d85b(0x293)], centerY = this['y'] * self[_0x48d85b(0x293)], buffer[_0x48d85b(0x25a)](centerX, centerY), buffer[_0x48d85b(0x21e)](this[_0x48d85b(0x1d9)] + 0x5a * Deg2Rad), this['angle'] <= 0x3 && this[_0x48d85b(0x21c)] && buffer[_0x48d85b(0x293)](0x1, -0x1), this[_0x48d85b(0x1d9)] <= -0x0 && this[_0x48d85b(0x21c)] && buffer[_0x48d85b(0x293)](0x1, -0x1), buffer[_0x48d85b(0x180)](this['image'], this[_0x48d85b(0x158)] * this['sw'], this['row'] * this['sh'], this['sw'], this['sh'], -this['w'] / 0x8 * self[_0x48d85b(0x293)], -this['h'] / 0x2 * self[_0x48d85b(0x293)], this['w'] * self[_0x48d85b(0x293)], this['h'] * self[_0x48d85b(0x293)]), buffer['restore']()); this[_0x48d85b(0x1ab)] && (buffer[_0x48d85b(0x27c)](), buffer['scale'](0x1, -0x1), buffer['drawImage'](this['image'], this[_0x48d85b(0x158)] * this['sw'], this['row'] * this['sh'], this['sw'], this['sh'], this['x'] * self[_0x48d85b(0x293)], -this['y'] * self['scale'], this['w'] * self[_0x48d85b(0x293)], -this['h'] * self[_0x48d85b(0x293)]), buffer[_0x48d85b(0x27f)]()), this[_0x48d85b(0x256)] && (buffer[_0x48d85b(0x27c)](), buffer[_0x48d85b(0x293)](-0x1, 0x1), buffer['globalAlpha'] = this[_0x48d85b(0xe3)], buffer[_0x48d85b(0x180)](this[_0x48d85b(0x255)], this['col'] * this['sw'], this['row'] * this['sh'], this['sw'], this['sh'], -(this['x'] + this['w']) * self['scale'], this['y'] * self[_0x48d85b(0x293)], this['w'] * self[_0x48d85b(0x293)], this['h'] * self[_0x48d85b(0x293)]), buffer[_0x48d85b(0x27f)]()), !this['flipX'] && !this[_0x48d85b(0x297)] && this[_0x48d85b(0x128)] == undefined && (buffer[_0x48d85b(0x235)] = this[_0x48d85b(0xe3)], buffer[_0x48d85b(0x180)](this[_0x48d85b(0x255)], this[_0x48d85b(0x158)] * this['sw'], this[_0x48d85b(0x191)] * this['sh'], this['sw'], this['sh'], this['x'] * self['scale'], this['y'] * self['scale'], this['w'] * self['scale'], this['h'] * self['scale'])), this[_0x48d85b(0x25b)] && (buffer[_0x48d85b(0x27c)](), buffer[_0x48d85b(0xe9)] = this[_0x48d85b(0x249)][_0x48d85b(0x2a0)], buffer['fillRect'](this['collider']['x'] * self[_0x48d85b(0x293)], this[_0x48d85b(0x249)]['y'] * self[_0x48d85b(0x293)], this[_0x48d85b(0x249)]['w'] * self[_0x48d85b(0x293)], this[_0x48d85b(0x249)]['h'] * self[_0x48d85b(0x293)]), buffer[_0x48d85b(0x27f)]()), this[_0x48d85b(0x17e)] && (buffer[_0x48d85b(0x27c)](), buffer['putImageData'](this[_0x48d85b(0x2a4)], this['x'], this['y']), buffer[_0x48d85b(0x27f)]()), this['show'] && (buffer['save'](), buffer[_0x48d85b(0xe9)] = this['detector'][_0x48d85b(0x2a0)], buffer[_0x48d85b(0x228)](this['detector']['x'] * self[_0x48d85b(0x293)], this[_0x48d85b(0x1c5)]['y'] * self[_0x48d85b(0x293)], this[_0x48d85b(0x1c5)]['w'] * self[_0x48d85b(0x293)], this[_0x48d85b(0x1c5)]['h'] * self['scale']), buffer[_0x48d85b(0x27f)]()), this[_0x48d85b(0x11d)] && (buffer2[_0x48d85b(0x27c)](), this[_0x48d85b(0x1c6)](), buffer2['restore']()); }, this[_0xbb0ae8(0xee)] = function (_0x119560, _0x14ddc2, _0x1f21d0, _0x1debca, _0x1cebcb, _0xb9c490, _0x5a020b, _0x43e93a) { var _0x1bb39c = _0xbb0ae8; this[_0x1bb39c(0xe6)] = { 'x': _0x119560, 'y': _0x14ddc2, 'w': _0x1f21d0, 'h': _0x1debca, 'color': _0x1cebcb, 'r': _0xb9c490, 'angle': _0x5a020b, 'direction': this['direction'](), 'fired': ![], 'speed': _0x43e93a }, (this[_0x1bb39c(0xe6)]['direction'] != null || this[_0x1bb39c(0xe6)][_0x1bb39c(0x1d9)] != undefined) && this[_0x1bb39c(0x10c)][_0x1bb39c(0x251)](this['obj']); }, this['addBulletIm'] = function (_0x36013a, _0x478521, _0x39ce43, _0x4f61ad, _0x3c007f, _0x18a8d8, _0x721ce8) { var _0x43e122 = _0xbb0ae8; this['obj'] = { 'x': _0x36013a, 'y': _0x478521, 'w': _0x39ce43, 'h': _0x4f61ad, 'flipX': ![], 'flipY': ![], 'angle': _0x18a8d8, 'direction': this[_0x43e122(0x1f9)](), 'fired': ![], 'speed': _0x721ce8 }; var _0x1ecaad = !![]; this[_0x43e122(0xe6)]['image'] = new Image(), this[_0x43e122(0xe6)][_0x43e122(0x255)][_0x43e122(0x127)] = _0x3c007f, this['bullet'][_0x43e122(0x251)](this[_0x43e122(0xe6)]); }, this[_0xbb0ae8(0x1f9)] = function () { var _0x138c52 = _0xbb0ae8; if (this[_0x138c52(0x1d9)] != undefined) return; if (this['vx'] > 0x0) return 0x1; if (this['vx'] < 0x0) return -0x1; if (this[_0x138c52(0x281)] == 0x0 && this['vy'] > 0x0) return 0x2; if (this[_0x138c52(0x281)] == 0x0 && this['vy'] < 0x0) return -0x2; return null; }; var _0x47dd56 = 0x0; this[_0xbb0ae8(0x1fe)] = function (_0x5779b3) { _0x5779b3 += 0x8, this['drawSpriteSheetRot'](_0x5779b3); }, this[_0xbb0ae8(0x137)] = function (_0x268d3c) { var _0x219217 = _0xbb0ae8; buffer['save'](), buffer['translate'](_0x5bd7f9 * self[_0x219217(0x293)], _0x4e08b1 * self['scale']), buffer[_0x219217(0x21e)](_0x268d3c * Deg2Rad), buffer[_0x219217(0x180)](this[_0x219217(0x255)], this[_0x219217(0x158)] * this['sw'], this['row'] * this['sh'], this['sw'], this['sh'], -(this['w'] / 0x2) * self[_0x219217(0x293)], -(height / 0x2) * self['scale'], this['w'] * self[_0x219217(0x293)], this['h'] * self[_0x219217(0x293)]), buffer[_0x219217(0x27f)](); }, this[_0xbb0ae8(0x13e)] = function (_0x55d7bb) { var _0x3da227 = _0xbb0ae8; !_0x55d7bb[_0x3da227(0x255)] && !_0x55d7bb[_0x3da227(0x1d9)] && ((_0x55d7bb['w'] > 0x0 && _0x55d7bb[_0x3da227(0x1f9)] == 0x1 || _0x55d7bb[_0x3da227(0x1f9)] == -0x1 || _0x55d7bb[_0x3da227(0x1f9)] == -0x2 || _0x55d7bb['direction'] == 0x2) && (buffer['fillStyle'] = _0x55d7bb[_0x3da227(0x2a0)], buffer[_0x3da227(0x228)](_0x55d7bb['x'] * self[_0x3da227(0x293)], _0x55d7bb['y'] * self[_0x3da227(0x293)], _0x55d7bb['w'] * self['scale'], _0x55d7bb['h'] * self[_0x3da227(0x293)])), (_0x55d7bb['w'] == 0x0 && !_0x55d7bb[_0x3da227(0x1d9)] && _0x55d7bb[_0x3da227(0x1f9)] == -0x1 || _0x55d7bb[_0x3da227(0x1f9)] == 0x1 || _0x55d7bb['direction'] == -0x2 || _0x55d7bb[_0x3da227(0x1f9)] == 0x2) && (buffer[_0x3da227(0xe9)] = _0x55d7bb['color'], buffer['beginPath'](), buffer['arc'](_0x55d7bb['x'] * self['scale'], _0x55d7bb['y'] * self[_0x3da227(0x293)], _0x55d7bb['r'] * self[_0x3da227(0x293)], 0x0, Math['PI'] * 0x2), buffer['fill'](), buffer['closePath']())); }, this[_0xbb0ae8(0x17c)] = function (_0x37cbc7) { var _0x1af424 = _0xbb0ae8; if (!_0x37cbc7[_0x1af424(0x255)] && _0x37cbc7['angle']) _0x37cbc7['r'] > 0x0 && _0x37cbc7['w'] == 0x0 && _0x37cbc7['h'] == 0x0 && (buffer[_0x1af424(0xe9)] = _0x37cbc7[_0x1af424(0x2a0)], buffer['save'](), buffer['beginPath'](), buffer[_0x1af424(0x28e)]((_0x37cbc7['x'] + _0x37cbc7['r'] / 3.5) * self[_0x1af424(0x293)], (_0x37cbc7['y'] + _0x37cbc7['r'] / 3.5) * self[_0x1af424(0x293)], _0x37cbc7['r'] * self[_0x1af424(0x293)], 0x0, Math['PI'] * 0x2), buffer[_0x1af424(0x273)](), buffer['closePath'](), _0x37cbc7['x'] += Math['cos'](_0x37cbc7[_0x1af424(0x1d9)] + 0x5a * Deg2Rad) * _0x37cbc7[_0x1af424(0xf9)], _0x37cbc7['y'] += Math[_0x1af424(0x1f1)](_0x37cbc7[_0x1af424(0x1d9)] + 0x5a * Deg2Rad) * _0x37cbc7[_0x1af424(0xf9)], this[_0x1af424(0x1b9)] = !![], buffer['restore']()), _0x37cbc7['r'] == 0x0 && _0x37cbc7['angle'] && _0x37cbc7['w'] > 0x0 && (buffer[_0x1af424(0xe9)] = _0x37cbc7[_0x1af424(0x2a0)], buffer[_0x1af424(0x27c)](), buffer[_0x1af424(0x25a)]((_0x37cbc7['x'] + _0x37cbc7['w'] / 3.5) * self[_0x1af424(0x293)], (_0x37cbc7['y'] + _0x37cbc7['h'] / 3.5) * self['scale']), buffer[_0x1af424(0x21e)](_0x37cbc7[_0x1af424(0x1d9)] + 0x5a * Deg2Rad), buffer[_0x1af424(0x228)](-_0x37cbc7['w'] / 3.5 * self['scale'], -_0x37cbc7['h'] / 3.5 * self[_0x1af424(0x293)], _0x37cbc7['w'] * self[_0x1af424(0x293)], _0x37cbc7['h'] * self[_0x1af424(0x293)]), _0x37cbc7['x'] += Math[_0x1af424(0x19e)](_0x37cbc7[_0x1af424(0x1d9)] + 0x5a * Deg2Rad) * _0x37cbc7[_0x1af424(0xf9)], _0x37cbc7['y'] += Math['sin'](_0x37cbc7[_0x1af424(0x1d9)] + 0x5a * Deg2Rad) * _0x37cbc7['speed'], this[_0x1af424(0x1b9)] = !![], buffer['restore']()); else _0x37cbc7[_0x1af424(0x255)] && _0x37cbc7[_0x1af424(0x1d9)] && (buffer[_0x1af424(0x27c)](), buffer[_0x1af424(0x25a)]((_0x37cbc7['x'] + _0x37cbc7['w'] / 3.5) * self[_0x1af424(0x293)], (_0x37cbc7['y'] + _0x37cbc7['h'] / 3.5) * self[_0x1af424(0x293)]), buffer['rotate'](_0x37cbc7[_0x1af424(0x1d9)] + 0x5a * Deg2Rad), buffer[_0x1af424(0x180)](_0x37cbc7[_0x1af424(0x255)], -_0x37cbc7['w'] / 3.5 * self[_0x1af424(0x293)], -_0x37cbc7['h'] / 3.5 * self['scale'], _0x37cbc7['w'] * self['scale'], _0x37cbc7['h'] * self['scale']), buffer[_0x1af424(0x27f)](), _0x37cbc7['x'] += Math[_0x1af424(0x19e)](_0x37cbc7[_0x1af424(0x1d9)] + 0x5a * Deg2Rad) * _0x37cbc7[_0x1af424(0xf9)], _0x37cbc7['y'] += Math['sin'](_0x37cbc7[_0x1af424(0x1d9)] + 0x5a * Deg2Rad) * _0x37cbc7[_0x1af424(0xf9)], this['isRot'] = !![]); }, this['drawImageBullet'] = function (_0x26d297) { var _0x1d603e = _0xbb0ae8; _0x26d297[_0x1d603e(0x255)] && !_0x26d297[_0x1d603e(0x1d9)] && (!_0x26d297[_0x1d603e(0x256)] && !_0x26d297[_0x1d603e(0x1ab)] && !_0x26d297[_0x1d603e(0x1d9)] && buffer[_0x1d603e(0x180)](_0x26d297[_0x1d603e(0x255)], (_0x26d297['x'] - 0x5) * self[_0x1d603e(0x293)], _0x26d297['y'] * self[_0x1d603e(0x293)], _0x26d297['w'] * self[_0x1d603e(0x293)], _0x26d297['h'] * self['scale']), _0x26d297['flipX'] && !_0x26d297['angle'] && (buffer[_0x1d603e(0x27c)](), buffer[_0x1d603e(0x293)](-0x1, 0x1), buffer[_0x1d603e(0x235)] = 0x1, buffer[_0x1d603e(0x180)](_0x26d297[_0x1d603e(0x255)], -(_0x26d297['x'] - 0x5) * self['scale'], _0x26d297['y'] * self['scale'], -_0x26d297['w'] * self[_0x1d603e(0x293)], _0x26d297['h'] * self[_0x1d603e(0x293)]), buffer[_0x1d603e(0x27f)](), buffer[_0x1d603e(0x235)] = 0x0), _0x26d297[_0x1d603e(0x1ab)] && !_0x26d297[_0x1d603e(0x1d9)] && (buffer[_0x1d603e(0x27c)](), buffer[_0x1d603e(0x293)](0x1, -0x1), buffer['drawImage'](_0x26d297[_0x1d603e(0x255)], _0x26d297['x'] * self[_0x1d603e(0x293)], -_0x26d297['y'] * self[_0x1d603e(0x293)], _0x26d297['w'] * self[_0x1d603e(0x293)], -_0x26d297['h'] * self['scale']), buffer[_0x1d603e(0x27f)]())); }; }, SpriteSheet[_0x2ab462(0x28a)][_0x2ab462(0x181)] = function (_0x4f6fb2, _0x174d2d, _0x49eb1a) { var _0x24216e = _0x2ab462; return this['r'] = _0x4f6fb2, this[_0x24216e(0x1bc)] = _0x174d2d, this[_0x24216e(0x263)] = _0x49eb1a || 0x0, this[_0x24216e(0x11d)] = !![], this[_0x24216e(0x287)] = { 'x': this['x'] + this['w'] / 0x2, 'y': this['y'] + this['h'] / 0x2, 'r': this['r'] }, this[_0x24216e(0x12d)] = function () { var _0x3496d = _0x24216e; this[_0x3496d(0x287)]['x'] = this['x'] - camera['x'] + this['w'] / 0x2, this['light']['y'] = this['y'] - camera['y'] + this['h'] / 0x2; }, this[_0x24216e(0x1c6)] = function () { var _0x351ddf = _0x24216e; ctx['clearRect'](0x0, 0x0, gW, gH), buffer2[_0x351ddf(0x125)](0x0, 0x0, gW, gH), buffer2[_0x351ddf(0x27c)](), buffer2[_0x351ddf(0x18a)] = ![], buffer2[_0x351ddf(0x1b0)] = _0x351ddf(0x1db), self[_0x351ddf(0x23d)](this[_0x351ddf(0x263)]), ctx[_0x351ddf(0x18c)] = _0x351ddf(0x269), buffer2[_0x351ddf(0x291)](), buffer2[_0x351ddf(0xe9)] = 'rgba(255,255,255,' + this['opacity'] + ')', ctx['globalCompositeOperation'] = _0x351ddf(0x15a), buffer2['arc'](this['light']['x'] * self[_0x351ddf(0x293)], this[_0x351ddf(0x287)]['y'] * self[_0x351ddf(0x293)], this['light']['r'] * self[_0x351ddf(0x293)], 0x0, Math['PI'] * 0x2), buffer2[_0x351ddf(0x273)](), buffer2[_0x351ddf(0x205)](), buffer2['restore'](); }, this; }; function isOverlap(_0x4750e4, _0x2b3522) { var _0x48133e = _0x2ab462, _0x530621 = Math['abs'](_0x2b3522['x'] - (_0x4750e4['x'] + _0x4750e4['w'] / 0x2)), _0x1fde32 = Math[_0x48133e(0x20d)](_0x2b3522['y'] - (_0x4750e4['y'] + _0x4750e4['h'] / 0x2)); if (_0x530621 <= _0x2b3522['r'] + _0x2b3522['r'] + _0x4750e4['w'] / 0x2 && _0x1fde32 <= _0x2b3522['r'] + _0x2b3522['r'] + _0x4750e4['h'] / 0x2) return !![]; } function isCollide(_0x3db429, _0x47d869) { var _0x162903 = _0x2ab462; try { if (_0x3db429['x'] + _0x3db429['w'] > _0x47d869['x'] && _0x3db429['x'] < _0x47d869['x'] + _0x47d869['w'] && _0x3db429['y'] + _0x3db429['h'] > _0x47d869['y'] && _0x3db429['y'] < _0x47d869['y'] + _0x47d869['h'] || _0x3db429['x'] + _0x3db429['w'] > _0x47d869['x'] && _0x3db429['x'] < _0x47d869['x'] + _0x47d869[_0x162903(0x270)] && _0x3db429['y'] + _0x3db429['h'] > _0x47d869['y'] && _0x3db429['y'] < _0x47d869['y'] + _0x47d869[_0x162903(0x25c)]) return !![]; return ![]; } catch (_0x1a753a) { } } function isInterCirc(_0x2718d9, _0x5d54ac) { var _0x2a6cff = _0x2ab462; dx = _0x2718d9['x'] - _0x5d54ac['x'], dy = _0x2718d9['y'] - _0x5d54ac['y'], sumr = _0x2718d9['r'] + _0x5d54ac['r'], distance = Math[_0x2a6cff(0x174)](dx * dx + dy * dy); if (distance <= sumr) return !![]; } function tileMap(_0x20196b, _0x400d9e, _0x2d1e6c, _0x5d8caf, _0x5d3768, _0x23662b, _0x4ada64, _0x17e5eb, _0x2d794a) { var _0x4bb26f = _0x2ab462; return this['image'] = new Image(), this[_0x4bb26f(0x255)][_0x4bb26f(0x127)] = _0x4ada64, this[_0x4bb26f(0x241)] = _0x20196b, this[_0x4bb26f(0x2a3)] = _0x5d8caf, this[_0x4bb26f(0x1d7)] = _0x400d9e, this[_0x4bb26f(0x170)] = _0x20196b[_0x4bb26f(0x29d)], this['ts'] = _0x5d3768 * self[_0x4bb26f(0x293)], this['s'] = _0x23662b * self[_0x4bb26f(0x293)], this['w'] = _0x17e5eb, this['h'] = _0x2d794a, this[_0x4bb26f(0x255)][_0x4bb26f(0x23c)] = () => this[_0x4bb26f(0x29f)](), this[_0x4bb26f(0x29f)] = function () { var _0x3a4736 = _0x4bb26f; for (var _0x2cbbd8 = 0x0; _0x2cbbd8 < this[_0x3a4736(0x170)]; _0x2cbbd8++) { for (var _0x17d420 = 0x0; _0x17d420 < this[_0x3a4736(0x1d7)]; _0x17d420++) { var _0x3d514e = this[_0x3a4736(0x241)][_0x2cbbd8][_0x17d420], _0x2fa130 = _0x3d514e / this[_0x3a4736(0x2a3)] >> 0x0, _0x1b5505 = _0x3d514e % this[_0x3a4736(0x2a3)] >> 0x0; if (_0x1b5505 + _0x5d3768 < camera['x'] || _0x1b5505 + _0x5d3768 > camera['x'] + camera['width'] + 0x64) { } else isDrawable = !![]; isDrawable && (this['w'] == undefined && this['h'] == undefined && buffer[_0x3a4736(0x180)](this['image'], _0x1b5505 * _0x5d3768, _0x2fa130 * _0x5d3768, _0x5d3768 * self[_0x3a4736(0x293)], _0x5d3768 * self[_0x3a4736(0x293)], _0x17d420 * _0x23662b, _0x2cbbd8 * _0x23662b, _0x23662b * self[_0x3a4736(0x293)], _0x23662b * self[_0x3a4736(0x293)]), this['w'] != undefined && this['h'] != undefined && buffer[_0x3a4736(0x180)](this[_0x3a4736(0x255)], _0x1b5505 * _0x5d3768, _0x2fa130 * _0x5d3768, _0x5d3768 * self[_0x3a4736(0x293)], _0x5d3768 * self[_0x3a4736(0x293)], _0x17d420 * _0x23662b, _0x2cbbd8 * _0x23662b, this['w'] * self['scale'], this['h'] * self['scale'])); } } }, this; } function isFollow(_0x1d3277, _0x19ff6c, _0x3dbc99) { var _0x1b975f = _0x2ab462; _0x19ff6c['goLeft'] = ![], _0x19ff6c[_0x1b975f(0x160)] = ![], _0x3dbc99 = _0x3dbc99 | 0x8c; if (_0x19ff6c['collider'] && _0x1d3277[_0x1b975f(0x249)]) { var _0x1e5d0a = Math[_0x1b975f(0x20d)](_0x1d3277[_0x1b975f(0x249)]['x'] - _0x19ff6c[_0x1b975f(0x249)]['x']), _0x49cb6e = Math[_0x1b975f(0x20d)](_0x1d3277[_0x1b975f(0x249)]['y'] - _0x19ff6c['collider']['y']); if (_0x1e5d0a <= 0x14 && _0x1e5d0a >= -0x19) return; if (_0x1e5d0a <= _0x3dbc99 && _0x49cb6e <= 0x1e && _0x19ff6c[_0x1b975f(0x249)]['x'] > _0x1d3277[_0x1b975f(0x249)]['x']) return _0x19ff6c[_0x1b975f(0x16b)] = !![], _0x19ff6c[_0x1b975f(0x160)] = ![], !![]; if (_0x1e5d0a <= _0x3dbc99 && _0x49cb6e <= 0x1e && _0x19ff6c[_0x1b975f(0x249)]['x'] < _0x1d3277[_0x1b975f(0x249)]['x']) return _0x19ff6c[_0x1b975f(0x16b)] = ![], _0x19ff6c['goRight'] = !![], !![]; return ![]; } } function _0x5814(_0x5aa937, _0x47a518) { var _0x269a37 = _0x269a(); return _0x5814 = function (_0x58140b, _0x8ecdf4) { _0x58140b = _0x58140b - 0xe2; var _0x58da1f = _0x269a37[_0x58140b]; return _0x58da1f; }, _0x5814(_0x5aa937, _0x47a518); } function createGrid(_0x2d9833, _0x112d6b, _0x3ac77c, _0x346c0a) { var _0x20267a = _0x2ab462; this[_0x20267a(0x126)] = _0x2d9833, this['w'] = _0x112d6b, this['h'] = _0x3ac77c, this[_0x20267a(0x2a0)] = _0x346c0a, this[_0x20267a(0x22b)] = function () { var _0x3b6c20 = _0x20267a; buffer[_0x3b6c20(0x291)](); for (var _0x83df10 = this[_0x3b6c20(0x126)]; _0x83df10 < this['w']; _0x83df10 += this[_0x3b6c20(0x126)]) { buffer[_0x3b6c20(0x280)](_0x83df10 * self['scale'], 0x0), buffer[_0x3b6c20(0x166)](_0x83df10 * self[_0x3b6c20(0x293)], this['h'] * self[_0x3b6c20(0x293)]), buffer[_0x3b6c20(0x19d)] = this['color'], buffer[_0x3b6c20(0x112)](), buffer[_0x3b6c20(0x205)](); } for (var _0x2f3b79 = this[_0x3b6c20(0x126)]; _0x2f3b79 < this['h']; _0x2f3b79 += this[_0x3b6c20(0x126)]) { buffer[_0x3b6c20(0x291)](), buffer[_0x3b6c20(0x280)](0x0, _0x2f3b79 * self[_0x3b6c20(0x293)]), buffer[_0x3b6c20(0x166)](this['w'] * self[_0x3b6c20(0x293)], _0x2f3b79 * self[_0x3b6c20(0x293)]), buffer['strokeStyle'] = this[_0x3b6c20(0x2a0)], buffer[_0x3b6c20(0x112)](), buffer[_0x3b6c20(0x205)](); } }; } function createGrid(_0x1005f8, _0x576657, _0x455e7e, _0x6fc772) { var _0x55d43d = _0x2ab462; this['gap'] = _0x1005f8, this['w'] = _0x576657, this['h'] = _0x455e7e, this['color'] = _0x6fc772, this[_0x55d43d(0x22b)] = function () { var _0x36a4a0 = _0x55d43d; buffer[_0x36a4a0(0x291)](); for (var _0x2ea960 = this[_0x36a4a0(0x126)]; _0x2ea960 < this['w']; _0x2ea960 += this['gap']) { buffer[_0x36a4a0(0x280)](_0x2ea960 * self[_0x36a4a0(0x293)], 0x0), buffer['lineTo'](_0x2ea960 * self[_0x36a4a0(0x293)], this['h'] * self[_0x36a4a0(0x293)]), buffer['strokeStyle'] = this[_0x36a4a0(0x2a0)], buffer[_0x36a4a0(0x112)](), buffer['closePath'](); } for (var _0x68a243 = this[_0x36a4a0(0x126)]; _0x68a243 < this['h']; _0x68a243 += this[_0x36a4a0(0x126)]) { buffer[_0x36a4a0(0x291)](), buffer[_0x36a4a0(0x280)](0x0, _0x68a243 * self[_0x36a4a0(0x293)]), buffer['lineTo'](this['w'] * self[_0x36a4a0(0x293)], _0x68a243 * self[_0x36a4a0(0x293)]), buffer[_0x36a4a0(0x19d)] = this[_0x36a4a0(0x2a0)], buffer['stroke'](), buffer[_0x36a4a0(0x205)](); } }; } function addNumber(_0x3e8455, _0x371632, _0x485bf0, _0x1c6cec) { var _0x51c1a0 = _0x2ab462; this[_0x51c1a0(0x158)] = _0x3e8455, this[_0x51c1a0(0x191)] = _0x371632, this[_0x51c1a0(0x292)] = _0x485bf0, this[_0x51c1a0(0x2a0)] = _0x1c6cec; let _0x47dbcf = 0x6; return this[_0x51c1a0(0x298)] = spaceX = _0x485bf0 / 0x2 - _0x47dbcf, this['spaceY'] = spaceY = _0x485bf0 / 0x2, this[_0x51c1a0(0xfd)] = () => { var _0x1e823d = _0x51c1a0; for (var _0x1bf43e = 0x0; _0x1bf43e <= this['row']; _0x1bf43e++) { for (var _0x56e8f8 = 0x0; _0x56e8f8 <= this[_0x1e823d(0x158)]; _0x56e8f8++) { var _0x16b3c3 = _0x56e8f8 + _0x1bf43e * this[_0x1e823d(0x158)]; buffer[_0x1e823d(0x260)] = _0x1e823d(0x1e4), buffer['fillStyle'] = this[_0x1e823d(0x2a0)], buffer[_0x1e823d(0x1f8)](_0x16b3c3, _0x56e8f8 * this['tSize'] * self['scale'] + this[_0x1e823d(0x298)] * self[_0x1e823d(0x293)], _0x1bf43e * this[_0x1e823d(0x292)] * self[_0x1e823d(0x293)] + this[_0x1e823d(0x1ad)] * self[_0x1e823d(0x293)]); } } }, this; } var row, column; let loader = ![], that; var data; let isLoading = ![]; var isLayer = ![], isObject = ![]; function MapFromCollection(_0xe43130, _0x37d8b7) { var _0x437a74 = _0x2ab462; that = this, that[_0x437a74(0x229)] = _0xe43130, that[_0x437a74(0x127)] = _0x37d8b7, that[_0x437a74(0x288)] = function () { var _0x1cd897 = _0x437a74, _0x5c044e = new XMLHttpRequest(); _0x5c044e['open'](_0x1cd897(0x17f), that['path']), _0x5c044e[_0x1cd897(0x1ac)] = _0x1cd897(0xe5), _0x5c044e[_0x1cd897(0x150)](), _0x5c044e[_0x1cd897(0x234)] = function () { var _0x27dd65 = _0x1cd897; if (_0x5c044e[_0x27dd65(0x1c8)] == 0x4) return isLoading = !![], data = _0x5c044e[_0x27dd65(0x1aa)], data; }; }; } MapFromCollection['prototype']['renderLayer'] = function (_0x313943) { var _0x543ce4 = _0x2ab462; const _0x164993 = data['tilesets']; if (_0x313943[_0x543ce4(0xf6)] === 'tilelayer' && _0x313943[_0x543ce4(0xf6)] != 'objectgroup') { const _0x3cf0cd = _0x313943[_0x543ce4(0x1a7)]; _0x3cf0cd[_0x543ce4(0x193)](_0x4a454b => { var _0x4c84bc = _0x543ce4; const _0x3305f7 = _0x4a454b[_0x4c84bc(0x1da)], _0xd22076 = _0x164993[0x0]['tilewidth'], _0x1a6db7 = _0x164993[0x0][_0x4c84bc(0x21f)], _0x58032f = _0x164993[0x0]['tiles']; _0x3305f7['forEach']((_0x4e15aa, _0x27333a) => { var _0x2a8f1b = _0x4c84bc; if (_0x4e15aa != null) { const _0x2eff39 = new Image(); try { layerImsrc = _0x164993[0x0][_0x2a8f1b(0x199)][_0x4e15aa][_0x2a8f1b(0x255)], _0x2eff39[_0x2a8f1b(0x127)] = layerImsrc; } catch (_0xaa96) { } const _0x1259d2 = _0x4a454b['x'] + _0x27333a % _0x4a454b['width'] * _0xd22076, _0xb6f623 = _0x4a454b['y'] + Math[_0x2a8f1b(0x27a)](_0x27333a / _0x4a454b[_0x2a8f1b(0x270)]) * _0x1a6db7; buffer[_0x2a8f1b(0x180)](_0x2eff39, _0x1259d2, _0xb6f623, _0xd22076, _0x1a6db7); } }); }); } }, MapFromCollection[_0x2ab462(0x28a)]['renderObjectLayer'] = function (_0x35c3e2) { var _0xc76990 = _0x2ab462; const _0x4a0e9a = data[_0xc76990(0x208)]; if (_0x35c3e2[_0xc76990(0xf6)] === _0xc76990(0x231)) { const _0x13cbd0 = _0x35c3e2[_0xc76990(0x1b8)]; _0x13cbd0['forEach'](_0x3f0c56 => { var _0x215c3e = _0xc76990; let _0x34d331 = /..\/+/; const _0x17ce9c = new Image(); _0x17ce9c[_0x215c3e(0x127)] = _0x4a0e9a[0x0][_0x215c3e(0x199)][_0x3f0c56[_0x215c3e(0x14a)] - 0x1][_0x215c3e(0x255)]['replace'](_0x34d331, that[_0x215c3e(0x127)] + '/'), buffer[_0x215c3e(0x180)](_0x17ce9c, _0x3f0c56['x'], _0x3f0c56['y'], _0x3f0c56[_0x215c3e(0x270)], _0x3f0c56[_0x215c3e(0x25c)]); }); } }; let isErrorDisplay = ![]; function tiledMap(_0x3dd462, _0x4515de, _0x210381) { var _0x18ab45 = _0x2ab462; return that = this, that[_0x18ab45(0x229)] = _0x3dd462, that[_0x18ab45(0x255)] = new Image(), that[_0x18ab45(0x10d)] = _0x4515de, that[_0x18ab45(0x19b)] = _0x210381, that[_0x18ab45(0x288)] = function () { var _0x455ddf = _0x18ab45; xhr = new XMLHttpRequest(), xhr[_0x455ddf(0x23c)] = function () { var _0x3b6aa9 = _0x455ddf; if (this[_0x3b6aa9(0x1c8)] == 0x4) { try { data = JSON[_0x3b6aa9(0x2a6)](xhr['response']); for (let _0x4981f0 in data) { _0x4981f0 ? loader = !![] : log(_0x3b6aa9(0x16e)); } } catch (_0x3b0fd3) { } that['loadTileset'](data); } }, xhr[_0x455ddf(0x19a)](_0x455ddf(0x17f), that[_0x455ddf(0x229)]), xhr[_0x455ddf(0x150)](!![]); }, that['loadTileset'] = function (_0x484664) { var _0x313193 = _0x18ab45; let _0x2a6455 = /..\/+/; try { for (tile of _0x484664[_0x313193(0x208)]) { tile[_0x313193(0x255)][_0x313193(0x1d2)](_0x2a6455) ? that['image']['src'] = tile['image'][_0x313193(0x1a9)](_0x2a6455, './' + that[_0x313193(0x10d)] + '/') : that[_0x313193(0x255)][_0x313193(0x127)] = tile[_0x313193(0x255)]; } } catch (_0x3eef62) { } }, that; } function _0x269a() { var _0x17d86a = ['rgba(0,0,0,', 'parse2D', 'rgba(0,\x200,\x200,\x20', 'lineTo', 'isClosest', 'rgba(205,80,255,0.8)', 'circle', 'auto', 'goLeft', 'splice', 'imagewidth', 'no\x20data', 'stage', 'rowTCount', 'onerror', 'addEventListener', 'start', 'sqrt', 'checkCollision', '.ogg', 'Error\x20loading\x20', 'create', 'oldX', 'reset', 'now', 'drawAngularBullet', 'includes', 'fadeOut', 'get', 'drawImage', 'useLight', 'setTransform', 'right', '.wav', '8Fhjejm', 'poly', 'columns', 'radius', 'lineWidth', 'imageSmoothingEnabled', 'openList', 'globalCompositeOperation', 'find', 'endsWith', 'setAnimation', 'reload', 'row', 'connect', 'forEach', 'volume', 'stage2', 'lineCap', 'none', 'display', 'tiles', 'open', 'size', 'setSize', 'strokeStyle', 'cos', 'body', 'setBgRepeat', 'degree', 'endNode', 'findPath', 'toFixed', 'toString', 'onElevator', 'chunks', 'Uside', 'replace', 'response', 'flipY', 'responseType', 'spaceY', 'waterfall', 'some', 'imageSmoothingQuality', 'createElement', '15%', 'spriteAnimator', 'setAutoScale', 'oldDir', 'strokeRect', '437723xxKuYg', 'objects', 'isRot', 'CanvasGameJs\x20is\x20running\x20!!', 'shadowY', 'opacity', 'italic', 'animation', 'objectAnimation', 'min', 'imageLoader', 'createGain', 'intensity', 'randomY', 'detector', 'render', 'stage3', 'readyState', 'div', 'container', 'transparent', 'getEntityCount', '8Asnwnr', 'area', '4154436ODpmgk', 'setGravity', 'rgba(0,0,0,0.5)', 'match', '13LPQfea', 'use', 'hidden', 'no-repat', 'colTCount', 'gridSize', 'angle', 'data', 'low', 'squashId', 'friction', 'paragraph', 'renderLayer', 'visibility', 'poison', 'drawLine', 'isLimitReach', '10px\x20arial\x20bold', 'effect', 'run', 'Lside', 'isDrawn', 'innerWidth', '2.5px', 'message', 'createParticle', 'getPoolSize', 'justifyContent', 'gold', 'overlap', 'sin', 'updatedValue', 'nom', '2px\x20solid\x20', 'useImage', 'SpriteRot', 'cellSize', 'fillText', 'direction', 'drawSprite', 'hypot', 'position', '.jpg', 'SpriteSheetRot', '.jpeg', 'pop', 'butt', '\x20Animation\x20Layer\x27s\x20name\x20is\x20not\x20defined\x20or\x20gidValue\x20is\x20incorrect\x20in\x20tileAnimation\x20\x0a\x0a\x20please\x20read\x20the\x20documentation\x20so\x20that\x20you\x20may\x20use\x20tileAnimation\x20correctly\x20!!', 'backgroundSize', 'getDistance', 'closePath', '.mp3', 'createShadow', 'tilesets', 'isWalkable', 'tiledversion', 'fontfamily', 'pool', 'abs', 'rgba(0,0,0,0.3)', 'blood', 'setDiagonal', 'lost', 'fontstyle', 'space', 'aut', '35%', 'rgba(250,\x20250,\x20250,\x200.07)', 'flip', 'knockBack', 'borderRadius', 'boolean', 'avoidSameOverlapping', 'reverse', '386649qjnpIJ', 'rotate', 'tileheight', 'drawGame', 'value', 'lineItersect', 'relative', 'Error\x20stopping\x20audio:', 'fire', 'overLay', 'polygon', 'fillRect', 'path', 'currentNode', 'drawGrid', 'currentTime', 'updator', 'fontweight', 'assetLoader', 'zoom', 'objectgroup', 'setIterations', 'startIndex', 'onreadystatechange', 'globalAlpha', 'stage4', 'destroy', 'drawSpriteImgRot', 'normalized', 'aim', 'left', 'onload', 'useDarkness', 'background', 'zIndex', 'fullScreen', 'lev', 'scaleX(-1)', 'setBody', 'getGridPosition', 'startNode', 'getObjectLayer', '40%', 'down', 'collider', 'getContext', 'margin', 'fontsize', 'worldThroughCamera', 'headColor', 'closedList', 'freezeVal', 'push', 'error', 'img', 'pageLoad', 'image', 'flipX', 'dir', 'dust', 'grow', 'translate', 'isVisible', 'height', 'center', 'shadowBlur', 'stop', 'font', 'anim', 'cameraShake', 'darkness', 'isFalling', 'speedX', 'sides', 'url(', 'visible', 'lighter', 'absolute', 'flashId', 'diagonalMovement', 'cover', 'health', 'createOscillator', 'width', '#720', 'canvas', 'fill', 'generateFood', 'calc(120vh\x20*\x20', 'setVolume', 'renderObjects', 'rainbow', ').png', 'floor', 'backgroundRepeat', 'save', 'squash', 'imageheight', 'restore', 'moveTo', 'gravity', 'warn', 'randomX', 'segments', 'flash', 'hasShadow', 'light', 'load', 'loop', 'prototype', 'draw', 'fill\x20must\x20be\x20a\x20boolean\x20', 'name', 'arc', 'nbFrame', 'isFrozen', 'beginPath', 'tSize', 'scale', 'silver', 'line', 'onFloor', 'rotation', 'spaceX', 'rgb(255,\x20255,\x20255)', 'layers', 'currentAngle', 'setGrid', 'length', 'lineJoin', 'drawLayer', 'color', 'beep', 'speedModifier', 'total', 'pixel', 'loadImage', 'parse', '437994JXXddG', 'red', 'preventOverlapping', 'cameraLimit', 'strong', 'rgba(25,250,255,0.5)', 'transform', 'lightgray', 'audios', 'juice', 'querySelector', 'isVertiBorder', 'alpha', 'images', 'json', 'obj', 'removeCollider', 'parenth', 'fillStyle', 'add', 'shadowColor', 'getAngle', 'rect', 'addBullet', '2500px', 'sheet', 'parent', 'startY', 'appendChild', 'autoplay', 'flex', 'type', 'drawCirc', 'round', 'speed', 'innerText', 'atan2', 'before', 'show', 'devicePixelRatio', 'val', 'monospace', '.m4a', 'audio', 'Only\x20a\x20boolean\x20is\x20required\x20in\x20collider\x20method\x20!', '12nCnTXX', 'index', 'removeChild', 'patrolLimit', 'freeze', 'random', 'speedY', 'acceptableTiles', 'bullet', 'imageSrc', 'startX', 'setAstar', 'rotate(', 'remain', 'stroke', '2251VXdBYL', '1387638uVcTcc', 'ceil', 'isSet', 'single', 'tilewidth', 'substr', 'jCol', 'DOMContentLoaded', 'grid', 'enable', '5eGriPP', 'userSelect', 'isJumping', 'updateLine', 'imageRendering', 'currentIndex', 'self', 'clearRect', 'gap', 'src', 'look', 'miter', 'Dside', 'Rside', 'tilelayer', 'update', 'bCol', '.png', 'setAcceptableTiles', 'canFire', 'eatSelf', 'style', 'alignItems', 'timer', 'properties', 'drawSpriteSheetRot', 'drawSpriteImg', 'destination', 'rgba(255,0,0,0.5)', 'setCollider', 'black', 'jumpTime', 'drawPixelBullet', 'fps', 'pause', 'innerHeight', 'play', 'unshift', 'hasOwnProperty', 'calc(110vh\x20/', 'pixelated', 'failed', 'border', 'shape', 'gid', 'text', 'drawSpriteSheet', 'resize', '484041YnvUVp', 'rgba(255,000,000,1)', 'send', 'green', 'array', '10VhMlYq', 'sine', 'borderColor', 'removeBody', 'drawSpriteRot', 'col', 'addBulletIm', 'overlay', 'top', '133vw', 'function', 'setValueAtTime', 'white', 'goRight', 'rows', '170vw']; _0x269a = function () { return _0x17d86a; }; return _0x269a(); } let animL = []; var animLayer = ![]; tiledMap['prototype'][_0x2ab462(0x1df)] = function (_0xd12fba) { var _0x1ecd21 = _0x2ab462; let _0x3f68a8 = that[_0x1ecd21(0x19b)]; const _0x34f6cf = _0xd12fba['width'], _0x176701 = _0xd12fba[_0x1ecd21(0x25c)], _0x381acb = tile[_0x1ecd21(0x16d)] / _0x3f68a8; let _0x2b4bca, _0x1956a1, _0x587206, _0x50a7d7, _0x1180da, _0xa478fb; for (let _0x14b8ff = 0x0; _0x14b8ff < _0x176701; _0x14b8ff++) { for (let _0x24260b = 0x0; _0x24260b < _0x34f6cf; _0x24260b++) { const _0x13b11c = _0x24260b + _0x14b8ff * _0x34f6cf; _0x2b4bca = _0xd12fba['data'][_0x13b11c] - 0x1; if (_0x2b4bca == -0x1) continue; _0x1956a1 = _0x2b4bca % _0x381acb * _0x3f68a8, _0x587206 = Math[_0x1ecd21(0x27a)](_0x2b4bca / _0x381acb) * _0x3f68a8, _0x50a7d7 = _0x13b11c % _0x34f6cf * _0x3f68a8, _0x1180da = Math['floor'](_0x13b11c / _0x34f6cf) * _0x3f68a8, _0xa478fb = _0x50a7d7 + _0x3f68a8 >= camera['x'] && _0x50a7d7 <= camera['x'] + camera[_0x1ecd21(0x270)] + 0x64 && (_0x1180da + _0x3f68a8 >= camera['y'] && _0x1180da <= camera['y'] + camera['height'] + 0x64), _0xa478fb && buffer[_0x1ecd21(0x180)](that['image'], _0x1956a1, _0x587206, _0x3f68a8, _0x3f68a8, _0x50a7d7 * self['scale'], _0x1180da * self['scale'], _0x3f68a8 * self[_0x1ecd21(0x293)], _0x3f68a8 * self['scale']); } } var _0x40687c = ![]; self[_0x1ecd21(0x1bf)] = tileAnimation = function (_0x3b0fca, _0x1c8489) { var _0x34362d = _0x1ecd21; that[_0x34362d(0xff)] = _0x3b0fca, this['nom'] = _0x1c8489; for (_0xd12fba of data['layers']) { if (_0xd12fba[_0x34362d(0xf6)] == _0x34362d(0x231) && this[_0x34362d(0x1f3)] == _0xd12fba[_0x34362d(0x28d)]) { if (tile[_0x34362d(0x199)]) { var _0x365818 = tile[_0x34362d(0x21f)], _0x324883 = tile[_0x34362d(0x118)]; isObject = !![]; if (data[_0x34362d(0x20a)] >= '1.11.0') { for (let _0x5469a7 in tile[_0x34362d(0x199)]) { anim = tile['tiles'][_0x5469a7]['animation']; var _0x46ca16 = anim[_0x34362d(0x29d)]; frameIndex = objframe % _0x46ca16; var _0xaad888; _0xaad888 = anim[frameIndex]['tileid']; for (var _0x169bbf of _0xd12fba['objects']) { _0x169bbf[_0x34362d(0x144)](_0x34362d(0x14a)) && _0x169bbf[_0x34362d(0x14a)] == that[_0x34362d(0xff)] && this[_0x34362d(0x1f3)] == _0xd12fba['name'] && _0x169bbf[_0x34362d(0x28d)] != _0x34362d(0x16a) || !effect['hasOwnProperty'](_0x34362d(0x136)) ? _0x40687c = !![] : (_0x40687c = ![], !isErrorDisplay && (log('\x20Animation\x20Layer\x27s\x20name\x20is\x20not\x20defined\x20or\x20gidValue\x20is\x20incorrect\x20in\x20tileAnimation\x20\x0a\x0a\x20please\x20read\x20the\x20documentation\x20so\x20that\x20you\x20may\x20use\x20tileAnimation\x20correctly\x20!!'), isErrorDisplay = !![])), column = Math[_0x34362d(0x27a)](_0xaad888 % tile[_0x34362d(0x187)]), objrow = Math[_0x34362d(0x27a)](_0xaad888 / tile[_0x34362d(0x187)]), _0x169bbf['x'] + _0x365818 < camera['x'] || _0x169bbf['x'] + _0x365818 / 0x2 > camera['x'] + camera[_0x34362d(0x270)] ? _0xa478fb = ![] : _0xa478fb = !![], !_0xa478fb && (_0x40687c = ![]), _0x40687c && (buffer['save'](), buffer['globalAlpha'] = _0x169bbf[_0x34362d(0xe3)] || 0x1, buffer[_0x34362d(0x180)](that[_0x34362d(0x255)], _0x365818 * column, _0x324883 * objrow, _0x365818, _0x324883, _0x169bbf['x'] * self[_0x34362d(0x293)], (_0x169bbf['y'] - _0x324883) * self[_0x34362d(0x293)], _0x169bbf[_0x34362d(0x270)] * self[_0x34362d(0x293)], _0x169bbf[_0x34362d(0x25c)] * self[_0x34362d(0x293)]), buffer['restore']()); } } } else for (let _0x4e1b0c = 0x0; _0x4e1b0c < tile['tiles'][_0x34362d(0x29d)]; _0x4e1b0c++) { let _0x455540 = tile[_0x34362d(0x199)][_0x4e1b0c]; anim = _0x455540[_0x34362d(0x1be)]; var _0x46ca16 = anim['length']; frameIndex = objframe % _0x46ca16; var _0xaad888; _0xaad888 = anim[frameIndex]['tileid']; for (var _0x169bbf of _0xd12fba['objects']) { _0x169bbf[_0x34362d(0x144)](_0x34362d(0x14a)) && _0x169bbf['gid'] == that['val'] && this[_0x34362d(0x1f3)] == _0xd12fba['name'] && _0x169bbf[_0x34362d(0x28d)] != _0x34362d(0x16a) || !obl[_0x34362d(0x144)](_0x34362d(0x136)) ? _0x40687c = !![] : (_0x40687c = ![], !isErrorDisplay && (log(_0x34362d(0x202)), isErrorDisplay = !![])), column = Math[_0x34362d(0x27a)](_0xaad888 % tile['columns']), objrow = Math['floor'](_0xaad888 / tile[_0x34362d(0x187)]), _0x169bbf['x'] + _0x365818 < camera['x'] || _0x169bbf['x'] + _0x365818 / 0x2 > camera['x'] + camera[_0x34362d(0x270)] ? _0xa478fb = ![] : _0xa478fb = !![], !_0xa478fb && (_0x40687c = ![]), _0x40687c && (buffer['save'](), buffer['globalAlpha'] = _0x169bbf[_0x34362d(0xe3)] || 0x1, buffer[_0x34362d(0x180)](that[_0x34362d(0x255)], _0x365818 * column, _0x324883 * objrow, _0x365818, _0x324883, _0x169bbf['x'] * self[_0x34362d(0x293)], (_0x169bbf['y'] - _0x324883) * self['scale'], _0x169bbf[_0x34362d(0x270)] * self[_0x34362d(0x293)], _0x169bbf['height'] * self[_0x34362d(0x293)]), buffer[_0x34362d(0x27f)]()); } } } } } }; }, tiledMap[_0x2ab462(0x28a)]['RenderObjectLayer'] = function (_0x161908) { var _0x13c6ea = _0x2ab462; for (var _0x2d2a89 of data[_0x13c6ea(0x29a)]) { if (_0x2d2a89[_0x13c6ea(0xf6)] === _0x13c6ea(0x12c)) continue; this[_0x13c6ea(0x14a)] = _0x161908, gid = this[_0x13c6ea(0x14a)], tile['rows'] = tile[_0x13c6ea(0x27e)] / tile[_0x13c6ea(0x21f)], _0x2d2a89[_0x13c6ea(0x1b8)]['forEach'](function (_0x47ef79) { var _0x308e6b = _0x13c6ea; if (_0x47ef79[_0x308e6b(0x14a)] != null && this[_0x308e6b(0x14a)] == _0x47ef79[_0x308e6b(0x14a)]) { _0x47ef79[_0x308e6b(0xe3)] = 0x1; var _0x1c6551 = tile[_0x308e6b(0x16d)] / tile[_0x308e6b(0x187)], _0x4ac3ae = tile[_0x308e6b(0x27e)] / tile[_0x308e6b(0x161)]; let _0x57d65f = Math['floor']((_0x47ef79['gid'] - 0x1) % tile[_0x308e6b(0x187)]), _0x433f5e = Math[_0x308e6b(0x27a)](_0x47ef79[_0x308e6b(0x14a)] / tile[_0x308e6b(0x187)]); _0x47ef79['x'] + _0x1c6551 < camera['x'] || (_0x47ef79['x'] + _0x1c6551) * self[_0x308e6b(0x293)] > (camera['x'] + camera['width']) * self[_0x308e6b(0x293)] ? iDrawable = ![] : isDrawable = !![], _0x47ef79[_0x308e6b(0x144)](_0x308e6b(0x14a)) && _0x47ef79[_0x308e6b(0x14a)] != that[_0x308e6b(0xff)] && isDrawable && (buffer[_0x308e6b(0x27c)](), buffer['globalAlpha'] = _0x47ef79[_0x308e6b(0xe3)] || 0x1, buffer[_0x308e6b(0x180)](that[_0x308e6b(0x255)], _0x1c6551 * _0x57d65f, _0x4ac3ae * _0x433f5e, _0x1c6551, _0x4ac3ae, _0x47ef79['x'] * self[_0x308e6b(0x293)], (_0x47ef79['y'] - _0x47ef79['height']) * self[_0x308e6b(0x293)], _0x47ef79[_0x308e6b(0x270)] * self['scale'], _0x47ef79[_0x308e6b(0x25c)] * self['scale']), buffer[_0x308e6b(0x27f)]()); } if (_0x47ef79[_0x308e6b(0x144)]('gid') && _0x47ef79[_0x308e6b(0x28d)] == _0x308e6b(0x16a)) { gid = _0x47ef79[_0x308e6b(0x14a)]; var _0x1c6551 = tile[_0x308e6b(0x16d)] / tile['columns'], _0x4ac3ae = tile[_0x308e6b(0x27e)] / tile['rows']; let _0x4a8609 = Math[_0x308e6b(0x27a)]((gid - 0x1) % tile[_0x308e6b(0x187)]), _0x422c9d = Math[_0x308e6b(0x27a)](gid / tile[_0x308e6b(0x187)]); _0x47ef79['x'] + _0x1c6551 < camera['x'] || (_0x47ef79['x'] + _0x1c6551) * self[_0x308e6b(0x293)] > (camera['x'] + camera[_0x308e6b(0x270)]) * self[_0x308e6b(0x293)] ? iDrawable = ![] : isDrawable = !![], _0x47ef79['hasOwnProperty'](_0x308e6b(0x14a)) && _0x47ef79[_0x308e6b(0x14a)] != that[_0x308e6b(0xff)] && isDrawable && (buffer[_0x308e6b(0x27c)](), buffer[_0x308e6b(0x235)] = _0x47ef79[_0x308e6b(0xe3)] || 0x1, buffer[_0x308e6b(0x180)](that[_0x308e6b(0x255)], _0x1c6551 * _0x4a8609, _0x4ac3ae * _0x422c9d, _0x1c6551, _0x4ac3ae, _0x47ef79['x'] * self[_0x308e6b(0x293)], (_0x47ef79['y'] - _0x47ef79[_0x308e6b(0x25c)]) * self['scale'], _0x47ef79['width'] * self[_0x308e6b(0x293)], _0x47ef79[_0x308e6b(0x25c)] * self['scale']), buffer[_0x308e6b(0x27f)]()); } else { if (_0x2d2a89[_0x308e6b(0x136)] != undefined) for (let _0x2c5d9d = 0x0; _0x2c5d9d < _0x2d2a89[_0x308e6b(0x136)][_0x308e6b(0x29d)]; _0x2c5d9d++) { let _0x1b8d6c = _0x2d2a89['properties'][_0x2c5d9d]; if (_0x1b8d6c[_0x308e6b(0x221)] == _0x308e6b(0x214)) { gid = _0x47ef79['gid']; var _0x1c6551 = tile[_0x308e6b(0x16d)] / tile[_0x308e6b(0x187)], _0x4ac3ae = tile[_0x308e6b(0x27e)] / tile['rows']; _0x47ef79[_0x308e6b(0xe3)] = 0x1, column = Math[_0x308e6b(0x27a)]((gid - 0x1) % tile[_0x308e6b(0x187)]), obj2row = Math['floor'](gid / tile[_0x308e6b(0x187)]), buffer[_0x308e6b(0x27c)](), buffer[_0x308e6b(0x235)] = _0x47ef79[_0x308e6b(0xe3)], buffer[_0x308e6b(0x180)](that[_0x308e6b(0x255)], _0x1c6551 * column, _0x4ac3ae * obj2row, _0x1c6551, _0x4ac3ae, _0x47ef79['x'] * self[_0x308e6b(0x293)], (_0x47ef79['y'] - _0x47ef79[_0x308e6b(0x25c)]) * self[_0x308e6b(0x293)], _0x47ef79[_0x308e6b(0x270)] * self[_0x308e6b(0x293)], _0x47ef79[_0x308e6b(0x25c)] * self[_0x308e6b(0x293)]), buffer['restore'](); } } } }); } }; function canDraw(_0x5e1e4c, _0x52b2b1) { var _0x36c32e = _0x2ab462; return _0x5e1e4c[_0x36c32e(0x14a)] ? _0x5e1e4c['x'] + _0x5e1e4c[_0x36c32e(0x270)] < _0x52b2b1['x'] || _0x5e1e4c['x'] + _0x5e1e4c[_0x36c32e(0x270)] > _0x52b2b1['x'] + _0x52b2b1[_0x36c32e(0x270)] ? ![] : !![] : _0x5e1e4c['x'] + _0x5e1e4c['w'] < _0x52b2b1['x'] || _0x5e1e4c['x'] + _0x5e1e4c['w'] >= _0x52b2b1['x'] + _0x52b2b1[_0x36c32e(0x270)] + 0x28 || _0x5e1e4c['y'] + _0x5e1e4c['h'] < _0x52b2b1['y'] || _0x5e1e4c['y'] + _0x5e1e4c['h'] >= _0x52b2b1['y'] + _0x52b2b1['height'] + 0x28 || _0x5e1e4c['x'] + _0x5e1e4c['r'] < _0x52b2b1['x'] || _0x5e1e4c['x'] + _0x5e1e4c['r'] >= _0x52b2b1['x'] + _0x52b2b1['width'] + 0x28 ? ![] : !![]; } function tiledCollider(_0x534824, _0x50be1d) { var _0x22ae79 = _0x2ab462, _0x240368 = Math['abs'](_0x534824['y'] - _0x534824['h'] - _0x50be1d['y'] + _0x50be1d[_0x22ae79(0x25c)]); if (!_0x50be1d[_0x22ae79(0x14a)] && _0x534824['x'] + _0x534824['w'] >= _0x50be1d['x'] && _0x534824['x'] <= _0x50be1d['x'] + _0x50be1d[_0x22ae79(0x270)] && _0x534824['y'] + _0x534824['h'] >= _0x50be1d['y'] && _0x534824['y'] <= _0x50be1d['y'] + _0x50be1d[_0x22ae79(0x25c)] || _0x534824['x'] + _0x534824['w'] >= _0x50be1d['x'] && _0x534824['x'] <= _0x50be1d['x'] + _0x50be1d['w'] && _0x534824['y'] + _0x534824['h'] >= _0x50be1d['y'] && _0x534824['y'] <= _0x50be1d['y'] + _0x50be1d['h']) return !![]; else { if (_0x50be1d[_0x22ae79(0x14a)] && _0x534824['x'] + _0x534824['w'] >= _0x50be1d['x'] && _0x534824['x'] <= _0x50be1d['x'] + _0x50be1d[_0x22ae79(0x270)] && _0x534824['y'] + _0x534824['h'] >= _0x50be1d['y'] - _0x50be1d['height'] && _0x534824['y'] <= _0x50be1d['y'] - _0x50be1d[_0x22ae79(0x25c)] + _0x50be1d[_0x22ae79(0x25c)]) return !![]; } } var isX = ![]; function VrpgCollider(_0x222022, _0x431c21) { var _0x21a647 = _0x2ab462; _0x222022[_0x21a647(0x1b8)][_0x21a647(0x193)](function (_0x2a2669) { var _0x2c740b = _0x21a647; const _0x42681c = _0x431c21[_0x2c740b(0x249)]; if (!_0x431c21['collider']) _0x431c21['x'] + _0x431c21['w'] >= _0x2a2669['x'] && _0x431c21['x'] <= _0x2a2669['x'] + _0x2a2669[_0x2c740b(0x270)] && _0x431c21['y'] + _0x431c21['h'] >= _0x2a2669['y'] && _0x431c21['y'] <= _0x2a2669['y'] + _0x2a2669[_0x2c740b(0x25c)] && (_0x431c21['y'] = _0x431c21['oldY']); else { if (isCollide(_0x42681c, _0x2a2669)) { if (_0x431c21['vy'] < 0x0 && _0x42681c['y'] > _0x2a2669['y']) { _0x431c21['vy'] = 0x0; if (_0x431c21['vy'] == 0x0) { if (_0x431c21[_0x2c740b(0x149)] == _0x2c740b(0x169)) this[_0x2c740b(0x1bb)] = this['shadowY'] - 0x1b; if (_0x431c21[_0x2c740b(0x149)] == _0x2c740b(0xed)) this['shadowY'] = this[_0x2c740b(0x1bb)] - 0x21; } const _0x9feadc = _0x42681c['y'] - _0x431c21['y']; _0x431c21['y'] = _0x2a2669['y'] + _0x2a2669[_0x2c740b(0x25c)] - _0x9feadc + 0.01, _0x42681c['y'] = _0x2a2669['y'] + _0x2a2669[_0x2c740b(0x25c)] - _0x9feadc + 0.01; return; } if (_0x431c21['vy'] > 0x0 && _0x2a2669['y'] + _0x2a2669['height'] >= _0x42681c['y']) { _0x431c21['vy'] = 0x0, _0x431c21['jumpTime'] = 0x0; const _0x26930c = _0x42681c['y'] - _0x431c21['y'] + _0x42681c['h']; _0x431c21['y'] = _0x2a2669['y'] - _0x26930c - 0.01; return; } } } }); return; } function HrpgCollider(_0x5eef3f, _0x4fe214) { var _0x89651e = _0x2ab462; _0x4fe214['vx'] != 0x0 ? isX = !![] : isX = ![]; isX && !_0x4fe214[_0x89651e(0x120)] && (_0x4fe214['vy'] = 0x0); if (!_0x4fe214['vy'] == 0x0) return; _0x5eef3f[_0x89651e(0x1b8)][_0x89651e(0x193)](function (_0x453752) { var _0x53e8bd = _0x89651e; const _0xaf473 = _0x4fe214[_0x53e8bd(0x249)]; if (!_0x4fe214['collider']) _0x4fe214['x'] + _0x4fe214['w'] >= _0x453752['x'] && _0x4fe214['x'] <= _0x453752['x'] + _0x453752[_0x53e8bd(0x270)] && _0x4fe214['y'] + _0x4fe214['h'] >= _0x453752['y'] && _0x4fe214['y'] <= _0x453752['y'] + _0x453752[_0x53e8bd(0x25c)] && (_0x4fe214['x'] = _0x4fe214[_0x53e8bd(0x179)], _0x4fe214['y'] = _0x4fe214['oldY']); else { if (isCollide(_0xaf473, _0x453752)) { if (_0x4fe214['vx'] > 0x0) { _0x4fe214[_0x53e8bd(0x296)] = !![], _0x4fe214['vy'] = 0x0; const _0x48ad23 = _0xaf473['x'] - _0x4fe214['x'] + _0xaf473['w']; return _0x4fe214['x'] = _0x453752['x'] - _0x48ad23 - 0.01, !![]; } else { if (_0x4fe214['vx'] < 0x0) { _0x4fe214['onFloor'] = !![], _0x4fe214['vy'] = 0x0; const _0x57afb1 = _0xaf473['x'] - _0x4fe214['x']; return _0x4fe214['x'] = _0x453752['x'] + _0x453752[_0x53e8bd(0x270)] - _0x57afb1 + 0.01, !![]; } } } } }); } function avoidWalls(_0x52b816, _0xe8927c, _0xce6d78) { var _0x2af2d1 = _0x2ab462; for (let _0xbd78c of _0x52b816) { var _0x14e208 = _0xe8927c['x'] - _0xbd78c['x'], _0x22d6b8 = _0xe8927c['y'] - _0xbd78c['y']; let _0x352b0a = Math[_0x2af2d1(0x1fb)](_0x14e208, _0x22d6b8); if (_0x352b0a < _0xce6d78) { let _0xfb1b37 = Math[_0x2af2d1(0xfb)](_0xbd78c['y'] - _0xe8927c['y'], _0xbd78c['x'] - _0xe8927c['x']); _0xe8927c['vx'] -= Math[_0x2af2d1(0x19e)](_0xfb1b37), _0xe8927c['vy'] -= Math[_0x2af2d1(0x1f1)](_0xfb1b37); } } } function avoidWalls(_0x38ecf1, _0x236701, _0x52f860) { var _0xe8c412 = _0x2ab462; for (let _0xff4fbf of _0x38ecf1) { var _0x1a0a9e = _0x236701['x'] - _0xff4fbf['x'], _0x240d3e = _0x236701['y'] - _0xff4fbf['y']; let _0x49d75e = Math[_0xe8c412(0x1fb)](_0x1a0a9e, _0x240d3e); if (_0x49d75e < _0x52f860) { let _0x157058 = Math[_0xe8c412(0xfb)](_0xff4fbf['y'] - _0x236701['y'], _0xff4fbf['x'] - _0x236701['x']); _0x236701['vx'] -= Math[_0xe8c412(0x19e)](_0x157058), _0x236701['vy'] -= Math[_0xe8c412(0x1f1)](_0x157058); } } } function RpgFollow(_0x4746c4, _0x3853b2, _0xdfd8f, _0x5d4a48) { var _0x2fd9ff = _0x2ab462; this[_0x2fd9ff(0x126)] = _0xdfd8f, this['a'] = _0x4746c4, this['b'] = _0x3853b2; var _0x171313 = Math[_0x2fd9ff(0xfb)](this['a']['y'] - this['b']['y'], this['a']['x'] - this['b']['x']), _0x120c4a = this['a']['x'] - this['b']['x'], _0x17a19a = this['a']['y'] - this['b']['y'], _0x3ed136 = Math[_0x2fd9ff(0x1fb)](_0x17a19a, _0x120c4a); if (Math['abs'](_0x3ed136) <= 0x12) return; if (_0x3ed136 <= this[_0x2fd9ff(0x126)]) { this['b']['vx'] = Math['cos'](_0x171313), this['b']['vy'] = Math[_0x2fd9ff(0x1f1)](_0x171313), this['b']['x'] += this['b']['vx'], this['b']['y'] += this['b']['vy']; let _0x9a819 = Math[_0x2fd9ff(0x20d)](this['a']['x'] - this['b']['x']), _0x3c1109 = this['a']['y'] - this['b']['y']; if (_0x4746c4['x'] < _0x3853b2['x'] && _0x9a819 >= 0x5) return this['b'][_0x2fd9ff(0x12b)] = ![], this['b'][_0x2fd9ff(0x1a8)] = ![], this['b']['Dside'] = ![], avoidWalls(_0x5d4a48, _0x3853b2, 0x12c), this['b']['Lside'] = !![]; else { if (_0x4746c4['x'] > _0x3853b2['x'] && _0x9a819 >= 0x5) return this['b'][_0x2fd9ff(0x1e7)] = ![], this['b']['Uside'] = ![], this['b'][_0x2fd9ff(0x12a)] = ![], avoidWalls(_0x5d4a48, _0x3853b2, 0x12c), this['b']['Rside'] = !![]; else { if (_0x4746c4['y'] < _0x3853b2['y']) return this['b'][_0x2fd9ff(0x12b)] = ![], this['b']['Dside'] = ![], this['b']['Lside'] = ![], avoidWalls(_0x5d4a48, _0x3853b2, 0x12c), this['b'][_0x2fd9ff(0x1a8)] = !![]; else return _0x4746c4['y'] > _0x3853b2['y'] ? (this['b'][_0x2fd9ff(0x12b)] = ![], this['b'][_0x2fd9ff(0x1a8)] = ![], this['b']['Lside'] = ![], avoidWalls(_0x5d4a48, _0x3853b2, 0x12c), this['b'][_0x2fd9ff(0x12a)] = !![]) : (this['b']['vx'] = 0x0, this['b']['vy'] = 0x0, ![]); } } } } function sideCollision(_0x3f31d1, _0x42b04e) { var _0x3918e3 = _0x2ab462; const _0x29cbae = self[_0x3918e3(0x246)](_0x42b04e); for (let _0x253b28 of _0x29cbae) { if (isCollide(_0x3f31d1, _0x253b28)) { const _0x56ce2f = _0x3f31d1['x'] + _0x3f31d1['w'] / 0x2 - (_0x253b28['x'] + _0x253b28['width'] / 0x2), _0x4f3b4b = _0x3f31d1['y'] + _0x3f31d1['h'] / 0x2 - (_0x253b28['y'] + _0x253b28[_0x3918e3(0x25c)] / 0x2), _0x545ff8 = (_0x3f31d1['w'] + _0x253b28[_0x3918e3(0x270)]) / 0x2, _0x1328bd = (_0x3f31d1['h'] + _0x253b28[_0x3918e3(0x25c)]) / 0x2, _0x508c51 = _0x545ff8 * _0x4f3b4b, _0x44f9a2 = _0x1328bd * _0x56ce2f; Math['abs'](_0x56ce2f) <= _0x545ff8 && Math[_0x3918e3(0x20d)](_0x4f3b4b) <= _0x1328bd && (_0x508c51 > _0x44f9a2 ? _0x508c51 > -_0x44f9a2 ? _0x3f31d1['y'] = _0x253b28['y'] + _0x253b28[_0x3918e3(0x25c)] : _0x3f31d1['x'] = _0x253b28['x'] - _0x3f31d1['w'] : _0x508c51 > -_0x44f9a2 ? _0x3f31d1['x'] = _0x253b28['x'] + _0x253b28['width'] : (_0x3f31d1['y'] = _0x253b28['y'] - _0x3f31d1['h'], _0x3f31d1['hasOwnProperty']('gravity') && (_0x3f31d1[_0x3918e3(0x13d)] = 0x0, _0x3f31d1[_0x3918e3(0x296)] = !![]))), _0x3f31d1['vx'] = 0x0, _0x3f31d1['vy'] = 0x0; } } } function SpawnEntities(_0x715681, _0x4a4f48, _0x589741, _0x2a9a6d, _0x159ab5, _0x1ba378, _0x59d130, _0x3de680, _0x515f1d, _0x5b41fa) { var _0x1b1451 = _0x2ab462; this[_0x1b1451(0x28d)] = _0x715681, this['type'] = _0x59d130, this[_0x1b1451(0x152)] = _0x3de680, this['id'] = _0x4a4f48, this[_0x1b1451(0x158)] = _0x589741, this['sw'] = _0x159ab5, this['sh'] = _0x1ba378, this[_0x1b1451(0x191)] = _0x2a9a6d, this[_0x1b1451(0x19b)] = _0x515f1d, this[_0x1b1451(0x26e)] = _0x5b41fa, this['asyncOperation'] = async function () { var _0x205820 = _0x1b1451; if (!loader) return; try { if (this[_0x205820(0xf6)] == 'sheet') { this[_0x205820(0x1ca)] = self[_0x205820(0x246)](this[_0x205820(0x28d)]); for (let _0x591dbc of this[_0x205820(0x1ca)]) { _0x591dbc[_0x205820(0x28d)] == this['id'] && this['array']['push'](new SpriteSheet(this[_0x205820(0x158)], this[_0x205820(0x191)], this['sw'], this['sh'], _0x591dbc['x'], _0x591dbc['y'], this[_0x205820(0x19b)], this[_0x205820(0x19b)], 0x0, 0x0, this['id'])); } for (let _0x389d1f of this[_0x205820(0x152)]) { _0x389d1f[_0x205820(0x26e)] = this[_0x205820(0x26e)]; } } else { this[_0x205820(0x1ca)] = self[_0x205820(0x246)](this[_0x205820(0x28d)]); for (let _0x580e1c of this[_0x205820(0x1ca)]) { _0x580e1c[_0x205820(0x28d)] == this['id'] && this[_0x205820(0x152)]['push'](new Sprite(_0x580e1c['x'], _0x580e1c['y'], this[_0x205820(0x19b)], this[_0x205820(0x19b)], 0x0, 0x0, this['id'])); } for (let _0x2a05cc of this['array']) { _0x2a05cc['health'] = this[_0x205820(0x26e)]; } } return this[_0x205820(0x1ca)]; } catch (_0x4b09c4) { log(_0x205820(0x147) + _0x4b09c4); } }; } function gameRadar(_0x26016b, _0x2d80e4) { var _0x494470 = _0x2ab462; this['x'] = _0x26016b, this['y'] = _0x2d80e4; var _0x4f4d43 = new Image(); _0x4f4d43[_0x494470(0x127)] = this['x']['toDataURL'](), this['y'][_0x494470(0x133)][_0x494470(0x23e)] = _0x494470(0x267) + _0x4f4d43[_0x494470(0x127)] + ')', this['y'][_0x494470(0x133)][_0x494470(0x27b)] = _0x494470(0x1d6), this['y']['style'][_0x494470(0x203)] = _0x494470(0x26d); } var gameFrame = 0x0, gameSpeed = 0x5; class layerB { constructor(_0x4d3f19, _0x674610, _0x162f63, _0xae1a6c, _0x472aec, _0x140999) { var _0x3310ce = _0x2ab462; this['x'] = _0x674610, this['y'] = _0x162f63, this[_0x3310ce(0x255)] = _0x4d3f19, this['w'] = _0xae1a6c, this['h'] = _0x472aec, this[_0x3310ce(0x2a2)] = _0x140999, this[_0x3310ce(0xf9)] = gameSpeed * this['speedModifier']; } [_0x2ab462(0x12d)]() { var _0x46611d = _0x2ab462; this[_0x46611d(0xf9)] = gameSpeed * this[_0x46611d(0x2a2)], this['x'] = gameFrame * this[_0x46611d(0xf9)] % this['w'], isFake = !![]; } [_0x2ab462(0x28b)]() { var _0x599d36 = _0x2ab462; isFake = !![], buffer[_0x599d36(0x27c)](); gameFrame == 0x0 && buffer[_0x599d36(0x180)](this[_0x599d36(0x255)], this['x'] * self[_0x599d36(0x293)], this['y'] * self[_0x599d36(0x293)], this['w'] * self[_0x599d36(0x293)], this['h'] * self[_0x599d36(0x293)]); if (gameFrame < 0x0) buffer['drawImage'](this[_0x599d36(0x255)], this['x'] * self[_0x599d36(0x293)], this['y'] * self['scale'], this['w'] * self[_0x599d36(0x293)], this['h'] * self[_0x599d36(0x293)]), buffer[_0x599d36(0x180)](this[_0x599d36(0x255)], this['x'] * self[_0x599d36(0x293)] + this['w'] * self[_0x599d36(0x293)], this['y'] * self[_0x599d36(0x293)], this['w'] * self[_0x599d36(0x293)], this['h'] * self[_0x599d36(0x293)]); else gameFrame > 0x0 && (buffer[_0x599d36(0x180)](this[_0x599d36(0x255)], this['x'] * self[_0x599d36(0x293)], this['y'] * self[_0x599d36(0x293)], this['w'] * self['scale'], this['h'] * self[_0x599d36(0x293)]), buffer[_0x599d36(0x180)](this[_0x599d36(0x255)], this['x'] * self['scale'] - this['w'] * self['scale'], this['y'] * self['scale'], this['w'] * self[_0x599d36(0x293)], this['h'] * self['scale'])); buffer[_0x599d36(0x27f)](); } } var isJumping = ![]; function LeftCollider(_0x27a554, _0x594dd9, _0x5bdf3a, _0x2ad6d5) { var _0x1d9747 = _0x2ab462; for (var _0x4be5cc = 0x0; _0x4be5cc < _0x27a554[_0x1d9747(0x29d)]; _0x4be5cc++) { for (var _0x506c2f = 0x0; _0x506c2f < _0x27a554[0x0][_0x1d9747(0x29d)]; _0x506c2f++) { if (_0x27a554[_0x4be5cc][_0x506c2f] == _0x2ad6d5) { var _0x1bdd83 = _0x506c2f * _0x5bdf3a, _0x395737 = _0x4be5cc * _0x5bdf3a; block = new Sprite(_0x1bdd83, _0x395737, _0x5bdf3a, _0x5bdf3a, 0x0, 0x0, _0x1d9747(0x2a8)); if (_0x594dd9[_0x1d9747(0x249)]) { const _0x49a57a = _0x594dd9[_0x1d9747(0x249)]; if (_0x594dd9['vx'] > 0x0 && _0x49a57a['x'] + _0x49a57a['w'] >= block['x'] && _0x49a57a['x'] <= block['x'] + block['w'] && _0x49a57a['y'] + _0x49a57a['h'] >= block['y'] && _0x49a57a['y'] <= block['y'] + block['h'] && _0x49a57a['y'] > block['y']) { const _0x20e2d0 = _0x49a57a['x'] - _0x594dd9['x'] + _0x49a57a['w']; _0x594dd9['x'] = block['x'] - _0x20e2d0 - 0.01; break; } } else _0x594dd9['vx'] > 0x0 && _0x594dd9['x'] + _0x594dd9['w'] >= block['x'] && _0x594dd9['x'] <= block['x'] + block['w'] && _0x594dd9['y'] + _0x594dd9['h'] >= block['y'] && _0x594dd9['y'] <= block['y'] + block['h'] && (_0x594dd9['x'] = block['x'] - _0x594dd9['w'] - 0x1); } } } } function RightCollider(_0x41afa7, _0x5df07a, _0x4c59c2, _0x3ce045) { var _0x6f5c2e = _0x2ab462; for (var _0x31e9ec = 0x0; _0x31e9ec < _0x41afa7['length']; _0x31e9ec++) { for (var _0x18f509 = 0x0; _0x18f509 < _0x41afa7[0x0][_0x6f5c2e(0x29d)]; _0x18f509++) { if (_0x41afa7[_0x31e9ec][_0x18f509] == _0x3ce045) { var _0x52041b = _0x18f509 * _0x4c59c2, _0x5121d5 = _0x31e9ec * _0x4c59c2; block = new Sprite(_0x52041b, _0x5121d5, _0x4c59c2, _0x4c59c2, 0x0, 0x0, _0x6f5c2e(0x2a8)); if (_0x5df07a['collider']) { const _0x804968 = _0x5df07a[_0x6f5c2e(0x249)]; if (_0x5df07a['vx'] < 0x0 && _0x804968['x'] + _0x804968['w'] >= block['x'] && _0x804968['x'] <= block['x'] + block['w'] && _0x804968['y'] + _0x804968['h'] >= block['y'] && _0x804968['y'] <= block['y'] + block['h'] && _0x804968['y'] > block['y']) { const _0x3fe9d0 = _0x804968['y'] - _0x5df07a['y']; _0x5df07a['x'] = _0x5df07a[_0x6f5c2e(0x179)] + 0.01; break; } } else { if (_0x5df07a['vx'] < 0x0 && _0x5df07a['x'] + _0x5df07a['w'] >= block['x'] && _0x5df07a['x'] <= block['x'] + block['w'] && _0x5df07a['y'] + _0x5df07a['h'] >= block['y'] && _0x5df07a['y'] <= block['y'] + block['h']) { _0x5df07a['x'] = block['x'] + block['w'] + 0x1; break; } } } } } } function TopCollider(_0x26ce19, _0x5d9597, _0x1d680b, _0x1750e4) { var _0x1d8ba0 = _0x2ab462; for (var _0x511dd0 = 0x0; _0x511dd0 < _0x26ce19[_0x1d8ba0(0x29d)]; _0x511dd0++) { for (var _0x39d11b = 0x0; _0x39d11b < _0x26ce19[0x0][_0x1d8ba0(0x29d)]; _0x39d11b++) { var _0x4db7d8 = _0x39d11b * _0x1d680b, _0x300c8f = _0x511dd0 * _0x1d680b, _0x280a7f = []; if (_0x26ce19[_0x511dd0][_0x39d11b] == _0x1750e4) { _0x280a7f[_0x1d8ba0(0x251)](new Sprite(_0x4db7d8, _0x300c8f, _0x1d680b, _0x1d680b, 0x0, 0x0, 'red')); for (var _0x4a991b = 0x0; _0x4a991b < _0x280a7f[_0x1d8ba0(0x29d)]; _0x4a991b++)var _0x177132 = _0x280a7f[_0x4a991b]; if (_0x5d9597[_0x1d8ba0(0x249)]) { const _0x55ac69 = _0x5d9597[_0x1d8ba0(0x249)]; if (isCollide(_0x55ac69, _0x177132)) { if (_0x5d9597['vy'] > 0x0 && _0x177132['y'] + _0x177132['h'] >= _0x55ac69['y'] && _0x177132['y'] >= _0x55ac69['y'] + _0x55ac69['h'] / 0x2) { const _0x4d4fee = _0x55ac69['y'] - _0x5d9597['y'] + _0x55ac69['h']; return _0x5d9597['vy'] = 0x0, _0x5d9597[_0x1d8ba0(0x296)] = !![], _0x5d9597['isFalling'] = ![], _0x5d9597['isJumping'] = ![], _0x5d9597[_0x1d8ba0(0x13d)] = 0x0, _0x5d9597['y'] = ~~(_0x177132['y'] - _0x4d4fee - 0.01); } } } else { if (isCollide(body, _0x177132)) { if (_0x5d9597['vy'] > 0x0 && _0x177132['y'] + _0x177132['h'] > body['y'] && _0x177132['y'] > body['y'] + body['h'] / 0x2) { _0x5d9597['vy'] = 0x0; if (_0x5d9597['vy'] == 0x0) { if (_0x5d9597[_0x1d8ba0(0x149)] == _0x1d8ba0(0x169)) this[_0x1d8ba0(0x1bb)] = this['shadowY'] - 0x1b; if (_0x5d9597[_0x1d8ba0(0x149)] == 'rect') this['shadowY'] = this[_0x1d8ba0(0x1bb)] - 0x21; } _0x5d9597['y'] = _0x177132['y'] - _0x5d9597['h'] - 0.01, _0x5d9597['jumpTime'] = 0x0, _0x5d9597['onFloor'] = !![]; break; } } } } } } } function BottomCollider(_0x314adb, _0x1e7019, _0x10665b, _0x4a819c) { var _0x28d0b1 = _0x2ab462; for (var _0x3030d6 = 0x0; _0x3030d6 < _0x314adb[_0x28d0b1(0x29d)]; _0x3030d6++) { for (var _0x36147d = 0x0; _0x36147d < _0x314adb[0x0]['length']; _0x36147d++) { var _0xf486a; if (_0x314adb[_0x3030d6][_0x36147d] == _0x4a819c) { tx = _0x36147d * _0x10665b, ty = _0x3030d6 * _0x10665b, _0xf486a = { 'x': tx, 'y': ty, 'w': _0x10665b, 'h': _0x10665b }; if (_0x1e7019[_0x28d0b1(0x249)]) { const _0x4e91bd = _0x1e7019[_0x28d0b1(0x249)]; if (_0x1e7019[_0x28d0b1(0x120)] || isJumping && _0x1e7019['vy'] < 0x0 && _0x4e91bd['x'] - _0x1e7019['vx'] + _0x4e91bd['w'] > _0xf486a['x'] - _0x1e7019['vx'] && _0x4e91bd['y'] + _0x4e91bd['h'] >= _0xf486a['y'] && _0x4e91bd['x'] - _0x1e7019['vx'] <= _0xf486a['x'] + _0xf486a['w'] - _0x1e7019['vx'] && _0x4e91bd['y'] <= _0xf486a['y'] + _0xf486a['h']) { const _0x465b99 = _0x4e91bd['y'] - _0x1e7019['y']; _0x1e7019['y'] = _0xf486a['y'] + _0xf486a['h'] - 0x5 - _0x465b99 + 0x9, _0x1e7019[_0x28d0b1(0x120)] = ![], isJumping = ![], _0x1e7019['vy'] = 0x0; break; } } else { if (_0x1e7019[_0x28d0b1(0x120)] || isJumping && _0x1e7019['x'] + _0x1e7019['w'] > _0xf486a['x'] && _0x1e7019['y'] + _0x1e7019['h'] >= _0xf486a['y'] && _0x1e7019['x'] <= _0xf486a['x'] + _0xf486a['w'] && _0x1e7019['y'] <= _0xf486a['y'] + _0xf486a['h']) { _0x1e7019['y'] = _0xf486a['y'] + _0xf486a['h'] + 0.01, _0x1e7019['vy'] = 0x0, isJumping = ![]; break; } } } } } } function TopTiledCollider(_0x57b100, _0x52b8cb) { var _0x5dd018 = _0x2ab462; _0x57b100[_0x5dd018(0x1b8)][_0x5dd018(0x193)](function (_0x2cf353) { var _0x38b1d6 = _0x5dd018; const _0x27ff15 = _0x52b8cb[_0x38b1d6(0x249)]; if (!canDraw(_0x2cf353, camera)) return; let _0x4fa6e3 = _0x2cf353['y'] - _0x27ff15['y'], _0x5438d9 = Math[_0x38b1d6(0x20d)](data['tileheight'] - _0x27ff15['h']); _0x52b8cb['vy'] > 0x0 && (_0x52b8cb[_0x38b1d6(0x264)] = !![]); if (isCollide(_0x27ff15, _0x2cf353) && _0x52b8cb['vy'] > 0x0 && _0x4fa6e3 > _0x5438d9) { _0x52b8cb['vy'] = 0x0, _0x52b8cb[_0x38b1d6(0x296)] = !![]; const _0x3e9b26 = _0x27ff15['y'] - _0x52b8cb['y'] + _0x27ff15['h']; _0x52b8cb['y'] = _0x2cf353['y'] - _0x3e9b26 - 0.01, JumpTime = 0x0, _0x52b8cb[_0x38b1d6(0x296)] = !![]; return; } }); } function BottomTiledCollider(_0x571606, _0x293b1e) { var _0x47a24f = _0x2ab462; _0x571606[_0x47a24f(0x1b8)][_0x47a24f(0x193)](function (_0xce267) { var _0x1cedc6 = _0x47a24f; const _0x1bee22 = _0x293b1e[_0x1cedc6(0x249)]; if (canDraw(_0xce267, camera)) { if (_0x293b1e[_0x1cedc6(0x120)] && _0x293b1e['vy'] < 0x0 && _0x1bee22['x'] - _0x293b1e['vx'] + _0x1bee22['w'] > _0xce267['x'] - _0x293b1e['vx'] && _0x1bee22['y'] + _0x1bee22['h'] >= _0xce267['y'] && _0x1bee22['x'] - _0x293b1e['vx'] <= _0xce267['x'] + _0xce267[_0x1cedc6(0x270)] - _0x293b1e['vx'] && _0x1bee22['y'] <= _0xce267['y'] + _0xce267[_0x1cedc6(0x25c)] && _0x1bee22['y'] + _0x1bee22['h'] > _0xce267['y'] + _0xce267[_0x1cedc6(0x25c)]) { _0x293b1e['vy'] = 0x0; const _0x4bb9d7 = _0x1bee22['y'] - _0x293b1e['y']; _0x293b1e['y'] = _0xce267['y'] + _0xce267[_0x1cedc6(0x25c)] - 0x7 - _0x4bb9d7 + 0x9, _0x293b1e[_0x1cedc6(0x296)] = ![], _0x293b1e[_0x1cedc6(0x120)] = ![]; return; } } }); } function LeftTiledCollider(_0x231366, _0x2487b6) { var _0x359a35 = _0x2ab462; _0x231366[_0x359a35(0x1b8)][_0x359a35(0x193)](function (_0x2ca787) { var _0x7c6200 = _0x359a35; if (!canDraw(_0x2ca787, camera)) return; const _0x47dc2e = _0x2487b6[_0x7c6200(0x249)]; let _0x4d0000 = _0x2ca787['y'] - _0x47dc2e['y'], _0x1add37 = Math[_0x7c6200(0x20d)](_0x2ca787[_0x7c6200(0x25c)] - _0x47dc2e['h']) >> 0x0; if (isCollide(_0x47dc2e, _0x2ca787) && _0x2487b6['vx'] > 0x0 && _0x4d0000 <= _0x1add37) { const _0x35aa32 = _0x47dc2e['x'] - _0x2487b6['x'] + _0x47dc2e['w']; _0x2487b6['x'] = _0x2ca787['x'] - _0x35aa32 - 0.01; return; } }); } function RightTiledCollider(_0x4bfb27, _0x1c0675) { var _0x44256b = _0x2ab462; _0x4bfb27[_0x44256b(0x1b8)]['forEach'](function (_0x279308) { var _0x345fad = _0x44256b; if (!canDraw(_0x279308, camera)) return; const _0x21f645 = _0x1c0675[_0x345fad(0x249)]; let _0x5eefa0 = _0x279308['y'] - _0x21f645['y'], _0x39bfb3 = Math[_0x345fad(0x20d)](data[_0x345fad(0x21f)] - _0x21f645['h']) >> 0x0; if (isCollide(_0x21f645, _0x279308) && _0x1c0675['vx'] < 0x0 && _0x5eefa0 <= _0x39bfb3) { const _0x4d8801 = _0x21f645['x'] - _0x1c0675['x']; _0x1c0675['x'] = _0x279308['x'] + _0x279308[_0x345fad(0x270)] - _0x4d8801 + 0.01; return; } }); } function Platformer(_0x12d894, _0x1fca06) { var _0x40bc10 = _0x2ab462; if (!canDraw(_0x12d894, camera)) return; for (let _0x4dc7c7 of data['layers']) { if (_0x4dc7c7['name'] != _0x1fca06) continue; for (let _0x2c4182 of _0x4dc7c7['objects']) { if (!canDraw(_0x2c4182, camera)) return ![]; const _0xe1cb16 = _0x12d894['collider']; if (!isCollide(_0xe1cb16, _0x2c4182) && Math['floor'](_0x12d894['vy']) > 0x0) _0x12d894['onFloor'] = ![]; if (isCollide(_0xe1cb16, _0x2c4182)) { if (_0x12d894['vy'] > 0x0 && _0x2c4182['y'] + _0x2c4182[_0x40bc10(0x25c)] > _0xe1cb16['y'] && _0x2c4182['y'] > _0xe1cb16['y']) { const _0xd48b3c = _0xe1cb16['y'] - _0x12d894['y'] + _0xe1cb16['h']; _0x12d894['vy'] = 0x0, _0x12d894[_0x40bc10(0x281)] = 0x0, _0x12d894[_0x40bc10(0x296)] = !![], _0x12d894[_0x40bc10(0x264)] = ![], _0x12d894[_0x40bc10(0x120)] = ![], _0x12d894[_0x40bc10(0x13d)] = 0x0, _0x12d894['y'] = _0x2c4182['y'] - _0xd48b3c - 0.01, _0x12d894[_0x40bc10(0x249)]['y'] = _0x12d894['y']; return; } } if (isCollide(_0xe1cb16, _0x2c4182)) { if (canDraw(_0x2c4182, camera)) { if (_0x12d894[_0x40bc10(0x120)] && _0x12d894['vy'] < 0x0 && _0xe1cb16['x'] - _0x12d894['vx'] + _0xe1cb16['w'] > _0x2c4182['x'] - _0x12d894['vx'] && _0xe1cb16['y'] + _0xe1cb16['h'] >= _0x2c4182['y'] && _0xe1cb16['x'] - _0x12d894['vx'] <= _0x2c4182['x'] + _0x2c4182['width'] - _0x12d894['vx'] && _0xe1cb16['y'] <= _0x2c4182['y'] + _0x2c4182['height'] && _0xe1cb16['y'] + _0xe1cb16['h'] > _0x2c4182['y'] + _0x2c4182[_0x40bc10(0x25c)] && _0xe1cb16['y'] > _0x2c4182['y']) { const _0x1b09a6 = _0xe1cb16['y'] - _0x12d894['y']; _0x12d894['y'] = _0x2c4182['y'] + _0x2c4182[_0x40bc10(0x25c)] - 0x7 - _0x1b09a6 + 0x7, _0x12d894[_0x40bc10(0x249)]['y'] = _0x2c4182['y'] + _0x2c4182['height'] - _0x1b09a6 + 0x9, _0x12d894[_0x40bc10(0x296)] = ![], _0x12d894[_0x40bc10(0x120)] = ![], _0x12d894['vy'] = 0x0; return; } if (isCollide(_0xe1cb16, _0x2c4182)) { if (_0x12d894['vx'] > 0.5) { const _0x20b315 = _0xe1cb16['x'] - _0x12d894['x'] + _0xe1cb16['w']; _0x12d894['x'] = _0x2c4182['x'] - _0x20b315 - 0.01; return; } } if (isCollide(_0xe1cb16, _0x2c4182)) { if (_0x12d894['vx'] < 0.5) { const _0x198e1d = _0xe1cb16['x'] - _0x12d894['x']; _0x12d894['x'] = _0x2c4182['x'] + _0x2c4182[_0x40bc10(0x270)] - _0x198e1d + 0.01; return; } } } } } } } class HealthBar { constructor({ x: _0x6f4325, y: _0x426733 }, _0x1bfec5, _0xd8aca3, _0x70c37e, _0x506d9e) { var _0x43803 = _0x2ab462; this['height'] = _0x1bfec5, this[_0x43803(0x12e)] = _0xd8aca3, this[_0x43803(0x11a)] = _0x70c37e, this[_0x43803(0x1fc)] = { 'x': _0x6f4325, 'y': _0x426733 }, this[_0x43803(0xe6)] = _0x506d9e, this['flip'] = ![], this[_0x43803(0x268)] = ![], this[_0x43803(0x188)] = _0x43803(0x1ea), this[_0x43803(0x116)] = ![], this['scale'] = 1.5; screen[_0x43803(0x270)] >= 0x3e8 && (this[_0x43803(0x293)] = 0x5); if (this['border']) return; this[_0x43803(0x148)] = document[_0x43803(0x1b1)](_0x43803(0x1c9)), this[_0x43803(0x148)][_0x43803(0x133)][_0x43803(0x148)] = _0x43803(0x1f4) + this[_0x43803(0x12e)], this[_0x43803(0x148)][_0x43803(0x133)]['position'] = 'absolute', this[_0x43803(0x148)][_0x43803(0x133)]['zIndex'] = 0x3, this[_0x43803(0x148)][_0x43803(0x133)][_0x43803(0x270)] = this[_0x43803(0xe6)][_0x43803(0x26e)] * this[_0x43803(0x293)] + 'px', this[_0x43803(0x148)][_0x43803(0x133)][_0x43803(0x25c)] = this[_0x43803(0x25c)] + 'px', this[_0x43803(0x148)][_0x43803(0x133)][_0x43803(0x23b)] = this[_0x43803(0x1fc)]['x'] + 'px', this['border'][_0x43803(0x133)]['top'] = this[_0x43803(0x1fc)]['y'] + 'px', this[_0x43803(0x148)][_0x43803(0x133)]['borderRadius'] = this[_0x43803(0x188)], this[_0x43803(0x2b0)] = document[_0x43803(0x1b1)]('div'), this[_0x43803(0x148)][_0x43803(0xf3)](this['juice']), this['jH'] = this[_0x43803(0x25c)] - 2.5, this['juice']['style']['position'] = _0x43803(0x26a), this[_0x43803(0x2b0)][_0x43803(0x133)][_0x43803(0x23f)] = 0x1869f, this['juice'][_0x43803(0x133)]['width'] = this[_0x43803(0xe6)][_0x43803(0x26e)] * this['scale'] + 'px', this[_0x43803(0x2b0)][_0x43803(0x133)]['height'] = this['jH'] + 'px', this[_0x43803(0x2b0)][_0x43803(0x133)]['background'] = this['jCol'], this[_0x43803(0x2b0)][_0x43803(0x133)][_0x43803(0x219)] = this[_0x43803(0x188)]; let _0x206e4f = setInterval(() => { var _0x11e931 = _0x43803; this[_0x11e931(0x268)] && !this['isSet'] && (self[_0x11e931(0xea)](this[_0x11e931(0x148)]), this[_0x11e931(0x116)] = !![], clearInterval(_0x206e4f)); }, 0x10); } [_0x2ab462(0x237)]() { var _0x710add = _0x2ab462; this[_0x710add(0x268)] = ![]; } ['update']() { var _0x535963 = _0x2ab462; !this[_0x535963(0x268)] ? this[_0x535963(0x148)]['style'][_0x535963(0x1e0)] = _0x535963(0x1d5) : this[_0x535963(0x148)]['style'][_0x535963(0x1e0)] = _0x535963(0x268), this[_0x535963(0x217)] ? (this[_0x535963(0x148)][_0x535963(0x133)][_0x535963(0x2ad)] = _0x535963(0x242), this['juice'][_0x535963(0x133)][_0x535963(0x270)] = this['obj'][_0x535963(0x26e)] * this['scale'] + 'px', this[_0x535963(0x148)][_0x535963(0x133)]['overflow'] = 'hidden') : this['juice'][_0x535963(0x133)][_0x535963(0x270)] = this[_0x535963(0xe6)][_0x535963(0x26e)] * this[_0x535963(0x293)] + 'px'; } } class PlaySound { constructor(_0x584304, _0x1c3de6, _0x50efa1) { var _0x164b6f = _0x2ab462; this['x'] = _0x584304, this[_0x164b6f(0x194)] = _0x1c3de6, this[_0x164b6f(0xf6)] = _0x50efa1, this['audio'] = new Audio(this['x']), this['audio'][_0x164b6f(0x194)] = this['volume'], this[_0x164b6f(0x102)]['preload'] = _0x164b6f(0x16a); } [_0x2ab462(0x1e6)]() { var _0x3ec312 = _0x2ab462; try { this[_0x3ec312(0x102)][_0x3ec312(0x22c)] = 0x0; if (this[_0x3ec312(0xf6)] === _0x3ec312(0x289)) this['audio'][_0x3ec312(0xf4)] = !![], this['audio'][_0x3ec312(0x289)] = !![], this[_0x3ec312(0x102)]['play'](); else try { this[_0x3ec312(0x102)][_0x3ec312(0x142)](); } catch (_0x38a9c6) { } } catch (_0x3b0f48) { console[_0x3ec312(0x252)]('Error\x20playing\x20audio:', _0x3b0f48); } } [_0x2ab462(0x25f)]() { var _0x11c316 = _0x2ab462; try { this['audio'][_0x11c316(0x140)](); } catch (_0x521293) { console[_0x11c316(0x252)](_0x11c316(0x224), _0x521293); } } } class Astar { constructor() { var _0x183d95 = _0x2ab462; this['closedList'] = [], this[_0x183d95(0x245)] = null, this[_0x183d95(0x1a2)] = null, this[_0x183d95(0x10b)] = [], this[_0x183d95(0x26c)] = ![]; } [_0x2ab462(0x29c)](_0x37ab19) { var _0x54a64c = _0x2ab462; return this[_0x54a64c(0x11c)] = _0x37ab19; } [_0x2ab462(0x130)](_0x36eb23) { var _0x199e8b = _0x2ab462; return this[_0x199e8b(0x10b)] = _0x36eb23; } [_0x2ab462(0x210)](_0x53d9f8) { var _0x312f7e = _0x2ab462; return this[_0x312f7e(0x26c)] = _0x53d9f8; } ['setIterations'](_0xe087b6) { this['timer'] = _0xe087b6; } [_0x2ab462(0x1a3)](_0x30f762, _0x214fe5, _0x1ec22e, _0x32accb, _0x5a6507) { var _0x322f2 = _0x2ab462; if (!this[_0x322f2(0x11c)] || _0x30f762 < 0x0 || _0x214fe5 < 0x0 || _0x1ec22e < 0x0 || _0x32accb < 0x0 || _0x30f762 > this[_0x322f2(0x11c)][0x0][_0x322f2(0x29d)] || _0x214fe5 > this['grid'][_0x322f2(0x29d)] || _0x1ec22e > this[_0x322f2(0x11c)][0x0][_0x322f2(0x29d)] || _0x32accb > this[_0x322f2(0x11c)][_0x322f2(0x29d)]) { _0x5a6507(null); return; } this[_0x322f2(0x245)] = new Node(_0x30f762, _0x214fe5), this[_0x322f2(0x1a2)] = new Node(_0x1ec22e, _0x32accb), this[_0x322f2(0x18b)] = [this[_0x322f2(0x245)]], this[_0x322f2(0x24f)] = []; let _0x476d72 = 0x0; const _0x5f3ca9 = 0x12c, _0x1f5820 = () => { var _0x46d846 = _0x322f2; let _0x3f6c87 = setTimeout(() => { var _0x27f129 = _0x5814; while (this[_0x27f129(0x18b)][_0x27f129(0x29d)] > 0x0 && _0x476d72 < _0x5f3ca9) { this[_0x27f129(0x22a)] = this[_0x27f129(0x18b)][0x0], this[_0x27f129(0x123)] = 0x0; for (let _0x1ca2cb = 0x0; _0x1ca2cb < this[_0x27f129(0x18b)][_0x27f129(0x29d)]; _0x1ca2cb++) { (this[_0x27f129(0x18b)][_0x1ca2cb]['f'] < this[_0x27f129(0x22a)]['f'] || this['openList'][_0x1ca2cb]['f'] === this[_0x27f129(0x22a)]['f'] && this[_0x27f129(0x18b)][_0x1ca2cb]['h'] < this[_0x27f129(0x22a)]['h']) && (this[_0x27f129(0x22a)] = this[_0x27f129(0x18b)][_0x1ca2cb], this[_0x27f129(0x123)] = _0x1ca2cb); } this['openList'][_0x27f129(0x16c)](this[_0x27f129(0x123)], 0x1), this['closedList'][_0x27f129(0x251)](this[_0x27f129(0x22a)]); if (this[_0x27f129(0x22a)]['x'] === this[_0x27f129(0x1a2)]['x'] && this[_0x27f129(0x22a)]['y'] === this['endNode']['y']) { let _0x20c3cc = [], _0x26b457 = this[_0x27f129(0x22a)]; while (_0x26b457 !== null) { _0x20c3cc[_0x27f129(0x251)]({ 'x': _0x26b457['x'] | 0x0, 'y': _0x26b457['y'] | 0x0 }), _0x26b457 = _0x26b457[_0x27f129(0xf1)]; } _0x20c3cc == null && _0x20c3cc[_0x27f129(0x251)](_0x26b457); try { _0x5a6507(_0x20c3cc[_0x27f129(0x21c)]()), clearTimeout(_0x3f6c87); } catch (_0x25edc2) { } return; } var _0x58bb0a; !this[_0x27f129(0x26c)] ? _0x58bb0a = [[0x1, 0x0], [-0x1, 0x0], [0x0, 0x1], [0x0, -0x1]] : _0x58bb0a = [[0x1, 0x1], [0x1, 0x0], [-0x1, 0x1], [-0x1, 0x0], [0x1, -0x1], [0x0, 0x1], [-0x1, -0x1], [0x0, -0x1]]; for (let _0x195f7e of _0x58bb0a) { let _0x2f4d23 = this[_0x27f129(0x22a)]['x'] + _0x195f7e[0x0], _0x4dedf5 = this[_0x27f129(0x22a)]['y'] + _0x195f7e[0x1]; if (_0x2f4d23 > 0x0 && _0x2f4d23 < this[_0x27f129(0x11c)][0x0][_0x27f129(0x29d)] && _0x4dedf5 > 0x0 && _0x4dedf5 < this['grid']['length']) { let _0x55d10e = new Node(_0x2f4d23, _0x4dedf5); _0x55d10e['isWalkable'] = this[_0x27f129(0x10b)][_0x27f129(0x17d)](this[_0x27f129(0x11c)][_0x4dedf5][_0x2f4d23]); if (_0x55d10e['isWalkable'] && !this[_0x27f129(0x24f)][_0x27f129(0x1af)](_0xd04602 => _0xd04602['x'] === _0x55d10e['x'] && _0xd04602['y'] === _0x55d10e['y'])) { let _0x329db5 = this[_0x27f129(0x22a)]['g'] + 0x1; if (!this[_0x27f129(0x18b)][_0x27f129(0x1af)](_0x4721bb => _0x4721bb['x'] === _0x55d10e['x'] && _0x4721bb['y'] === _0x55d10e['y'])) _0x55d10e['g'] = _0x329db5, _0x55d10e['h'] = Math[_0x27f129(0x20d)](_0x55d10e['x'] - this[_0x27f129(0x1a2)]['x']) + Math[_0x27f129(0x20d)](_0x55d10e['y'] - this[_0x27f129(0x1a2)]['y']), _0x55d10e['f'] = _0x55d10e['g'] + _0x55d10e['h'], _0x55d10e['parent'] = this[_0x27f129(0x22a)], this[_0x27f129(0x18b)][_0x27f129(0x251)](_0x55d10e); else _0x329db5 < _0x55d10e['g'] && (_0x55d10e['g'] = _0x329db5, _0x55d10e['f'] = _0x55d10e['g'] + _0x55d10e['h'], _0x55d10e[_0x27f129(0xf1)] = this['currentNode']); } } } } _0x476d72++, _0x476d72 > _0x5f3ca9 ? (_0x5a6507(null), clearTimeout(_0x3f6c87)) : _0x1f5820(); }, this[_0x46d846(0x135)]); }; _0x1f5820(); } } class Node { constructor(_0x1d6c10, _0x3fb127) { var _0x2daef5 = _0x2ab462; this['x'] = _0x1d6c10, this['y'] = _0x3fb127, this['parent'] = null, this['g'] = 0x0, this['h'] = 0x0, this[_0x2daef5(0x209)] = !![]; } } function isFlipCollide(_0x5d4d7a, _0x5889b7) { var _0x342863 = _0x2ab462, _0x5e7126 = Math[_0x342863(0x20d)](_0x5d4d7a['x'] - _0x5889b7['x']), _0x31d21b = Math[_0x342863(0x20d)](_0x5d4d7a['y'] - _0x5889b7['y']); if (_0x5889b7['r']) { if (_0x5e7126 <= _0x5889b7['r'] + _0x5889b7['r'] + _0x5d4d7a['w'] / 0x2 && _0x31d21b <= _0x5889b7['r'] + _0x5889b7['r'] + _0x5d4d7a['h'] / 0x2) { if (_0x5d4d7a[_0x342863(0x256)] && _0x5d4d7a['x'] < _0x5889b7['x']) return ![]; if (!_0x5d4d7a[_0x342863(0x256)] && _0x5d4d7a['x'] > _0x5889b7['x']) return ![]; return !![]; } } if (_0x5889b7['r'] == undefined) { var _0x5e7126 = Math[_0x342863(0x20d)](_0x5d4d7a['x'] - _0x5889b7['x']), _0x31d21b = Math[_0x342863(0x20d)](_0x5d4d7a['y'] - _0x5889b7['y']); if (!_0x5d4d7a[_0x342863(0x256)] && _0x5d4d7a['x'] + _0x5d4d7a['w'] >= _0x5889b7['x'] && _0x5d4d7a['x'] <= _0x5889b7['x'] + _0x5889b7['w'] && _0x5d4d7a['y'] + _0x5d4d7a['h'] >= _0x5889b7['y'] && _0x5d4d7a['y'] <= _0x5889b7['y'] + _0x5889b7['h'] * 1.8) return !![]; if (_0x5d4d7a['flipX'] && _0x5d4d7a['x'] + _0x5d4d7a['w'] >= _0x5889b7['x'] && _0x5d4d7a['x'] - _0x5d4d7a['w'] * 1.8 <= _0x5889b7['x'] + _0x5889b7['w'] && _0x5d4d7a['y'] + _0x5d4d7a['h'] >= _0x5889b7['y'] && _0x5d4d7a['y'] <= _0x5889b7['y'] + _0x5889b7['h'] * 1.8) { if (_0x5d4d7a[_0x342863(0x256)] && _0x5d4d7a['x'] < _0x5889b7['x'] + _0x5889b7['w']) return; return !![]; } } } var partImage = new Image(); function Particles(_0x4f7967, _0x258c15, _0x35d6db, _0x2ed0e3, _0x2a27fa, _0x4864af) { var _0x3e4dd5 = _0x2ab462; this[_0x3e4dd5(0x28d)] = _0x2a27fa || _0x3e4dd5(0x278), this[_0x3e4dd5(0xf9)] = Math[_0x3e4dd5(0x109)]() * 0x4 - 0x2, this[_0x3e4dd5(0x1d9)] = Math[_0x3e4dd5(0x109)]() * Math['PI'] * 0x6, _0x2ed0e3[_0x3e4dd5(0x249)] ? (this['x'] = _0x2ed0e3[_0x3e4dd5(0x249)]['x'] + _0x35d6db / 0x2, this['y'] = _0x2ed0e3[_0x3e4dd5(0x249)]['y'] + 0x5) : (this['x'] = _0x4f7967 + _0x35d6db / 0x2, this['y'] = _0x258c15 + 0x5), this['size'] = _0x35d6db * self[_0x3e4dd5(0x293)], this[_0x3e4dd5(0xe3)] = 0x1, this['speed'] = Math[_0x3e4dd5(0x109)]() * 1.5 - 0x2, this[_0x3e4dd5(0x1dd)] = 0.95, this['vx'] = Math['cos'](this['angle']) * this[_0x3e4dd5(0xf9)], this['vy'] = Math['sin'](this['angle']) * this['speed'], this[_0x3e4dd5(0x17a)] = function (_0x5e675c, _0x4470f2) { var _0x128069 = _0x3e4dd5; this[_0x128069(0x28d)] = _0x4470f2 || _0x128069(0x278), this[_0x128069(0xf9)] = Math['random']() * 0x3 - 0x2, this[_0x128069(0x1d9)] = Math[_0x128069(0x109)]() * Math['PI'] * 0x3, _0x5e675c['collider'] ? (this['x'] = _0x5e675c[_0x128069(0x249)]['x'] + this[_0x128069(0x249)]['w'] / 0x2, this['y'] = _0x5e675c['collider']['y'] + 0x5) : (this['x'] = _0x4f7967 + _0x35d6db / 0x4, this['y'] = _0x258c15 + 0x5), this[_0x128069(0x19b)] = _0x35d6db * self['scale'], this[_0x128069(0xe3)] = 0x1, this[_0x128069(0xf9)] = Math['random']() * 0.5 - 0x2, this[_0x128069(0x1dd)] = 0.95, this['vx'] = Math[_0x128069(0x19e)](this[_0x128069(0x1d9)]) * this['speed'], this['vy'] = Math[_0x128069(0x1f1)](this[_0x128069(0x1d9)]) * this[_0x128069(0xf9)]; }, this['update'] = function () { var _0x54348b = _0x3e4dd5; this['vx'] *= this[_0x54348b(0x1dd)] + 0.3, this['vy'] *= this[_0x54348b(0x1dd)] + 0.3, this['x'] += this['vx'], this['vy'] -= 0.5; if (frame % 0x4 === 0x0) this['y'] += this['vy']; if (this['name'] == _0x54348b(0x225)) this['color'] = _0x54348b(0x271), this[_0x54348b(0xf9)] = 0.8, this['vx'] = Math[_0x54348b(0x19e)](this[_0x54348b(0x1d9)]) * this[_0x54348b(0xf9)], this['vy'] = Math['sin'](this[_0x54348b(0x1d9)]) * this[_0x54348b(0xf9)], this['y'] += this['vy'] * this[_0x54348b(0x1dd)], this['vx'] *= this[_0x54348b(0x1dd)], this['x'] += this['vx'] * delta; else { if (this[_0x54348b(0x28d)] == _0x54348b(0x258)) { this['vx'] = Math[_0x54348b(0x109)]() * -0.5, this['vy'] = (Math[_0x54348b(0x109)]() + 2.2) * Math[_0x54348b(0x109)]() * -0x2; if (!_0x2ed0e3[_0x54348b(0x296)]) return; this[_0x54348b(0x2a0)] = _0x54348b(0x2ae), this['vy'] += 1.5 + 0.1, this['y'] = _0x2ed0e3['y'] + _0x2ed0e3['h'] - 0.4, this['y'] += this['vy'] * 0.9, this[_0x54348b(0x19b)] = 0.8; if (_0x2ed0e3['vx'] > 0x0 && !_0x2ed0e3[_0x54348b(0x120)]) this['x'] -= 0.5 + Math['random']() * 0.2 * self[_0x54348b(0x293)]; else { if (_0x2ed0e3['vx'] > 0x0 && _0x2ed0e3[_0x54348b(0x120)]) this['x'] -= 0.5 + Math['random']() * 0.2 * self[_0x54348b(0x293)]; else { if (_0x2ed0e3['vx'] < 0x0 && !_0x2ed0e3[_0x54348b(0x120)]) this['x'] -= Math['random']() * 0.3 - 0x5; else { if (_0x2ed0e3['vx'] < 0x0 && _0x2ed0e3['isJumping']) this['x'] -= Math[_0x54348b(0x109)]() * 0x3 - 0x5; else { if (_0x2ed0e3['vy'] > 0x0 && !_0x2ed0e3[_0x54348b(0x120)]) this['y'] += Math[_0x54348b(0x109)]() * -0x5; else _0x2ed0e3['vy'] < 0x0 && !_0x2ed0e3[_0x54348b(0x120)] && (this['y'] -= Math['random']() * -0x5); } } } } } else { if (_0x2ed0e3[_0x54348b(0x255)] && this[_0x54348b(0x28d)] == _0x54348b(0x124)) this['vx'] *= this[_0x54348b(0x1dd)] * 0.8, this['x'] += this['vx'] * delta, this['vy'] += 0.5, this['y'] += this['vy'] * delta; else { if (this[_0x54348b(0x28d)] == _0x54348b(0x278)) this[_0x54348b(0x2a0)] = '#' + Math['random']()[_0x54348b(0x1a5)](0x10)[_0x54348b(0x119)](-0x6), this[_0x54348b(0xf9)] = 0.5, this['vx'] = Math[_0x54348b(0x19e)](this[_0x54348b(0x1d9)]) * this[_0x54348b(0xf9)], this['vy'] = Math[_0x54348b(0x1f1)](this[_0x54348b(0x1d9)]) * this[_0x54348b(0xf9)], this['y'] += this['vy'] * this[_0x54348b(0x1dd)], this['vx'] *= this[_0x54348b(0x1dd)], this['x'] += this['vx'] * delta; else { if (!_0x2ed0e3['image'] && this[_0x54348b(0x28d)] == 'self') this['color'] = _0x2ed0e3[_0x54348b(0x2a0)], this[_0x54348b(0xf9)] = 0x1, this['vx'] = Math['cos'](this[_0x54348b(0x1d9)]) * this[_0x54348b(0xf9)], this['vy'] = Math[_0x54348b(0x1f1)](this['angle']) * this[_0x54348b(0xf9)], this['y'] += this['vy'] * this[_0x54348b(0x1dd)], this['vx'] *= this[_0x54348b(0x1dd)], this['x'] += this['vx'] * delta; else { if (this['name'] == _0x54348b(0x1ae)) this['y'] -= this['vy'] * this[_0x54348b(0x1dd)] * 0xa, this['vx'] *= this[_0x54348b(0x1dd)], this['x'] += this['vx'] * delta, this[_0x54348b(0x19b)] = Math['random']() * 0x5 + 0.9, this[_0x54348b(0x2a0)] = 'rgba(200,200,200,0.7)'; else { if (this['name'] == _0x54348b(0x20f)) this[_0x54348b(0x2a0)] = _0x54348b(0x14f), this[_0x54348b(0xf9)] = 0x1, this['vx'] = Math['cos'](this['angle']) * this['speed'], this['vy'] = Math[_0x54348b(0x1f1)](this[_0x54348b(0x1d9)]) * this['speed'], this['y'] += this['vy'] * this[_0x54348b(0x1dd)], this['vx'] *= this[_0x54348b(0x1dd)], this['x'] += this['vx'] * delta; else { if (this['name'] == _0x54348b(0x1e1)) this[_0x54348b(0x2a0)] = _0x54348b(0x168), this[_0x54348b(0x1dd)] = 0.04, this['vx'] *= this['friction'], this['vy'] -= 0.5, this['y'] += this['vy'], this['x'] += this['vx']; else this[_0x54348b(0x28d)] == 'smoke' ? (this['color'] = 'rgba(0,0,0,0.5)', this[_0x54348b(0x1dd)] = 0.4, this['vx'] *= this['friction'], this['vy'] -= 0.1, this['y'] += this['vy'], this['x'] += this['vx'] * delta) : _0x2ed0e3[_0x54348b(0x2a0)] && (this['color'] = _0x2ed0e3[_0x54348b(0x2a0)]); } } } } } } } if (frame % 0xa == 0x0 && this[_0x54348b(0x28d)] != _0x54348b(0x258)) for (let _0x2147fa = 0x0; _0x2147fa < particlePool[_0x54348b(0x20c)][_0x54348b(0x29d)]; _0x2147fa++) { var _0x36a218 = particlePool[_0x54348b(0x20c)][_0x2147fa]; _0x36a218['dx'] = _0x2ed0e3['x'] - _0x36a218['x'], _0x36a218['dy'] = _0x2ed0e3['y'] - _0x36a218['y']; particlePool[_0x54348b(0x20c)][_0x54348b(0x29d)] >= 0x96 && (particlePool[_0x54348b(0x20c)][_0x54348b(0x29d)] = 0x96); var _0x46764c = Math[_0x54348b(0x1fb)](_0x36a218['dx'], _0x36a218['dy']); this[_0x54348b(0x28d)] != 'dust' && _0x46764c >= 0x1e && (this['alpha'] -= 0.08, this[_0x54348b(0xe3)] <= 0.3 && (particlePool['pool'][0x0] && (this[_0x54348b(0xe3)] = 0x1), kill(particlePool[_0x54348b(0x20c)], _0x2147fa))); } else { if (frame % 0x2 == 0x0 && this[_0x54348b(0x28d)] == _0x54348b(0x258)) for (let _0x600c39 = 0x0; _0x600c39 < particles[_0x54348b(0x29d)]; _0x600c39++) { var _0x36a218 = particles[_0x600c39]; _0x36a218['dx'] = _0x2ed0e3['x'] - _0x36a218['x'], _0x36a218['dy'] = _0x2ed0e3['y'] - _0x36a218['y']; var _0x46764c = Math[_0x54348b(0x1fb)](_0x36a218['dx'], _0x36a218['dy']); _0x46764c >= 0x2 && this[_0x54348b(0x28d)] == 'dust' && (this[_0x54348b(0xe3)] -= 0.05, this[_0x54348b(0xe3)] <= 0.6 && (particlePool['pool'][0x0] && (this[_0x54348b(0xe3)] = 0x1), kill(particlePool['pool'], _0x600c39))); } } }, this[_0x3e4dd5(0x28b)] = function () { var _0x27042d = _0x3e4dd5; _0x2ed0e3[_0x27042d(0x255)] && this[_0x27042d(0x28d)] == 'self' ? (partImage['src'] = _0x2ed0e3[_0x27042d(0x255)][_0x27042d(0x127)], canDraw(_0x2ed0e3, camera) && buffer[_0x27042d(0x180)](partImage, this['x'] * self[_0x27042d(0x293)], this['y'] * self[_0x27042d(0x293)], this['size'] * 0x1, this[_0x27042d(0x19b)] * 0x1)) : (canDraw(_0x2ed0e3, camera) && (buffer[_0x27042d(0xe9)] = this[_0x27042d(0x2a0)], this[_0x27042d(0x28d)] == 'fire' ? (buffer[_0x27042d(0x25e)] = 0x1, buffer['shadowColor'] = 'rgba(240,200,10,0.8)') : buffer[_0x27042d(0xeb)] = this[_0x27042d(0x2a0)]), canDraw(_0x2ed0e3, camera) && (this[_0x27042d(0x28d)] != 'poison' && (_0x2ed0e3[_0x27042d(0xf6)] == _0x27042d(0x227) ? (buffer[_0x27042d(0x235)] = this[_0x27042d(0xe3)], buffer[_0x27042d(0x291)](), buffer['arc'](this['x'], this['y'], this['size'] * Math[_0x27042d(0x109)]() * 0.3 + 0.5, 1.2, Math['PI'] * 0x2), buffer[_0x27042d(0x273)](), buffer[_0x27042d(0x205)]()) : (buffer[_0x27042d(0x27c)](), buffer[_0x27042d(0x291)](), buffer[_0x27042d(0x28e)](this['x'] * self['scale'], this['y'] * self[_0x27042d(0x293)], this[_0x27042d(0x19b)] * Math['random']() * 0.3 + 0.5, 0x0, Math['PI'] * 0x2), buffer['fill'](), buffer['closePath'](), buffer['restore']())), this[_0x27042d(0x28d)] == 'poison' && (buffer[_0x27042d(0x291)](), _0x2ed0e3['type'] == _0x27042d(0x227) ? (buffer[_0x27042d(0x291)](), buffer[_0x27042d(0x28e)](this['x'], this['y'], this[_0x27042d(0x19b)] * Math[_0x27042d(0x109)]() * 0.8 + 0x1, 1.2, Math['PI'] * 0x2), buffer['fill'](), buffer['closePath']()) : (buffer[_0x27042d(0x291)](), buffer[_0x27042d(0x28e)](this['x'] * self[_0x27042d(0x293)], this['y'] * self['scale'], this['size'] * Math[_0x27042d(0x109)]() * 0.8 + 0x1, 1.2, Math['PI'] * 0x2), buffer[_0x27042d(0x273)](), buffer[_0x27042d(0x205)]())))); }; } class ParticlePool { constructor() { var _0x30ebc3 = _0x2ab462; this['pool'] = [], this[_0x30ebc3(0x105)] = 0x0; } [_0x2ab462(0x1ec)](_0x26f12d, _0x2c78d2, _0x1397b9) { var _0x48ddc0 = _0x2ab462; for (let _0x43a3da = 0x0; _0x43a3da < _0x2c78d2; _0x43a3da++) { let _0x39173e; this[_0x48ddc0(0x105)] < this[_0x48ddc0(0x20c)][_0x48ddc0(0x29d)] ? (_0x39173e = this[_0x48ddc0(0x20c)][this[_0x48ddc0(0x105)]++], _0x39173e['reset'](_0x26f12d, _0x1397b9)) : (_0x39173e = new Particles(_0x26f12d['x'] + _0x26f12d['w'] / 0x2 || _0x26f12d['x'], _0x26f12d['y'], Math[_0x48ddc0(0x109)]() * 0x3 + 0.08, _0x26f12d, _0x1397b9), this[_0x48ddc0(0x20c)][_0x48ddc0(0x251)](_0x39173e), this[_0x48ddc0(0x105)]++); } } [_0x2ab462(0x1ed)]() { var _0x12ad58 = _0x2ab462; return this['pool'][_0x12ad58(0x29d)]; } } var particlePool = new ParticlePool(); class UseText { constructor(_0x2dac95, _0x1e42da, _0x23e9d0, _0x561d93, _0x53b09c, _0xb33b7f) { var _0x99dcb9 = _0x2ab462; this['text'] = _0x2dac95, this[_0x99dcb9(0x2a0)] = _0xb33b7f, this[_0x99dcb9(0x19b)] = _0x23e9d0, this['x'] = _0x561d93, this['y'] = _0x53b09c, this[_0x99dcb9(0x1a1)] = 0x0, this[_0x99dcb9(0x221)] = _0x1e42da, this[_0x99dcb9(0x268)] = ![]; if (!this['paragraph']) { this[_0x99dcb9(0x1de)] = document[_0x99dcb9(0x1b1)]('p'), document['addEventListener'](_0x99dcb9(0x11b), () => { var _0x294954 = _0x99dcb9; document[_0x294954(0x19f)][_0x294954(0xf3)](this[_0x294954(0x1de)]); }); if (this[_0x99dcb9(0x14b)] == null) this['paragraph'][_0x99dcb9(0xfa)] = this['value']; else { if (typeof this[_0x99dcb9(0x14b)] == 'number') this[_0x99dcb9(0x1de)][_0x99dcb9(0xfa)] = this[_0x99dcb9(0x14b)] + this[_0x99dcb9(0x221)]; else this[_0x99dcb9(0x1de)][_0x99dcb9(0xfa)] = this[_0x99dcb9(0x14b)] + '\x20' + this[_0x99dcb9(0x221)]; } this[_0x99dcb9(0x1de)][_0x99dcb9(0x133)][_0x99dcb9(0x1fc)] = 'absolute', this[_0x99dcb9(0x1de)]['style'][_0x99dcb9(0x23f)] = 0x3, this['paragraph'][_0x99dcb9(0x133)]['left'] = this['x'] + 'px', this['paragraph']['style']['top'] = this['y'] + 'px', this[_0x99dcb9(0x1de)][_0x99dcb9(0x133)]['fontSize'] = this['size'] + 'px', this[_0x99dcb9(0x1de)][_0x99dcb9(0x133)]['color'] = '' + this[_0x99dcb9(0x2a0)]; let _0x1f3ec2 = setInterval(() => { var _0x57d755 = _0x99dcb9; !this[_0x57d755(0x268)] ? this[_0x57d755(0x1de)][_0x57d755(0x133)]['visibility'] = _0x57d755(0x1d5) : this[_0x57d755(0x1de)]['style'][_0x57d755(0x1e0)] = _0x57d755(0x268); }, 0x10); } } [_0x2ab462(0x21e)](_0xb99c) { var _0x490c91 = _0x2ab462; this[_0x490c91(0x1a1)] = _0xb99c; } [_0x2ab462(0x237)]() { var _0x434153 = _0x2ab462; document[_0x434153(0x19f)][_0x434153(0x106)](this[_0x434153(0x1de)]), this[_0x434153(0x1de)][_0x434153(0xfa)] = null; } ['update'](_0x2c4860) { var _0x150487 = _0x2ab462; this['updatedValue'] = _0x2c4860, this['updator'] = this[_0x150487(0x1f2)], this[_0x150487(0x1de)][_0x150487(0x133)]['transform'] = _0x150487(0x110) + this[_0x150487(0x1a1)] + 'deg)', this[_0x150487(0x1de)][_0x150487(0x133)][_0x150487(0x1fc)] = 'absolute', this['paragraph']['style'][_0x150487(0x23f)] = 0x3, this[_0x150487(0x1de)][_0x150487(0x133)][_0x150487(0x23b)] = this['x'] + 'px', this[_0x150487(0x1de)]['style']['top'] = this['y'] + 'px', this[_0x150487(0x1de)][_0x150487(0x133)]['fontSize'] = this[_0x150487(0x19b)] + 'px', this[_0x150487(0x1de)][_0x150487(0x133)]['color'] = '' + this[_0x150487(0x2a0)], this[_0x150487(0x1de)][_0x150487(0x133)][_0x150487(0x23f)] = 0x3, this[_0x150487(0x14b)] == null ? this['paragraph'][_0x150487(0xfa)] = this[_0x150487(0x22d)] : this[_0x150487(0x1de)][_0x150487(0xfa)] = this[_0x150487(0x14b)] + '\x20' + this[_0x150487(0x22d)], !this[_0x150487(0x268)] ? this['paragraph'][_0x150487(0x133)][_0x150487(0x1e0)] = _0x150487(0x1d5) : this['paragraph'][_0x150487(0x133)]['visibility'] = _0x150487(0x268); } } function hitBox(_0x3b5973, _0x202ef4, _0x8d09ee) { var _0x4135a6 = _0x2ab462; if (_0x3b5973['collider'] && _0x202ef4[_0x4135a6(0x249)]) var _0x4827fd = Math[_0x4135a6(0x20d)](_0x3b5973['collider']['x'] - _0x202ef4['collider']['x']), _0x445ba0 = Math[_0x4135a6(0x20d)](_0x3b5973[_0x4135a6(0x249)]['y'] - _0x202ef4[_0x4135a6(0x249)]['y']); if (_0x3b5973['collider'] && !_0x202ef4['collider']) var _0x4827fd = Math[_0x4135a6(0x20d)](_0x3b5973[_0x4135a6(0x249)]['x'] - _0x202ef4['x']), _0x445ba0 = Math[_0x4135a6(0x20d)](_0x3b5973['collider']['y'] - _0x202ef4['y']); else var _0x4827fd = Math[_0x4135a6(0x20d)](_0x3b5973['x'] - _0x202ef4['x']), _0x445ba0 = Math[_0x4135a6(0x20d)](_0x3b5973['y'] - _0x202ef4['y']); var _0x45480d = Math['hypot'](_0x4827fd, _0x445ba0); if (_0x45480d <= _0x8d09ee) { if (_0x3b5973[_0x4135a6(0x23b)]) { if (_0x3b5973[_0x4135a6(0x249)] && _0x202ef4[_0x4135a6(0x249)]) { if (_0x3b5973[_0x4135a6(0x249)]['x'] > _0x202ef4['collider']['x']) return !![]; } if (_0x3b5973[_0x4135a6(0x249)] && !_0x202ef4[_0x4135a6(0x249)]) { if (_0x3b5973['collider']['x'] > _0x202ef4['x']) return !![]; } else { if (!_0x3b5973[_0x4135a6(0x249)] && !_0x202ef4[_0x4135a6(0x249)]) { if (_0x3b5973['x'] > _0x202ef4['x']) return !![]; } } } if (!_0x3b5973[_0x4135a6(0x23b)]) { if (_0x3b5973[_0x4135a6(0x249)] && _0x202ef4['collider']) { if (_0x3b5973['collider']['x'] < _0x202ef4['collider']['x']) return !![]; } if (_0x3b5973['collider'] && !_0x202ef4['collider']) { if (_0x3b5973[_0x4135a6(0x249)]['x'] < _0x202ef4['x']) return !![]; } else { if (!_0x3b5973[_0x4135a6(0x249)] && !_0x202ef4[_0x4135a6(0x249)]) { if (_0x3b5973['x'] < _0x202ef4['x']) return !![]; } } } else return ![]; } return ![]; } function SnowEffect(_0x547baf) { var _0xcc31e0 = _0x2ab462; num = [0x1, -0x3], rand = Math[_0xcc31e0(0x109)]() * num[_0xcc31e0(0x29d)], this[_0xcc31e0(0x213)] = _0x547baf; var _0x6dd0c9 = { 'x': Math[_0xcc31e0(0x115)](Math['random']() * camera[_0xcc31e0(0x270)]) + camera['x'], 'y': 0x0, 's': Math[_0xcc31e0(0x27a)](Math['random']() * 0x1) + 0.5, 'color': _0xcc31e0(0x299) }; for (var _0x2bf65d = 0x0; _0x2bf65d < 0x5; _0x2bf65d += 0x2) { snows['push'](new Circle(_0x6dd0c9['x'], _0x6dd0c9['y'], _0x6dd0c9['s'], Math['cos'](num[rand]), Math[_0xcc31e0(0x27a)](Math[_0xcc31e0(0x109)]() * 0.2) + 0x1, _0x6dd0c9[_0xcc31e0(0x2a0)])); } for (var _0x59f41c = 0x0; _0x59f41c < snows['length']; _0x59f41c++) { snow = snows[_0x59f41c], snow['y'] += 0x3, (snow['y'] > _0x547baf[_0xcc31e0(0x25c)] || snow['x'] > _0x547baf[_0xcc31e0(0x270)]) && kill(snows, _0x59f41c); } } function RainEffect(_0x44830d) { var _0x2d9b87 = _0x2ab462; this['space'] = _0x44830d; var _0x12cd40 = [-0x1, 0x3], _0xbd5c2c = { 'x': Math[_0x2d9b87(0x27a)](Math['random']() * camera['width']) + camera['x'], 'y': 0x0, 'w': Math[_0x2d9b87(0x27a)](Math[_0x2d9b87(0x109)]() * 0.2) + 0.05 * 0x8, 'h': 0x8, 'color': _0x2d9b87(0x216) }; for (var _0x1467dd = 0x0; _0x1467dd < 0x32; _0x1467dd += 0x2) { rand = Math[_0x2d9b87(0x109)]() * _0x12cd40[_0x2d9b87(0x29d)], rains[_0x2d9b87(0x251)](new Sprite(_0xbd5c2c['x'], _0xbd5c2c['y'], _0xbd5c2c['w'], _0xbd5c2c['h'], Math[_0x2d9b87(0x19e)](_0x12cd40[rand]), Math['floor'](Math[_0x2d9b87(0x109)]() * 0x3) + 0x5, _0xbd5c2c[_0x2d9b87(0x2a0)])); } rains['forEach'](function (_0x38117b, _0x5b839e) { var _0x38c120 = _0x2d9b87; _0x38117b['y'] += 0x1e, _0x38117b['y'] > _0x44830d[_0x38c120(0x25c)] && kill(rains, _0x5b839e), rains['x'] > _0x44830d[_0x38c120(0x270)] && kill(rains, _0x5b839e); }); } log(_0x2ab462(0x1ba)); let isPoint = ![]; function renderRWayPoint() { var _0x546714 = _0x2ab462; if (isPoint) { buffer[_0x546714(0x291)](), buffer[_0x546714(0x19d)] = 'darkblue', buffer[_0x546714(0x280)](wayPoints[0x0]['x'] * self[_0x546714(0x293)], wayPoints[0x0]['y'] * self['scale']); for (let _0x34f295 = 0x0; _0x34f295 < wayPoints[_0x546714(0x29d)]; _0x34f295++) { let _0x451223 = wayPoints[_0x34f295]; buffer[_0x546714(0x166)](_0x451223['x'] * self[_0x546714(0x293)], _0x451223['y'] * self[_0x546714(0x293)]); } buffer[_0x546714(0x112)](), buffer[_0x546714(0x205)](); } } let wp; function isPath(_0x42d879, _0x1d9255, _0x6c0631, _0x33dae1) { let _0x22b2fe = ![]; for (let _0x2fe33d of _0x33dae1) { if (lineSegmentIntersectsObstacle(_0x1d9255, _0x6c0631, _0x2fe33d)) { _0x22b2fe = !![]; break; } } if (_0x22b2fe) return wp = _0x42d879[0x0], ![]; return moveAlongPath(_0x42d879, _0x1d9255, _0x6c0631, _0x33dae1), !![]; } function lineSegmentIntersectsObstacle(_0x59f55d, _0x5b6762, _0x3500ee) { var _0x4f20fe = _0x2ab462; const _0x506012 = _0x59f55d['x'], _0xabb7ac = _0x59f55d['y'], _0x387a59 = _0x5b6762['x'], _0x3c6ec0 = _0x5b6762['y'], _0x1f5da2 = _0x3500ee['x'], _0x117550 = _0x3500ee['y'], _0x1b9192 = _0x3500ee['x'] + _0x3500ee[_0x4f20fe(0x270)], _0x9b9dd0 = _0x3500ee['y'] + _0x3500ee[_0x4f20fe(0x25c)], _0xa43246 = ((_0x1b9192 - _0x1f5da2) * (_0xabb7ac - _0x117550) - (_0x9b9dd0 - _0x117550) * (_0x506012 - _0x1f5da2)) / ((_0x9b9dd0 - _0x117550) * (_0x387a59 - _0x506012) - (_0x1b9192 - _0x1f5da2) * (_0x3c6ec0 - _0xabb7ac)), _0x3ade1b = ((_0x387a59 - _0x506012) * (_0xabb7ac - _0x117550) - (_0x3c6ec0 - _0xabb7ac) * (_0x506012 - _0x1f5da2)) / ((_0x9b9dd0 - _0x117550) * (_0x387a59 - _0x506012) - (_0x1b9192 - _0x1f5da2) * (_0x3c6ec0 - _0xabb7ac)); return _0xa43246 >= 0x0 && _0xa43246 <= 0x1 && _0x3ade1b >= 0x0 && _0x3ade1b <= 0x1; } function moveAlongPath(_0x4c6a05, _0x4ab1ef, _0x10d3a0, _0x2ec9e9) { var _0x585360 = _0x2ab462; if (pathIndex < 0x0 || pathIndex >= _0x4c6a05[_0x585360(0x29d)] - 0x1) return; wp = _0x4c6a05[pathIndex], isPoint = !![]; let _0x107c01 = wp['x'] - _0x4ab1ef['x'], _0x1be0cb = wp['y'] - _0x4ab1ef['y'], _0x4895dd = Math[_0x585360(0xfb)](_0x1be0cb, _0x107c01), _0x479c8f = _0x2ec9e9[_0x585360(0x1af)](_0xefd8e7 => lineSegmentIntersectsObstacle({ 'x': _0x4ab1ef['x'], 'y': _0x4ab1ef['y'] }, { 'x': wp['x'], 'y': wp['y'] }, { 'x': _0xefd8e7['x'] + 0x8, 'y': _0xefd8e7['y'] + 0x8, 'width': _0xefd8e7['width'] + 0x8, 'height': _0xefd8e7[_0x585360(0x25c)] + 0x8 })), _0x5c27dc = 0x1; if (_0x479c8f) { let _0x5c76c5 = self['getAngle'](_0x4ab1ef, _0x4c6a05[0x0]); _0x4ab1ef['vx'] = Math['cos'](_0x5c76c5) * _0x5c27dc, _0x4ab1ef['vy'] = Math[_0x585360(0x1f1)](_0x5c76c5) * _0x5c27dc; } else _0x4ab1ef['vx'] = Math[_0x585360(0x19e)](_0x4895dd) * _0x5c27dc, _0x4ab1ef['vy'] = Math[_0x585360(0x1f1)](_0x4895dd) * _0x5c27dc; _0x4c6a05['length'] > 0x0 && (_0x4ab1ef['x'] += _0x4ab1ef['vx'], _0x4ab1ef['y'] += _0x4ab1ef['vy'], pathIndex++), Math[_0x585360(0x20d)](Math[_0x585360(0xf8)](_0x4ab1ef['x']) - Math['round'](wp['x'])) < Math[_0x585360(0x20d)](_0x4ab1ef['vx']) && Math[_0x585360(0x20d)](Math[_0x585360(0xf8)](_0x4ab1ef['y']) - Math['round'](wp['y'])) < Math['abs'](_0x4ab1ef['vy']) && pathIndex < _0x4c6a05[_0x585360(0x29d)] - 0x1 && (pathIndex++, isPoint = !![], _0x4c6a05[_0x585360(0x16c)](0x0, pathIndex)); } class GridSize { constructor(_0x59defa, _0xe8283c) { var _0x2fe61b = _0x2ab462; this[_0x2fe61b(0x1f7)] = _0x59defa, this[_0x2fe61b(0x11c)] = gW / this[_0x2fe61b(0x1f7)], this['gridSize'] = this[_0x2fe61b(0x11c)]; } } class Snake extends GridSize { constructor(_0x2e1d30, _0x50971e, _0x4140d1, _0x3e640b, _0x55eee7, _0x3d1734) { var _0x330573 = _0x2ab462; super(_0x3e640b, _0x3d1734), this[_0x330573(0x1f7)] = _0x3e640b, this[_0x330573(0x2a0)] = _0x55eee7, this[_0x330573(0x24e)] = _0x2e1d30, this[_0x330573(0x257)] = { 'x': 0x0, 'y': 0x0 }, this['lost'] = ![], this[_0x330573(0x29d)] = 0x5, this[_0x330573(0x284)] = [], this[_0x330573(0x1b5)] = { 'x': 0x0, 'y': 0x0 }, this[_0x330573(0x1fc)] = { 'x': _0x50971e, 'y': _0x4140d1 }; } [_0x2ab462(0x259)]() { this['length']++; } [_0x2ab462(0x12d)]() { var _0x1956b9 = _0x2ab462; frame % 2.5 == 0x0 && (this[_0x1956b9(0x1fc)]['x'] += this[_0x1956b9(0x257)]['x'] * this[_0x1956b9(0x1f7)], this[_0x1956b9(0x1fc)]['y'] += this[_0x1956b9(0x257)]['y'] * this[_0x1956b9(0x1f7)], this[_0x1956b9(0x284)][_0x1956b9(0x143)]({ 'x': this[_0x1956b9(0x1fc)]['x'], 'y': this[_0x1956b9(0x1fc)]['y'] }), this[_0x1956b9(0x284)][_0x1956b9(0x29d)] > this[_0x1956b9(0x29d)] && this[_0x1956b9(0x284)][_0x1956b9(0x200)](), (this[_0x1956b9(0x284)][0x0]['x'] * self[_0x1956b9(0x293)] < 0x0 || Math[_0x1956b9(0xf8)]((this[_0x1956b9(0x284)][0x0]['x'] + this[_0x1956b9(0x1f7)]) * self[_0x1956b9(0x293)]) >= gW || Math[_0x1956b9(0xf8)](this[_0x1956b9(0x284)][0x0]['y'] * self[_0x1956b9(0x293)]) < 0x0 || Math[_0x1956b9(0xf8)]((this[_0x1956b9(0x284)][0x0]['y'] + this[_0x1956b9(0x1f7)]) * self['scale']) >= gH) && (this[_0x1956b9(0x211)] = !![]), (this[_0x1956b9(0x257)]['x'] == -this[_0x1956b9(0x1b5)]['x'] && this[_0x1956b9(0x257)]['x'] != 0x0 || this[_0x1956b9(0x257)]['y'] == -this[_0x1956b9(0x1b5)]['y'] && this['dir']['y'] != 0x0) && (this[_0x1956b9(0x211)] = !![]), this[_0x1956b9(0x1b5)]['x'] = this['dir']['x'], this[_0x1956b9(0x1b5)]['y'] = this[_0x1956b9(0x257)]['y']); } [_0x2ab462(0x28b)]() { var _0x24ac05 = _0x2ab462; for (var _0x3fb496 = 0x0; _0x3fb496 < this[_0x24ac05(0x284)][_0x24ac05(0x29d)]; _0x3fb496++) { _0x3fb496 == 0x0 ? buffer['fillStyle'] = this[_0x24ac05(0x24e)] : buffer[_0x24ac05(0xe9)] = this[_0x24ac05(0x2a0)], buffer[_0x24ac05(0x228)](Math['round'](this['segments'][_0x3fb496]['x'] * self[_0x24ac05(0x293)]), Math[_0x24ac05(0xf8)](this[_0x24ac05(0x284)][_0x3fb496]['y'] * self[_0x24ac05(0x293)]), Math[_0x24ac05(0xf8)](this[_0x24ac05(0x1f7)] * self['scale']), Math['round'](this[_0x24ac05(0x1f7)] * self['scale'])); } } [_0x2ab462(0x132)]() { var _0x5bbf03 = _0x2ab462; for (let _0x391715 = 0x0; _0x391715 < this['segments'][_0x5bbf03(0x29d)]; _0x391715++) { let _0x2fc7d1 = this[_0x5bbf03(0x284)][_0x391715]; _0x391715 > 0x5 && _0x2fc7d1['x'] === this[_0x5bbf03(0x1fc)]['x'] && _0x2fc7d1['y'] === this[_0x5bbf03(0x1fc)]['y'] && (this[_0x5bbf03(0x211)] = !![]); } } } function collidedFood(_0x76cd10, _0x3aeea1) { if (_0x76cd10['x'] == _0x3aeea1['x'] && _0x76cd10['y'] == _0x3aeea1['y']) return !![]; } class Food extends GridSize { constructor(_0x8275af, _0x4cd389, _0x4a4437) { var _0x50f1ed = _0x2ab462; super(_0x8275af, _0x4cd389), this[_0x50f1ed(0x1f7)] = _0x8275af, this['color'] = _0x4a4437, this[_0x50f1ed(0x1f5)] = ![], this[_0x50f1ed(0x255)] = new Image(), this[_0x50f1ed(0x19b)] = this[_0x50f1ed(0x1f7)], this[_0x50f1ed(0x274)](); } [_0x2ab462(0x274)]() { var _0x1138d5 = _0x2ab462; this[_0x1138d5(0x283)] = Math[_0x1138d5(0x27a)](Math[_0x1138d5(0x109)]() * this[_0x1138d5(0x1d8)]) * this['cellSize'], this['randomY'] = Math[_0x1138d5(0x27a)](Math[_0x1138d5(0x109)]() * this[_0x1138d5(0x1d8)]) * this[_0x1138d5(0x1f7)], this['x'] = this[_0x1138d5(0x283)], this['y'] = this[_0x1138d5(0x1c4)]; } ['update']() { var _0x42dea2 = _0x2ab462; (this['x'] * self['scale'] <= 0xf || (this['x'] + this[_0x42dea2(0x1f7)]) * self[_0x42dea2(0x293)] > gW || this['y'] * self[_0x42dea2(0x293)] <= 0xf || (this['y'] + this[_0x42dea2(0x1f7)]) * self[_0x42dea2(0x293)] > gH) && this[_0x42dea2(0x274)](); } [_0x2ab462(0x28b)]() { var _0x233fe7 = _0x2ab462; !this[_0x233fe7(0x1f5)] ? (buffer['fillStyle'] = this['color'], buffer[_0x233fe7(0x228)](Math[_0x233fe7(0xf8)](this['x'] * self['scale']), Math[_0x233fe7(0xf8)](this['y'] * self['scale']), Math[_0x233fe7(0xf8)](this['size'] * self[_0x233fe7(0x293)]), Math['round'](this[_0x233fe7(0x19b)] * self[_0x233fe7(0x293)]))) : buffer['drawImage'](this[_0x233fe7(0x255)], Math['round'](this['x'] * self[_0x233fe7(0x293)]), Math[_0x233fe7(0xf8)](this['y'] * self[_0x233fe7(0x293)]), Math[_0x233fe7(0xf8)](this[_0x233fe7(0x19b)] * self[_0x233fe7(0x293)]), Math[_0x233fe7(0xf8)](this['size'] * self[_0x233fe7(0x293)])); } } class TinyBar { constructor(_0x45fa7d, _0x326b4a, _0x202581, _0x38ae0b) { var _0x396310 = _0x2ab462; this['obj'] = _0x202581, this['x'] = this[_0x396310(0xe6)]['x'] + 0xa, this['y'] = _0x202581['y'], this['h'] = _0x45fa7d, this[_0x396310(0x2a0)] = _0x326b4a, this[_0x396310(0x155)] = _0x38ae0b, this[_0x396310(0x221)] = this['obj']['health'] * 1.3, this['w'] = this['obj']['health'] * 1.3, this['obj'][_0x396310(0x10e)] && (this['x'] = this['obj'][_0x396310(0x10e)] - this[_0x396310(0xe6)][_0x396310(0x188)] / 2.5, this['y'] = this['y'] - 0xa); } ['update'](_0x76620c) { var _0x44ac24 = _0x2ab462; this[_0x44ac24(0x111)] = _0x76620c, this['x'] = this[_0x44ac24(0xe6)]['x'] + 0xa, this['y'] = this['obj']['y'] - 0xa, this['w'] = this[_0x44ac24(0x111)] * 1.3; if (this['w'] <= 0x0) this['w'] = 0x0; this[_0x44ac24(0x237)](), this[_0x44ac24(0xe6)][_0x44ac24(0x10e)] && (this['x'] = this['obj'][_0x44ac24(0x10e)] - this[_0x44ac24(0xe6)][_0x44ac24(0x188)] / 2.5, this['y'] = this['y'] - 0xa); } [_0x2ab462(0x28b)]() { var _0x3dfcf3 = _0x2ab462; buffer[_0x3dfcf3(0x125)](this['x'], this['y'], this['w'], this['h']), buffer[_0x3dfcf3(0x27c)](), buffer[_0x3dfcf3(0x19d)] = this['borderColor'] || _0x3dfcf3(0x294), buffer[_0x3dfcf3(0x1b6)](this['x'] * self[_0x3dfcf3(0x293)], this['y'] * self[_0x3dfcf3(0x293)], this[_0x3dfcf3(0x221)] * self[_0x3dfcf3(0x293)], this['h'] * self['scale']), buffer[_0x3dfcf3(0xe9)] = this[_0x3dfcf3(0x2a0)], buffer[_0x3dfcf3(0x228)](this['x'] * self[_0x3dfcf3(0x293)], this['y'] * self[_0x3dfcf3(0x293)], this['w'] * self[_0x3dfcf3(0x293)], this['h'] * self[_0x3dfcf3(0x293)]), buffer['restore'](); } [_0x2ab462(0x237)]() { var _0x2c1481 = _0x2ab462; this['w'] <= 0x0 && (this[_0x2c1481(0x221)] = 0x0, this['w'] = 0x0, this['h'] = 0x0); } } let getEntityCount = function (_0x36fe16, _0x300b12, _0x4878bb) { let _0x2287a1 = setInterval(() => { var _0x2e1622 = _0x5814; if (loader) { if (!_0x300b12) { let _0xbee7f8 = self[_0x2e1622(0x246)](_0x36fe16); clearInterval(_0x2287a1), _0x4878bb(_0xbee7f8['length']); } else { let _0x468576 = self[_0x2e1622(0x246)](_0x36fe16); _0x468576[_0x2e1622(0x29d)] > maxEntity && (maxEntity = _0x468576[_0x2e1622(0x29d)]), clearInterval(_0x2287a1), _0x4878bb(maxEntity); } } }, 0x10); }; window[_0x2ab462(0x1cc)] = getEntityCount;
